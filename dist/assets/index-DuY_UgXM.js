function OI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function FI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bf={exports:{}},El={},zf={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function UI(){if(n0)return ke;n0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function k(F,Y,ge){this.props=F,this.context=Y,this.refs=V,this.updater=ge||A}k.prototype.isReactComponent={},k.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=k.prototype;function q(F,Y,ge){this.props=F,this.context=Y,this.refs=V,this.updater=ge||A}var G=q.prototype=new W;G.constructor=q,D(G,k.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,te=Object.prototype.hasOwnProperty,oe={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function S(F,Y,ge){var Pe,Re={},je=null,Ue=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)te.call(Y,Pe)&&!b.hasOwnProperty(Pe)&&(Re[Pe]=Y[Pe]);var Be=arguments.length-2;if(Be===1)Re.children=ge;else if(1<Be){for(var Ke=Array(Be),It=0;It<Be;It++)Ke[It]=arguments[It+2];Re.children=Ke}if(F&&F.defaultProps)for(Pe in Be=F.defaultProps,Be)Re[Pe]===void 0&&(Re[Pe]=Be[Pe]);return{$$typeof:n,type:F,key:je,ref:Ue,props:Re,_owner:oe.current}}function P(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return Y[ge]})}var U=/\/+/g;function R(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):Y.toString(36)}function Je(F,Y,ge,Pe,Re){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(je){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=F,Re=Re(Ue),F=Pe===""?"."+R(Ue,0):Pe,ne(Re)?(ge="",F!=null&&(ge=F.replace(U,"$&/")+"/"),Je(Re,Y,ge,"",function(It){return It})):Re!=null&&(N(Re)&&(Re=P(Re,ge+(!Re.key||Ue&&Ue.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+F)),Y.push(Re)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",ne(F))for(var Be=0;Be<F.length;Be++){je=F[Be];var Ke=Pe+R(je,Be);Ue+=Je(je,Y,ge,Ke,Re)}else if(Ke=x(F),typeof Ke=="function")for(F=Ke.call(F),Be=0;!(je=F.next()).done;)je=je.value,Ke=Pe+R(je,Be++),Ue+=Je(je,Y,ge,Ke,Re);else if(je==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function bt(F,Y,ge){if(F==null)return F;var Pe=[],Re=0;return Je(F,Pe,"","",function(je){return Y.call(ge,je,Re++)}),Pe}function Dt(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Ie={current:null},ie={transition:null},pe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ie,ReactCurrentOwner:oe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:bt,forEach:function(F,Y,ge){bt(F,function(){Y.apply(this,arguments)},ge)},count:function(F){var Y=0;return bt(F,function(){Y++}),Y},toArray:function(F){return bt(F,function(Y){return Y})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=k,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=q,ke.StrictMode=r,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ke.act=ae,ke.cloneElement=function(F,Y,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Pe=D({},F.props),Re=F.key,je=F.ref,Ue=F._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,Ue=oe.current),Y.key!==void 0&&(Re=""+Y.key),F.type&&F.type.defaultProps)var Be=F.type.defaultProps;for(Ke in Y)te.call(Y,Ke)&&!b.hasOwnProperty(Ke)&&(Pe[Ke]=Y[Ke]===void 0&&Be!==void 0?Be[Ke]:Y[Ke])}var Ke=arguments.length-2;if(Ke===1)Pe.children=ge;else if(1<Ke){Be=Array(Ke);for(var It=0;It<Ke;It++)Be[It]=arguments[It+2];Pe.children=Be}return{$$typeof:n,type:F.type,key:Re,ref:je,props:Pe,_owner:Ue}},ke.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},ke.createElement=S,ke.createFactory=function(F){var Y=S.bind(null,F);return Y.type=F,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:d,render:F}},ke.isValidElement=N,ke.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:Dt}},ke.memo=function(F,Y){return{$$typeof:p,type:F,compare:Y===void 0?null:Y}},ke.startTransition=function(F){var Y=ie.transition;ie.transition={};try{F()}finally{ie.transition=Y}},ke.unstable_act=ae,ke.useCallback=function(F,Y){return Ie.current.useCallback(F,Y)},ke.useContext=function(F){return Ie.current.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F){return Ie.current.useDeferredValue(F)},ke.useEffect=function(F,Y){return Ie.current.useEffect(F,Y)},ke.useId=function(){return Ie.current.useId()},ke.useImperativeHandle=function(F,Y,ge){return Ie.current.useImperativeHandle(F,Y,ge)},ke.useInsertionEffect=function(F,Y){return Ie.current.useInsertionEffect(F,Y)},ke.useLayoutEffect=function(F,Y){return Ie.current.useLayoutEffect(F,Y)},ke.useMemo=function(F,Y){return Ie.current.useMemo(F,Y)},ke.useReducer=function(F,Y,ge){return Ie.current.useReducer(F,Y,ge)},ke.useRef=function(F){return Ie.current.useRef(F)},ke.useState=function(F){return Ie.current.useState(F)},ke.useSyncExternalStore=function(F,Y,ge){return Ie.current.useSyncExternalStore(F,Y,ge)},ke.useTransition=function(){return Ie.current.useTransition()},ke.version="18.3.1",ke}var r0;function mm(){return r0||(r0=1,zf.exports=UI()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function BI(){if(i0)return El;i0=1;var n=mm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var _,w={},x=null,A=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(A=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:d,key:x,ref:A,props:w,_owner:s.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var s0;function zI(){return s0||(s0=1,Bf.exports=BI()),Bf.exports}var g=zI(),O=mm();const $I=FI(O),HI=OI({__proto__:null,default:$I},[O]);var Lc={},$f={exports:{}},cn={},Hf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function WI(){return o0||(o0=1,function(n){function e(ie,pe){var ae=ie.length;ie.push(pe);e:for(;0<ae;){var F=ae-1>>>1,Y=ie[F];if(0<s(Y,pe))ie[F]=pe,ie[ae]=Y,ae=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var pe=ie[0],ae=ie.pop();if(ae!==pe){ie[0]=ae;e:for(var F=0,Y=ie.length,ge=Y>>>1;F<ge;){var Pe=2*(F+1)-1,Re=ie[Pe],je=Pe+1,Ue=ie[je];if(0>s(Re,ae))je<Y&&0>s(Ue,Re)?(ie[F]=Ue,ie[je]=ae,F=je):(ie[F]=Re,ie[Pe]=ae,F=Pe);else if(je<Y&&0>s(Ue,ae))ie[F]=Ue,ie[je]=ae,F=je;else break e}}return pe}function s(ie,pe){var ae=ie.sortIndex-pe.sortIndex;return ae!==0?ae:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],_=1,w=null,x=3,A=!1,D=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ie){for(var pe=t(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=ie)r(p),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(p)}}function ne(ie){if(V=!1,G(ie),!D)if(t(f)!==null)D=!0,Dt(te);else{var pe=t(p);pe!==null&&Ie(ne,pe.startTime-ie)}}function te(ie,pe){D=!1,V&&(V=!1,W(S),S=-1),A=!0;var ae=x;try{for(G(pe),w=t(f);w!==null&&(!(w.expirationTime>pe)||ie&&!M());){var F=w.callback;if(typeof F=="function"){w.callback=null,x=w.priorityLevel;var Y=F(w.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&r(f),G(pe)}else r(f);w=t(f)}if(w!==null)var ge=!0;else{var Pe=t(p);Pe!==null&&Ie(ne,Pe.startTime-pe),ge=!1}return ge}finally{w=null,x=ae,A=!1}}var oe=!1,b=null,S=-1,P=5,N=-1;function M(){return!(n.unstable_now()-N<P)}function U(){if(b!==null){var ie=n.unstable_now();N=ie;var pe=!0;try{pe=b(!0,ie)}finally{pe?R():(oe=!1,b=null)}}else oe=!1}var R;if(typeof q=="function")R=function(){q(U)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,bt=Je.port2;Je.port1.onmessage=U,R=function(){bt.postMessage(null)}}else R=function(){k(U,0)};function Dt(ie){b=ie,oe||(oe=!0,R())}function Ie(ie,pe){S=k(function(){ie(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){D||A||(D=!0,Dt(te))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var pe=3;break;default:pe=x}var ae=x;x=pe;try{return ie()}finally{x=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=x;x=ie;try{return pe()}finally{x=ae}},n.unstable_scheduleCallback=function(ie,pe,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:_++,callback:pe,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>F?(ie.sortIndex=ae,e(p,ie),t(f)===null&&ie===t(p)&&(V?(W(S),S=-1):V=!0,Ie(ne,ae-F))):(ie.sortIndex=Y,e(f,ie),D||A||(D=!0,Dt(te))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var pe=x;return function(){var ae=x;x=pe;try{return ie.apply(this,arguments)}finally{x=ae}}}}(Wf)),Wf}var a0;function KI(){return a0||(a0=1,Hf.exports=WI()),Hf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function qI(){if(l0)return cn;l0=1;var n=mm(),e=KI();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function x(i){return f.call(w,i)?!0:f.call(_,i)?!1:p.test(i)?w[i]=!0:(_[i]=!0,!1)}function A(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,o,l,h){if(o===null||typeof o>"u"||A(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(i,o,l,h,m,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new V(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(W,q);k[o]=new V(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(W,q);k[o]=new V(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(W,q);k[o]=new V(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function G(i,o,l,h){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,l,m,h)&&(l=null),h||m===null?x(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),oe=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),bt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,F;function Y(i){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var ge=!1;function Pe(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){h=H}i.call(o.prototype)}else{try{throw Error()}catch(H){h=H}i()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),v=h.stack.split(`
`),E=m.length-1,C=v.length-1;1<=E&&0<=C&&m[E]!==v[C];)C--;for(;1<=E&&0<=C;E--,C--)if(m[E]!==v[C]){if(E!==1||C!==1)do if(E--,C--,0>C||m[E]!==v[C]){var j=`
`+m[E].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=E&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Re(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case oe:return"Portal";case P:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case Je:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case bt:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case Dt:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function It(i){var o=Ke(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ar(i){i._valueTracker||(i._valueTracker=It(i))}function Js(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Ke(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function oi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ss(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Zs(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Be(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ra(i,o){o=o.checked,o!=null&&G(i,"checked",o,!1)}function ka(i,o){Ra(i,o);var l=Be(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?eo(i,o.type,l):o.hasOwnProperty("defaultValue")&&eo(i,o.type,Be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Tu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function eo(i,o,l){(o!=="number"||oi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Pr=Array.isArray;function Cr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Na(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function to(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Be(l)}}function no(i,o){var l=Be(o.value),h=Be(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function ba(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rr,Da=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Rr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ai(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(i){as.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),os[o]=os[i]})});function Va(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||os.hasOwnProperty(i)&&os[i]?(""+o).trim():o+"px"}function ja(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Va(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Ma=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(i,o){if(o){if(Ma[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Oa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function ro(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var io=null,Sn=null,ir=null;function so(i){if(i=ll(i)){if(typeof io!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Ju(o),io(i.stateNode,i.type,o))}}function sr(i){Sn?ir?ir.push(i):ir=[i]:Sn=i}function Fa(){if(Sn){var i=Sn,o=ir;if(ir=Sn=null,so(i),o)for(i=0;i<o.length;i++)so(o[i])}}function us(i,o){return i(o)}function Ua(){}var kr=!1;function Ba(i,o,l){if(kr)return i(o,l);kr=!0;try{return us(i,o,l)}finally{kr=!1,(Sn!==null||ir!==null)&&(Ua(),Fa())}}function lt(i,o){var l=i.stateNode;if(l===null)return null;var h=Ju(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var oo=!1;if(d)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{oo=!1}function cs(i,o,l,h,m,v,E,C,j){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(J){this.onError(J)}}var hs=!1,ao=null,On=!1,za=null,pd={onError:function(i){hs=!0,ao=i}};function lo(i,o,l,h,m,v,E,C,j){hs=!1,ao=null,cs.apply(pd,arguments)}function Eu(i,o,l,h,m,v,E,C,j){if(lo.apply(this,arguments),hs){if(hs){var H=ao;hs=!1,ao=null}else throw Error(t(198));On||(On=!0,za=H)}}function Fn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ds(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Un(i){if(Fn(i)!==i)throw Error(t(188))}function Su(i){var o=i.alternate;if(!o){if(o=Fn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Un(m),i;if(v===h)return Un(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=v;else{for(var E=!1,C=m.child;C;){if(C===l){E=!0,l=m,h=v;break}if(C===h){E=!0,h=m,l=v;break}C=C.sibling}if(!E){for(C=v.child;C;){if(C===l){E=!0,l=v,h=m;break}if(C===h){E=!0,h=v,l=m;break}C=C.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function $a(i){return i=Su(i),i!==null?uo(i):null}function uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=uo(i);if(o!==null)return o;i=i.sibling}return null}var co=e.unstable_scheduleCallback,Ha=e.unstable_cancelCallback,Iu=e.unstable_shouldYield,md=e.unstable_requestPaint,qe=e.unstable_now,Au=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,Pu=e.unstable_IdlePriority,ps=null,pn=null;function Cu(i){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ps,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:ku,Ka=Math.log,Ru=Math.LN2;function ku(i){return i>>>=0,i===0?32:31-(Ka(i)/Ru|0)|0}var ho=64,fo=4194304;function ui(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ms(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes,E=l&268435455;if(E!==0){var C=E&~m;C!==0?h=ui(C):(v&=E,v!==0&&(h=ui(v)))}else E=l&~m,E!==0?h=ui(E):v!==0&&(h=ui(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Jt(o),m=1<<l,h|=i[l],o&=~m;return h}function gd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-Jt(v),C=1<<E,j=m[E];j===-1?((C&l)===0||(C&h)!==0)&&(m[E]=gd(C,o)):j<=o&&(i.expiredLanes|=C),v&=~C}}function mn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gs(){var i=ho;return ho<<=1,(ho&4194240)===0&&(ho=64),i}function ci(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function hi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Jt(o),i[o]=l}function We(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Jt(l),v=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~v}}function di(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Jt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var De=0;function fi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Nu,po,bu,Du,Vu,qa=!1,or=[],Vt=null,Bn=null,zn=null,pi=new Map,An=new Map,ar=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(i,o){switch(i){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":pi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(o.pointerId)}}function nn(i,o,l,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=ll(o),o!==null&&po(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function vd(i,o,l,h,m){switch(o){case"focusin":return Vt=nn(Vt,i,o,l,h,m),!0;case"dragenter":return Bn=nn(Bn,i,o,l,h,m),!0;case"mouseover":return zn=nn(zn,i,o,l,h,m),!0;case"pointerover":var v=m.pointerId;return pi.set(v,nn(pi.get(v)||null,i,o,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,An.set(v,nn(An.get(v)||null,i,o,l,h,m)),!0}return!1}function Mu(i){var o=xs(i.target);if(o!==null){var l=Fn(o);if(l!==null){if(o=l.tag,o===13){if(o=ds(l),o!==null){i.blockedOn=o,Vu(i.priority,function(){bu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function br(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=mo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ls=h,l.target.dispatchEvent(h),ls=null}else return o=ll(l),o!==null&&po(o),i.blockedOn=l,!1;o.shift()}return!0}function ys(i,o,l){br(i)&&l.delete(o)}function Lu(){qa=!1,Vt!==null&&br(Vt)&&(Vt=null),Bn!==null&&br(Bn)&&(Bn=null),zn!==null&&br(zn)&&(zn=null),pi.forEach(ys),An.forEach(ys)}function $n(i,o){i.blockedOn===o&&(i.blockedOn=null,qa||(qa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lu)))}function Hn(i){function o(m){return $n(m,i)}if(0<or.length){$n(or[0],i);for(var l=1;l<or.length;l++){var h=or[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Vt!==null&&$n(Vt,i),Bn!==null&&$n(Bn,i),zn!==null&&$n(zn,i),pi.forEach(o),An.forEach(o),l=0;l<ar.length;l++)h=ar[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)Mu(l),l.blockedOn===null&&ar.shift()}var Dr=ne.ReactCurrentBatchConfig,mi=!0;function Ze(i,o,l,h){var m=De,v=Dr.transition;Dr.transition=null;try{De=1,Ga(i,o,l,h)}finally{De=m,Dr.transition=v}}function _d(i,o,l,h){var m=De,v=Dr.transition;Dr.transition=null;try{De=4,Ga(i,o,l,h)}finally{De=m,Dr.transition=v}}function Ga(i,o,l,h){if(mi){var m=mo(i,o,l,h);if(m===null)kd(i,o,h,vs,l),ju(i,h);else if(vd(m,i,o,l,h))h.stopPropagation();else if(ju(i,h),o&4&&-1<yd.indexOf(i)){for(;m!==null;){var v=ll(m);if(v!==null&&Nu(v),v=mo(i,o,l,h),v===null&&kd(i,o,h,vs,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else kd(i,o,h,null,l)}}var vs=null;function mo(i,o,l,h){if(vs=null,i=ro(h),i=xs(i),i!==null)if(o=Fn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ds(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return vs=i,null}function Qa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Au()){case fs:return 1;case li:return 4;case In:case Wa:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var gn=null,go=null,rn=null;function Ya(){if(rn)return rn;var i,o=go,l=o.length,h,m="value"in gn?gn.value:gn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var E=l-i;for(h=1;h<=E&&o[l-h]===m[v-h];h++);return rn=m.slice(i,1<h?1-h:void 0)}function yo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Xa(){return!1}function jt(i){function o(l,h,m,v,E){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?lr:Xa,this.isPropagationStopped=Xa,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),o}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=jt(Wn),ur=ae({},Wn,{view:0,detail:0}),wd=jt(ur),_o,Vr,gi,_s=ae({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(_o=i.screenX-gi.screenX,Vr=i.screenY-gi.screenY):Vr=_o=0,gi=i),_o)},movementY:function(i){return"movementY"in i?i.movementY:Vr}}),wo=jt(_s),Ja=ae({},_s,{dataTransfer:0}),Ou=jt(Ja),xo=ae({},ur,{relatedTarget:0}),To=jt(xo),Fu=ae({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=jt(Fu),Uu=ae({},Wn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bu=jt(Uu),zu=ae({},Wn,{data:0}),Za=jt(zu),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$u[i])?!!o[i]:!1}function cr(){return Hu}var c=ae({},ur,{key:function(i){if(i.key){var o=Eo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=jt(c),T=ae({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=jt(T),B=ae({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),K=jt(B),se=ae({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=jt(se),_t=ae({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=jt(_t),At=[9,13,27,32],pt=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var yn=d&&"TextEvent"in window&&!Pn,ws=d&&(!pt||Pn&&8<Pn&&11>=Pn),So=" ",Yg=!1;function Xg(i,o){switch(i){case"keyup":return At.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function jS(i,o){switch(i){case"compositionend":return Jg(o);case"keypress":return o.which!==32?null:(Yg=!0,So);case"textInput":return i=o.data,i===So&&Yg?null:i;default:return null}}function MS(i,o){if(Io)return i==="compositionend"||!pt&&Xg(i,o)?(i=Ya(),rn=go=gn=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ws&&o.locale!=="ko"?null:o.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!LS[i.type]:o==="textarea"}function ey(i,o,l,h){sr(h),o=Qu(o,"onChange"),0<o.length&&(l=new vo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var el=null,tl=null;function OS(i){vy(i,0)}function Wu(i){var o=ko(i);if(Js(o))return i}function FS(i,o){if(i==="change")return o}var ty=!1;if(d){var xd;if(d){var Td="oninput"in document;if(!Td){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Td=typeof ny.oninput=="function"}xd=Td}else xd=!1;ty=xd&&(!document.documentMode||9<document.documentMode)}function ry(){el&&(el.detachEvent("onpropertychange",iy),tl=el=null)}function iy(i){if(i.propertyName==="value"&&Wu(tl)){var o=[];ey(o,tl,i,ro(i)),Ba(OS,o)}}function US(i,o,l){i==="focusin"?(ry(),el=o,tl=l,el.attachEvent("onpropertychange",iy)):i==="focusout"&&ry()}function BS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wu(tl)}function zS(i,o){if(i==="click")return Wu(o)}function $S(i,o){if(i==="input"||i==="change")return Wu(o)}function HS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Kn=typeof Object.is=="function"?Object.is:HS;function nl(i,o){if(Kn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Kn(i[m],o[m]))return!1}return!0}function sy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function oy(i,o){var l=sy(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sy(l)}}function ay(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ay(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ly(){for(var i=window,o=oi();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=oi(i.document)}return o}function Ed(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function WS(i){var o=ly(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&ay(l.ownerDocument.documentElement,l)){if(h!==null&&Ed(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!i.extend&&v>h&&(m=h,h=v,v=m),m=oy(l,v);var E=oy(l,h);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var KS=d&&"documentMode"in document&&11>=document.documentMode,Ao=null,Sd=null,rl=null,Id=!1;function uy(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Id||Ao==null||Ao!==oi(h)||(h=Ao,"selectionStart"in h&&Ed(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rl&&nl(rl,h)||(rl=h,h=Qu(Sd,"onSelect"),0<h.length&&(o=new vo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Ao)))}function Ku(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Po={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},Ad={},cy={};d&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function qu(i){if(Ad[i])return Ad[i];if(!Po[i])return i;var o=Po[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in cy)return Ad[i]=o[l];return i}var hy=qu("animationend"),dy=qu("animationiteration"),fy=qu("animationstart"),py=qu("transitionend"),my=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(i,o){my.set(i,o),a(o,[i])}for(var Pd=0;Pd<gy.length;Pd++){var Cd=gy[Pd],qS=Cd.toLowerCase(),GS=Cd[0].toUpperCase()+Cd.slice(1);yi(qS,"on"+GS)}yi(hy,"onAnimationEnd"),yi(dy,"onAnimationIteration"),yi(fy,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(py,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function yy(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Eu(h,o,void 0,i),i.currentTarget=null}function vy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var E=h.length-1;0<=E;E--){var C=h[E],j=C.instance,H=C.currentTarget;if(C=C.listener,j!==v&&m.isPropagationStopped())break e;yy(m,C,H),v=j}else for(E=0;E<h.length;E++){if(C=h[E],j=C.instance,H=C.currentTarget,C=C.listener,j!==v&&m.isPropagationStopped())break e;yy(m,C,H),v=j}}}if(On)throw i=za,On=!1,za=null,i}function Qe(i,o){var l=o[Md];l===void 0&&(l=o[Md]=new Set);var h=i+"__bubble";l.has(h)||(_y(o,i,2,!1),l.add(h))}function Rd(i,o,l){var h=0;o&&(h|=4),_y(l,i,h,o)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function sl(i){if(!i[Gu]){i[Gu]=!0,r.forEach(function(l){l!=="selectionchange"&&(QS.has(l)||Rd(l,!1,i),Rd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Gu]||(o[Gu]=!0,Rd("selectionchange",!1,o))}}function _y(i,o,l,h){switch(Qa(o)){case 1:var m=Ze;break;case 4:m=_d;break;default:m=Ga}l=m.bind(null,o,l,i),m=void 0,!oo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function kd(i,o,l,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;E=E.return}for(;C!==null;){if(E=xs(C),E===null)return;if(j=E.tag,j===5||j===6){h=v=E;continue e}C=C.parentNode}}h=h.return}Ba(function(){var H=v,J=ro(l),ee=[];e:{var X=my.get(i);if(X!==void 0){var le=vo,he=i;switch(i){case"keypress":if(yo(l)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":he="focus",le=To;break;case"focusout":he="blur",le=To;break;case"beforeblur":case"afterblur":le=To;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=K;break;case hy:case dy:case fy:le=jr;break;case py:le=He;break;case"scroll":le=wd;break;case"wheel":le=Me;break;case"copy":case"cut":case"paste":le=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var de=(o&4)!==0,ut=!de&&i==="scroll",z=de?X!==null?X+"Capture":null:X;de=[];for(var L=H,$;L!==null;){$=L;var re=$.stateNode;if($.tag===5&&re!==null&&($=re,z!==null&&(re=lt(L,z),re!=null&&de.push(ol(L,re,$)))),ut)break;L=L.return}0<de.length&&(X=new le(X,he,null,l,J),ee.push({event:X,listeners:de}))}}if((o&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",X&&l!==ls&&(he=l.relatedTarget||l.fromElement)&&(xs(he)||he[Mr]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=H,he=he?xs(he):null,he!==null&&(ut=Fn(he),he!==ut||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=H),le!==he)){if(de=wo,re="onMouseLeave",z="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(de=I,re="onPointerLeave",z="onPointerEnter",L="pointer"),ut=le==null?X:ko(le),$=he==null?X:ko(he),X=new de(re,L+"leave",le,l,J),X.target=ut,X.relatedTarget=$,re=null,xs(J)===H&&(de=new de(z,L+"enter",he,l,J),de.target=$,de.relatedTarget=ut,re=de),ut=re,le&&he)t:{for(de=le,z=he,L=0,$=de;$;$=Co($))L++;for($=0,re=z;re;re=Co(re))$++;for(;0<L-$;)de=Co(de),L--;for(;0<$-L;)z=Co(z),$--;for(;L--;){if(de===z||z!==null&&de===z.alternate)break t;de=Co(de),z=Co(z)}de=null}else de=null;le!==null&&wy(ee,X,le,de,!1),he!==null&&ut!==null&&wy(ee,ut,he,de,!0)}}e:{if(X=H?ko(H):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var fe=FS;else if(Zg(X))if(ty)fe=$S;else{fe=BS;var ye=US}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=zS);if(fe&&(fe=fe(i,H))){ey(ee,fe,l,J);break e}ye&&ye(i,X,H),i==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&eo(X,"number",X.value)}switch(ye=H?ko(H):window,i){case"focusin":(Zg(ye)||ye.contentEditable==="true")&&(Ao=ye,Sd=H,rl=null);break;case"focusout":rl=Sd=Ao=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,uy(ee,l,J);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":uy(ee,l,J)}var ve;if(pt)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Io?Xg(i,l)&&(Ee="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(ws&&l.locale!=="ko"&&(Io||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Io&&(ve=Ya()):(gn=J,go="value"in gn?gn.value:gn.textContent,Io=!0)),ye=Qu(H,Ee),0<ye.length&&(Ee=new Za(Ee,i,null,l,J),ee.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Jg(l),ve!==null&&(Ee.data=ve)))),(ve=yn?jS(i,l):MS(i,l))&&(H=Qu(H,"onBeforeInput"),0<H.length&&(J=new Za("onBeforeInput","beforeinput",null,l,J),ee.push({event:J,listeners:H}),J.data=ve))}vy(ee,o)})}function ol(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Qu(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=lt(i,l),v!=null&&h.unshift(ol(i,v,m)),v=lt(i,o),v!=null&&h.push(ol(i,v,m))),i=i.return}return h}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wy(i,o,l,h,m){for(var v=o._reactName,E=[];l!==null&&l!==h;){var C=l,j=C.alternate,H=C.stateNode;if(j!==null&&j===h)break;C.tag===5&&H!==null&&(C=H,m?(j=lt(l,v),j!=null&&E.unshift(ol(l,j,C))):m||(j=lt(l,v),j!=null&&E.push(ol(l,j,C)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var YS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function xy(i){return(typeof i=="string"?i:""+i).replace(YS,`
`).replace(XS,"")}function Yu(i,o,l){if(o=xy(o),xy(i)!==o&&l)throw Error(t(425))}function Xu(){}var Nd=null,bd=null;function Dd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(i){return Ty.resolve(null).then(i).catch(eI)}:Vd;function eI(i){setTimeout(function(){throw i})}function jd(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Hn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Hn(o)}function vi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ey(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ro,al="__reactProps$"+Ro,Mr="__reactContainer$"+Ro,Md="__reactEvents$"+Ro,tI="__reactListeners$"+Ro,nI="__reactHandles$"+Ro;function xs(i){var o=i[hr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Mr]||l[hr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Ey(i);i!==null;){if(l=i[hr])return l;i=Ey(i)}return o}i=l,l=i.parentNode}return null}function ll(i){return i=i[hr]||i[Mr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ko(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ju(i){return i[al]||null}var Ld=[],No=-1;function _i(i){return{current:i}}function Ye(i){0>No||(i.current=Ld[No],Ld[No]=null,No--)}function Ge(i,o){No++,Ld[No]=i.current,i.current=o}var wi={},zt=_i(wi),sn=_i(!1),Ts=wi;function bo(i,o){var l=i.type.contextTypes;if(!l)return wi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function on(i){return i=i.childContextTypes,i!=null}function Zu(){Ye(sn),Ye(zt)}function Sy(i,o,l){if(zt.current!==wi)throw Error(t(168));Ge(zt,o),Ge(sn,l)}function Iy(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ue(i)||"Unknown",m));return ae({},l,h)}function ec(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wi,Ts=zt.current,Ge(zt,i),Ge(sn,sn.current),!0}function Ay(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Iy(i,o,Ts),h.__reactInternalMemoizedMergedChildContext=i,Ye(sn),Ye(zt),Ge(zt,i)):Ye(sn),Ge(sn,l)}var Lr=null,tc=!1,Od=!1;function Py(i){Lr===null?Lr=[i]:Lr.push(i)}function rI(i){tc=!0,Py(i)}function xi(){if(!Od&&Lr!==null){Od=!0;var i=0,o=De;try{var l=Lr;for(De=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Lr=null,tc=!1}catch(m){throw Lr!==null&&(Lr=Lr.slice(i+1)),co(fs,xi),m}finally{De=o,Od=!1}}return null}var Do=[],Vo=0,nc=null,rc=0,Cn=[],Rn=0,Es=null,Or=1,Fr="";function Ss(i,o){Do[Vo++]=rc,Do[Vo++]=nc,nc=i,rc=o}function Cy(i,o,l){Cn[Rn++]=Or,Cn[Rn++]=Fr,Cn[Rn++]=Es,Es=i;var h=Or;i=Fr;var m=32-Jt(h)-1;h&=~(1<<m),l+=1;var v=32-Jt(o)+m;if(30<v){var E=m-m%5;v=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Or=1<<32-Jt(o)+m|l<<m|h,Fr=v+i}else Or=1<<v|l<<m|h,Fr=i}function Fd(i){i.return!==null&&(Ss(i,1),Cy(i,1,0))}function Ud(i){for(;i===nc;)nc=Do[--Vo],Do[Vo]=null,rc=Do[--Vo],Do[Vo]=null;for(;i===Es;)Es=Cn[--Rn],Cn[Rn]=null,Fr=Cn[--Rn],Cn[Rn]=null,Or=Cn[--Rn],Cn[Rn]=null}var vn=null,_n=null,et=!1,qn=null;function Ry(i,o){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function ky(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,vn=i,_n=vi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,vn=i,_n=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Es!==null?{id:Or,overflow:Fr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,vn=i,_n=null,!0):!1;default:return!1}}function Bd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zd(i){if(et){var o=_n;if(o){var l=o;if(!ky(i,o)){if(Bd(i))throw Error(t(418));o=vi(l.nextSibling);var h=vn;o&&ky(i,o)?Ry(h,l):(i.flags=i.flags&-4097|2,et=!1,vn=i)}}else{if(Bd(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,vn=i}}}function Ny(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vn=i}function ic(i){if(i!==vn)return!1;if(!et)return Ny(i),et=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Dd(i.type,i.memoizedProps)),o&&(o=_n)){if(Bd(i))throw by(),Error(t(418));for(;o;)Ry(i,o),o=vi(o.nextSibling)}if(Ny(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){_n=vi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}_n=null}}else _n=vn?vi(i.stateNode.nextSibling):null;return!0}function by(){for(var i=_n;i;)i=vi(i.nextSibling)}function jo(){_n=vn=null,et=!1}function $d(i){qn===null?qn=[i]:qn.push(i)}var iI=ne.ReactCurrentBatchConfig;function ul(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var C=m.refs;E===null?delete C[v]:C[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function sc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Dy(i){var o=i._init;return o(i._payload)}function Vy(i){function o(z,L){if(i){var $=z.deletions;$===null?(z.deletions=[L],z.flags|=16):$.push(L)}}function l(z,L){if(!i)return null;for(;L!==null;)o(z,L),L=L.sibling;return null}function h(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function m(z,L){return z=Ri(z,L),z.index=0,z.sibling=null,z}function v(z,L,$){return z.index=$,i?($=z.alternate,$!==null?($=$.index,$<L?(z.flags|=2,L):$):(z.flags|=2,L)):(z.flags|=1048576,L)}function E(z){return i&&z.alternate===null&&(z.flags|=2),z}function C(z,L,$,re){return L===null||L.tag!==6?(L=jf($,z.mode,re),L.return=z,L):(L=m(L,$),L.return=z,L)}function j(z,L,$,re){var fe=$.type;return fe===b?J(z,L,$.props.children,re,$.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Dt&&Dy(fe)===L.type)?(re=m(L,$.props),re.ref=ul(z,L,$),re.return=z,re):(re=Rc($.type,$.key,$.props,null,z.mode,re),re.ref=ul(z,L,$),re.return=z,re)}function H(z,L,$,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=Mf($,z.mode,re),L.return=z,L):(L=m(L,$.children||[]),L.return=z,L)}function J(z,L,$,re,fe){return L===null||L.tag!==7?(L=bs($,z.mode,re,fe),L.return=z,L):(L=m(L,$),L.return=z,L)}function ee(z,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=jf(""+L,z.mode,$),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case te:return $=Rc(L.type,L.key,L.props,null,z.mode,$),$.ref=ul(z,null,L),$.return=z,$;case oe:return L=Mf(L,z.mode,$),L.return=z,L;case Dt:var re=L._init;return ee(z,re(L._payload),$)}if(Pr(L)||pe(L))return L=bs(L,z.mode,$,null),L.return=z,L;sc(z,L)}return null}function X(z,L,$,re){var fe=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return fe!==null?null:C(z,L,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case te:return $.key===fe?j(z,L,$,re):null;case oe:return $.key===fe?H(z,L,$,re):null;case Dt:return fe=$._init,X(z,L,fe($._payload),re)}if(Pr($)||pe($))return fe!==null?null:J(z,L,$,re,null);sc(z,$)}return null}function le(z,L,$,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get($)||null,C(L,z,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case te:return z=z.get(re.key===null?$:re.key)||null,j(L,z,re,fe);case oe:return z=z.get(re.key===null?$:re.key)||null,H(L,z,re,fe);case Dt:var ye=re._init;return le(z,L,$,ye(re._payload),fe)}if(Pr(re)||pe(re))return z=z.get($)||null,J(L,z,re,fe,null);sc(L,re)}return null}function he(z,L,$,re){for(var fe=null,ye=null,ve=L,Ee=L=0,Rt=null;ve!==null&&Ee<$.length;Ee++){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var Fe=X(z,ve,$[Ee],re);if(Fe===null){ve===null&&(ve=Rt);break}i&&ve&&Fe.alternate===null&&o(z,ve),L=v(Fe,L,Ee),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe,ve=Rt}if(Ee===$.length)return l(z,ve),et&&Ss(z,Ee),fe;if(ve===null){for(;Ee<$.length;Ee++)ve=ee(z,$[Ee],re),ve!==null&&(L=v(ve,L,Ee),ye===null?fe=ve:ye.sibling=ve,ye=ve);return et&&Ss(z,Ee),fe}for(ve=h(z,ve);Ee<$.length;Ee++)Rt=le(ve,z,Ee,$[Ee],re),Rt!==null&&(i&&Rt.alternate!==null&&ve.delete(Rt.key===null?Ee:Rt.key),L=v(Rt,L,Ee),ye===null?fe=Rt:ye.sibling=Rt,ye=Rt);return i&&ve.forEach(function(ki){return o(z,ki)}),et&&Ss(z,Ee),fe}function de(z,L,$,re){var fe=pe($);if(typeof fe!="function")throw Error(t(150));if($=fe.call($),$==null)throw Error(t(151));for(var ye=fe=null,ve=L,Ee=L=0,Rt=null,Fe=$.next();ve!==null&&!Fe.done;Ee++,Fe=$.next()){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var ki=X(z,ve,Fe.value,re);if(ki===null){ve===null&&(ve=Rt);break}i&&ve&&ki.alternate===null&&o(z,ve),L=v(ki,L,Ee),ye===null?fe=ki:ye.sibling=ki,ye=ki,ve=Rt}if(Fe.done)return l(z,ve),et&&Ss(z,Ee),fe;if(ve===null){for(;!Fe.done;Ee++,Fe=$.next())Fe=ee(z,Fe.value,re),Fe!==null&&(L=v(Fe,L,Ee),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return et&&Ss(z,Ee),fe}for(ve=h(z,ve);!Fe.done;Ee++,Fe=$.next())Fe=le(ve,z,Ee,Fe.value,re),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ee:Fe.key),L=v(Fe,L,Ee),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return i&&ve.forEach(function(LI){return o(z,LI)}),et&&Ss(z,Ee),fe}function ut(z,L,$,re){if(typeof $=="object"&&$!==null&&$.type===b&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case te:e:{for(var fe=$.key,ye=L;ye!==null;){if(ye.key===fe){if(fe=$.type,fe===b){if(ye.tag===7){l(z,ye.sibling),L=m(ye,$.props.children),L.return=z,z=L;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Dt&&Dy(fe)===ye.type){l(z,ye.sibling),L=m(ye,$.props),L.ref=ul(z,ye,$),L.return=z,z=L;break e}l(z,ye);break}else o(z,ye);ye=ye.sibling}$.type===b?(L=bs($.props.children,z.mode,re,$.key),L.return=z,z=L):(re=Rc($.type,$.key,$.props,null,z.mode,re),re.ref=ul(z,L,$),re.return=z,z=re)}return E(z);case oe:e:{for(ye=$.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){l(z,L.sibling),L=m(L,$.children||[]),L.return=z,z=L;break e}else{l(z,L);break}else o(z,L);L=L.sibling}L=Mf($,z.mode,re),L.return=z,z=L}return E(z);case Dt:return ye=$._init,ut(z,L,ye($._payload),re)}if(Pr($))return he(z,L,$,re);if(pe($))return de(z,L,$,re);sc(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(l(z,L.sibling),L=m(L,$),L.return=z,z=L):(l(z,L),L=jf($,z.mode,re),L.return=z,z=L),E(z)):l(z,L)}return ut}var Mo=Vy(!0),jy=Vy(!1),oc=_i(null),ac=null,Lo=null,Hd=null;function Wd(){Hd=Lo=ac=null}function Kd(i){var o=oc.current;Ye(oc),i._currentValue=o}function qd(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Oo(i,o){ac=i,Hd=Lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(an=!0),i.firstContext=null)}function kn(i){var o=i._currentValue;if(Hd!==i)if(i={context:i,memoizedValue:o,next:null},Lo===null){if(ac===null)throw Error(t(308));Lo=i,ac.dependencies={lanes:0,firstContext:i}}else Lo=Lo.next=i;return o}var Is=null;function Gd(i){Is===null?Is=[i]:Is.push(i)}function My(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Gd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Ur(i,h)}function Ur(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ti=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Br(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ei(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Ur(i,l)}return m=h.interleaved,m===null?(o.next=o,Gd(h)):(o.next=m.next,m.next=o),h.interleaved=o,Ur(i,l)}function lc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,di(i,l)}}function Oy(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function uc(i,o,l,h){var m=i.updateQueue;Ti=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var j=C,H=j.next;j.next=null,E===null?v=H:E.next=H,E=j;var J=i.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==E&&(C===null?J.firstBaseUpdate=H:C.next=H,J.lastBaseUpdate=j))}if(v!==null){var ee=m.baseState;E=0,J=H=j=null,C=v;do{var X=C.lane,le=C.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=i,de=C;switch(X=o,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){ee=he.call(le,ee,X);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,X=typeof he=="function"?he.call(le,ee,X):he,X==null)break e;ee=ae({},ee,X);break e;case 2:Ti=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,X=m.effects,X===null?m.effects=[C]:X.push(C))}else le={eventTime:le,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(H=J=le,j=ee):J=J.next=le,E|=X;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;X=C,C=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(J===null&&(j=ee),m.baseState=j,m.firstBaseUpdate=H,m.lastBaseUpdate=J,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Cs|=E,i.lanes=E,i.memoizedState=ee}}function Fy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var cl={},dr=_i(cl),hl=_i(cl),dl=_i(cl);function As(i){if(i===cl)throw Error(t(174));return i}function Yd(i,o){switch(Ge(dl,o),Ge(hl,i),Ge(dr,cl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:vt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=vt(o,i)}Ye(dr),Ge(dr,o)}function Fo(){Ye(dr),Ye(hl),Ye(dl)}function Uy(i){As(dl.current);var o=As(dr.current),l=vt(o,i.type);o!==l&&(Ge(hl,i),Ge(dr,l))}function Xd(i){hl.current===i&&(Ye(dr),Ye(hl))}var nt=_i(0);function cc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jd=[];function Zd(){for(var i=0;i<Jd.length;i++)Jd[i]._workInProgressVersionPrimary=null;Jd.length=0}var hc=ne.ReactCurrentDispatcher,ef=ne.ReactCurrentBatchConfig,Ps=0,rt=null,wt=null,Pt=null,dc=!1,fl=!1,pl=0,sI=0;function $t(){throw Error(t(321))}function tf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Kn(i[l],o[l]))return!1;return!0}function nf(i,o,l,h,m,v){if(Ps=v,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hc.current=i===null||i.memoizedState===null?uI:cI,i=l(h,m),fl){v=0;do{if(fl=!1,pl=0,25<=v)throw Error(t(301));v+=1,Pt=wt=null,o.updateQueue=null,hc.current=hI,i=l(h,m)}while(fl)}if(hc.current=mc,o=wt!==null&&wt.next!==null,Ps=0,Pt=wt=rt=null,dc=!1,o)throw Error(t(300));return i}function rf(){var i=pl!==0;return pl=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Nn(){if(wt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var o=Pt===null?rt.memoizedState:Pt.next;if(o!==null)Pt=o,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function ml(i,o){return typeof o=="function"?o(i):o}function sf(i){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=wt,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var C=E=null,j=null,H=v;do{var J=H.lane;if((Ps&J)===J)j!==null&&(j=j.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:i(h,H.action);else{var ee={lane:J,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};j===null?(C=j=ee,E=h):j=j.next=ee,rt.lanes|=J,Cs|=J}H=H.next}while(H!==null&&H!==v);j===null?E=h:j.next=C,Kn(h,o.memoizedState)||(an=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=j,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do v=m.lane,rt.lanes|=v,Cs|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function of(i){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Kn(v,o.memoizedState)||(an=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function By(){}function zy(i,o){var l=rt,h=Nn(),m=o(),v=!Kn(h.memoizedState,m);if(v&&(h.memoizedState=m,an=!0),h=h.queue,af(Wy.bind(null,l,h,i),[i]),h.getSnapshot!==o||v||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,gl(9,Hy.bind(null,l,h,m,o),void 0,null),Ct===null)throw Error(t(349));(Ps&30)!==0||$y(l,o,m)}return m}function $y(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Hy(i,o,l,h){o.value=l,o.getSnapshot=h,Ky(o)&&qy(i)}function Wy(i,o,l){return l(function(){Ky(o)&&qy(i)})}function Ky(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Kn(i,l)}catch{return!0}}function qy(i){var o=Ur(i,1);o!==null&&Xn(o,i,1,-1)}function Gy(i){var o=fr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:i},o.queue=i,i=i.dispatch=lI.bind(null,rt,i),[o.memoizedState,i]}function gl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Qy(){return Nn().memoizedState}function fc(i,o,l,h){var m=fr();rt.flags|=i,m.memoizedState=gl(1|o,l,void 0,h===void 0?null:h)}function pc(i,o,l,h){var m=Nn();h=h===void 0?null:h;var v=void 0;if(wt!==null){var E=wt.memoizedState;if(v=E.destroy,h!==null&&tf(h,E.deps)){m.memoizedState=gl(o,l,v,h);return}}rt.flags|=i,m.memoizedState=gl(1|o,l,v,h)}function Yy(i,o){return fc(8390656,8,i,o)}function af(i,o){return pc(2048,8,i,o)}function Xy(i,o){return pc(4,2,i,o)}function Jy(i,o){return pc(4,4,i,o)}function Zy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ev(i,o,l){return l=l!=null?l.concat([i]):null,pc(4,4,Zy.bind(null,o,i),l)}function lf(){}function tv(i,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&tf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function nv(i,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&tf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function rv(i,o,l){return(Ps&21)===0?(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=l):(Kn(l,o)||(l=gs(),rt.lanes|=l,Cs|=l,i.baseState=!0),o)}function oI(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var h=ef.transition;ef.transition={};try{i(!1),o()}finally{De=l,ef.transition=h}}function iv(){return Nn().memoizedState}function aI(i,o,l){var h=Pi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},sv(i))ov(o,l);else if(l=My(i,o,l,h),l!==null){var m=tn();Xn(l,i,h,m),av(l,o,h)}}function lI(i,o,l){var h=Pi(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(sv(i))ov(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,C=v(E,l);if(m.hasEagerState=!0,m.eagerState=C,Kn(C,E)){var j=o.interleaved;j===null?(m.next=m,Gd(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}l=My(i,o,m,h),l!==null&&(m=tn(),Xn(l,i,h,m),av(l,o,h))}}function sv(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function ov(i,o){fl=dc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function av(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,di(i,l)}}var mc={readContext:kn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},uI={readContext:kn,useCallback:function(i,o){return fr().memoizedState=[i,o===void 0?null:o],i},useContext:kn,useEffect:Yy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,fc(4194308,4,Zy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return fc(4194308,4,i,o)},useInsertionEffect:function(i,o){return fc(4,2,i,o)},useMemo:function(i,o){var l=fr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=fr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=aI.bind(null,rt,i),[h.memoizedState,i]},useRef:function(i){var o=fr();return i={current:i},o.memoizedState=i},useState:Gy,useDebugValue:lf,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=Gy(!1),o=i[0];return i=oI.bind(null,i[1]),fr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=rt,m=fr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ct===null)throw Error(t(349));(Ps&30)!==0||$y(h,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,Yy(Wy.bind(null,h,v,i),[i]),h.flags|=2048,gl(9,Hy.bind(null,h,v,l,o),void 0,null),l},useId:function(){var i=fr(),o=Ct.identifierPrefix;if(et){var l=Fr,h=Or;l=(h&~(1<<32-Jt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=pl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=sI++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},cI={readContext:kn,useCallback:tv,useContext:kn,useEffect:af,useImperativeHandle:ev,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:nv,useReducer:sf,useRef:Qy,useState:function(){return sf(ml)},useDebugValue:lf,useDeferredValue:function(i){var o=Nn();return rv(o,wt.memoizedState,i)},useTransition:function(){var i=sf(ml)[0],o=Nn().memoizedState;return[i,o]},useMutableSource:By,useSyncExternalStore:zy,useId:iv,unstable_isNewReconciler:!1},hI={readContext:kn,useCallback:tv,useContext:kn,useEffect:af,useImperativeHandle:ev,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:nv,useReducer:of,useRef:Qy,useState:function(){return of(ml)},useDebugValue:lf,useDeferredValue:function(i){var o=Nn();return wt===null?o.memoizedState=i:rv(o,wt.memoizedState,i)},useTransition:function(){var i=of(ml)[0],o=Nn().memoizedState;return[i,o]},useMutableSource:By,useSyncExternalStore:zy,useId:iv,unstable_isNewReconciler:!1};function Gn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function uf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var gc={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=tn(),m=Pi(i),v=Br(h,m);v.payload=o,l!=null&&(v.callback=l),o=Ei(i,v,m),o!==null&&(Xn(o,i,m,h),lc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=tn(),m=Pi(i),v=Br(h,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Ei(i,v,m),o!==null&&(Xn(o,i,m,h),lc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=tn(),h=Pi(i),m=Br(l,h);m.tag=2,o!=null&&(m.callback=o),o=Ei(i,m,h),o!==null&&(Xn(o,i,h,l),lc(o,i,h))}};function lv(i,o,l,h,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,E):o.prototype&&o.prototype.isPureReactComponent?!nl(l,h)||!nl(m,v):!0}function uv(i,o,l){var h=!1,m=wi,v=o.contextType;return typeof v=="object"&&v!==null?v=kn(v):(m=on(o)?Ts:zt.current,h=o.contextTypes,v=(h=h!=null)?bo(i,m):wi),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=gc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function cv(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&gc.enqueueReplaceState(o,o.state,null)}function cf(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Qd(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=kn(v):(v=on(o)?Ts:zt.current,m.context=bo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(uf(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&gc.enqueueReplaceState(m,m.state,null),uc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Uo(i,o){try{var l="",h=o;do l+=Re(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function hf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function df(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var dI=typeof WeakMap=="function"?WeakMap:Map;function hv(i,o,l){l=Br(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Ec||(Ec=!0,Pf=h),df(i,o)},l}function dv(i,o,l){l=Br(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){df(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){df(i,o),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function fv(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new dI;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=AI.bind(null,i,o,l),o.then(i,i))}function pv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function mv(i,o,l,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Br(-1,1),o.tag=2,Ei(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var fI=ne.ReactCurrentOwner,an=!1;function en(i,o,l,h){o.child=i===null?jy(o,null,l,h):Mo(o,i.child,l,h)}function gv(i,o,l,h,m){l=l.render;var v=o.ref;return Oo(o,m),h=nf(i,o,l,h,v,m),l=rf(),i!==null&&!an?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,zr(i,o,m)):(et&&l&&Fd(o),o.flags|=1,en(i,o,h,m),o.child)}function yv(i,o,l,h,m){if(i===null){var v=l.type;return typeof v=="function"&&!Vf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,vv(i,o,v,h,m)):(i=Rc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(E,h)&&i.ref===o.ref)return zr(i,o,m)}return o.flags|=1,i=Ri(v,h),i.ref=o.ref,i.return=o,o.child=i}function vv(i,o,l,h,m){if(i!==null){var v=i.memoizedProps;if(nl(v,h)&&i.ref===o.ref)if(an=!1,o.pendingProps=h=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(an=!0);else return o.lanes=i.lanes,zr(i,o,m)}return ff(i,o,l,h,m)}function _v(i,o,l){var h=o.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(zo,wn),wn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ge(zo,wn),wn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ge(zo,wn),wn|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,Ge(zo,wn),wn|=h;return en(i,o,m,l),o.child}function wv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function ff(i,o,l,h,m){var v=on(l)?Ts:zt.current;return v=bo(o,v),Oo(o,m),l=nf(i,o,l,h,v,m),h=rf(),i!==null&&!an?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,zr(i,o,m)):(et&&h&&Fd(o),o.flags|=1,en(i,o,l,m),o.child)}function xv(i,o,l,h,m){if(on(l)){var v=!0;ec(o)}else v=!1;if(Oo(o,m),o.stateNode===null)vc(i,o),uv(o,l,h),cf(o,l,h,m),h=!0;else if(i===null){var E=o.stateNode,C=o.memoizedProps;E.props=C;var j=E.context,H=l.contextType;typeof H=="object"&&H!==null?H=kn(H):(H=on(l)?Ts:zt.current,H=bo(o,H));var J=l.getDerivedStateFromProps,ee=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||j!==H)&&cv(o,E,h,H),Ti=!1;var X=o.memoizedState;E.state=X,uc(o,h,E,m),j=o.memoizedState,C!==h||X!==j||sn.current||Ti?(typeof J=="function"&&(uf(o,l,J,h),j=o.memoizedState),(C=Ti||lv(o,l,C,h,X,j,H))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),E.props=h,E.state=j,E.context=H,h=C):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Ly(i,o),C=o.memoizedProps,H=o.type===o.elementType?C:Gn(o.type,C),E.props=H,ee=o.pendingProps,X=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=kn(j):(j=on(l)?Ts:zt.current,j=bo(o,j));var le=l.getDerivedStateFromProps;(J=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ee||X!==j)&&cv(o,E,h,j),Ti=!1,X=o.memoizedState,E.state=X,uc(o,h,E,m);var he=o.memoizedState;C!==ee||X!==he||sn.current||Ti?(typeof le=="function"&&(uf(o,l,le,h),he=o.memoizedState),(H=Ti||lv(o,l,H,h,X,he,j)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,j)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=he),E.props=h,E.state=he,E.context=j,h=H):(typeof E.componentDidUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),h=!1)}return pf(i,o,l,h,v,m)}function pf(i,o,l,h,m,v){wv(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return m&&Ay(o,l,!1),zr(i,o,v);h=o.stateNode,fI.current=o;var C=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=Mo(o,i.child,null,v),o.child=Mo(o,null,C,v)):en(i,o,C,v),o.memoizedState=h.state,m&&Ay(o,l,!0),o.child}function Tv(i){var o=i.stateNode;o.pendingContext?Sy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Sy(i,o.context,!1),Yd(i,o.containerInfo)}function Ev(i,o,l,h,m){return jo(),$d(m),o.flags|=256,en(i,o,l,h),o.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Sv(i,o,l){var h=o.pendingProps,m=nt.current,v=!1,E=(o.flags&128)!==0,C;if((C=E)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ge(nt,m&1),i===null)return zd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,i=h.fallback,v?(h=o.mode,v=o.child,E={mode:"hidden",children:E},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=kc(E,h,0,null),i=bs(i,h,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=gf(l),o.memoizedState=mf,i):yf(o,E));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return pI(i,o,E,h,C,m,l);if(v){v=h.fallback,E=o.mode,m=i.child,C=m.sibling;var j={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=Ri(m,j),h.subtreeFlags=m.subtreeFlags&14680064),C!==null?v=Ri(C,v):(v=bs(v,E,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,E=i.child.memoizedState,E=E===null?gf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~l,o.memoizedState=mf,h}return v=i.child,i=v.sibling,h=Ri(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function yf(i,o){return o=kc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function yc(i,o,l,h){return h!==null&&$d(h),Mo(o,i.child,null,l),i=yf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function pI(i,o,l,h,m,v,E){if(l)return o.flags&256?(o.flags&=-257,h=hf(Error(t(422))),yc(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=kc({mode:"visible",children:h.children},m,0,null),v=bs(v,m,E,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&Mo(o,i.child,null,E),o.child.memoizedState=gf(E),o.memoizedState=mf,v);if((o.mode&1)===0)return yc(i,o,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var C=h.dgst;return h=C,v=Error(t(419)),h=hf(v,h,void 0),yc(i,o,E,h)}if(C=(E&i.childLanes)!==0,an||C){if(h=Ct,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|E))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ur(i,m),Xn(h,i,m,-1))}return Df(),h=hf(Error(t(421))),yc(i,o,E,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=PI.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,_n=vi(m.nextSibling),vn=o,et=!0,qn=null,i!==null&&(Cn[Rn++]=Or,Cn[Rn++]=Fr,Cn[Rn++]=Es,Or=i.id,Fr=i.overflow,Es=o),o=yf(o,h.children),o.flags|=4096,o)}function Iv(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),qd(i.return,o,l)}function vf(i,o,l,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function Av(i,o,l){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(en(i,o,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Iv(i,l,o);else if(i.tag===19)Iv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ge(nt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&cc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),vf(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&cc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}vf(o,!0,l,null,v);break;case"together":vf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function vc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function zr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Cs|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Ri(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ri(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function mI(i,o,l){switch(o.tag){case 3:Tv(o),jo();break;case 5:Uy(o);break;case 1:on(o.type)&&ec(o);break;case 4:Yd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Ge(oc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ge(nt,nt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Sv(i,o,l):(Ge(nt,nt.current&1),i=zr(i,o,l),i!==null?i.sibling:null);Ge(nt,nt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Av(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(nt,nt.current),h)break;return null;case 22:case 23:return o.lanes=0,_v(i,o,l)}return zr(i,o,l)}var Pv,_f,Cv,Rv;Pv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},_f=function(){},Cv=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,As(dr.current);var v=null;switch(l){case"input":m=ss(i,m),h=ss(i,h),v=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),v=[];break;case"textarea":m=Na(i,m),h=Na(i,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Xu)}La(l,h);var E;l=null;for(H in m)if(!h.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var C=m[H];for(E in C)C.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in h){var j=h[H];if(C=m!=null?m[H]:void 0,h.hasOwnProperty(H)&&j!==C&&(j!=null||C!=null))if(H==="style")if(C){for(E in C)!C.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&C[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(v||(v=[]),v.push(H,l)),l=j;else H==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,C=C?C.__html:void 0,j!=null&&C!==j&&(v=v||[]).push(H,j)):H==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(H,""+j):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(j!=null&&H==="onScroll"&&Qe("scroll",i),v||C===j||(v=[])):(v=v||[]).push(H,j))}l&&(v=v||[]).push("style",l);var H=v;(o.updateQueue=H)&&(o.flags|=4)}},Rv=function(i,o,l,h){l!==h&&(o.flags|=4)};function yl(i,o){if(!et)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function gI(i,o,l){var h=o.pendingProps;switch(Ud(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return on(o.type)&&Zu(),Ht(o),null;case 3:return h=o.stateNode,Fo(),Ye(sn),Ye(zt),Zd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ic(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qn!==null&&(kf(qn),qn=null))),_f(i,o),Ht(o),null;case 5:Xd(o);var m=As(dl.current);if(l=o.type,i!==null&&o.stateNode!=null)Cv(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(i=As(dr.current),ic(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[hr]=o,h[al]=v,i=(o.mode&1)!==0,l){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(m=0;m<il.length;m++)Qe(il[m],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":Zs(h,v),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",h);break;case"textarea":to(h,v),Qe("invalid",h)}La(l,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var C=v[E];E==="children"?typeof C=="string"?h.textContent!==C&&(v.suppressHydrationWarning!==!0&&Yu(h.textContent,C,i),m=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&Yu(h.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Qe("scroll",h)}switch(l){case"input":Ar(h),Tu(h,v,!0);break;case"textarea":Ar(h),ba(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Xu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[hr]=o,i[al]=h,Pv(i,o,!1,!1),o.stateNode=i;e:{switch(E=Oa(l,h),l){case"dialog":Qe("cancel",i),Qe("close",i),m=h;break;case"iframe":case"object":case"embed":Qe("load",i),m=h;break;case"video":case"audio":for(m=0;m<il.length;m++)Qe(il[m],i);m=h;break;case"source":Qe("error",i),m=h;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=h;break;case"details":Qe("toggle",i),m=h;break;case"input":Zs(i,h),m=ss(i,h),Qe("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),Qe("invalid",i);break;case"textarea":to(i,h),m=Na(i,h),Qe("invalid",i);break;default:m=h}La(l,m),C=m;for(v in C)if(C.hasOwnProperty(v)){var j=C[v];v==="style"?ja(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Da(i,j)):v==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&ai(i,j):typeof j=="number"&&ai(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Qe("scroll",i):j!=null&&G(i,v,j,E))}switch(l){case"input":Ar(i),Tu(i,h,!1);break;case"textarea":Ar(i),ba(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Be(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Cr(i,!!h.multiple,v,!1):h.defaultValue!=null&&Cr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Xu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(i&&o.stateNode!=null)Rv(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=As(dl.current),As(dr.current),ic(o)){if(h=o.stateNode,l=o.memoizedProps,h[hr]=o,(v=h.nodeValue!==l)&&(i=vn,i!==null))switch(i.tag){case 3:Yu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yu(h.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[hr]=o,o.stateNode=h}return Ht(o),null;case 13:if(Ye(nt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&_n!==null&&(o.mode&1)!==0&&(o.flags&128)===0)by(),jo(),o.flags|=98560,v=!1;else if(v=ic(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[hr]=o}else jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else qn!==null&&(kf(qn),qn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(nt.current&1)!==0?xt===0&&(xt=3):Df())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Fo(),_f(i,o),i===null&&sl(o.stateNode.containerInfo),Ht(o),null;case 10:return Kd(o.type._context),Ht(o),null;case 17:return on(o.type)&&Zu(),Ht(o),null;case 19:if(Ye(nt),v=o.memoizedState,v===null)return Ht(o),null;if(h=(o.flags&128)!==0,E=v.rendering,E===null)if(h)yl(v,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=cc(i),E!==null){for(o.flags|=128,yl(v,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,i=h,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ge(nt,nt.current&1|2),o.child}i=i.sibling}v.tail!==null&&qe()>$o&&(o.flags|=128,h=!0,yl(v,!1),o.lanes=4194304)}else{if(!h)if(i=cc(E),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),yl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!et)return Ht(o),null}else 2*qe()-v.renderingStartTime>$o&&l!==1073741824&&(o.flags|=128,h=!0,yl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(l=v.last,l!==null?l.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=qe(),o.sibling=null,l=nt.current,Ge(nt,h?l&1|2:l&1),o):(Ht(o),null);case 22:case 23:return bf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(wn&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function yI(i,o){switch(Ud(o),o.tag){case 1:return on(o.type)&&Zu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Fo(),Ye(sn),Ye(zt),Zd(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Xd(o),null;case 13:if(Ye(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));jo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(nt),null;case 4:return Fo(),null;case 10:return Kd(o.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var _c=!1,Wt=!1,vI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Bo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(i,o,h)}else l.current=null}function wf(i,o,l){try{l()}catch(h){ot(i,o,h)}}var kv=!1;function _I(i,o){if(Nd=mi,i=ly(),Ed(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,C=-1,j=-1,H=0,J=0,ee=i,X=null;t:for(;;){for(var le;ee!==l||m!==0&&ee.nodeType!==3||(C=E+m),ee!==v||h!==0&&ee.nodeType!==3||(j=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(le=ee.firstChild)!==null;)X=ee,ee=le;for(;;){if(ee===i)break t;if(X===l&&++H===m&&(C=E),X===v&&++J===h&&(j=E),(le=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=le}l=C===-1||j===-1?null:{start:C,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(bd={focusedElem:i,selectionRange:l},mi=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ut=he.memoizedState,z=o.stateNode,L=z.getSnapshotBeforeUpdate(o.elementType===o.type?de:Gn(o.type,de),ut);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ot(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return he=kv,kv=!1,he}function vl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&wf(o,l,v)}m=m.next}while(m!==h)}}function wc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function xf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Nv(i){var o=i.alternate;o!==null&&(i.alternate=null,Nv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[hr],delete o[al],delete o[Md],delete o[tI],delete o[nI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function bv(i){return i.tag===5||i.tag===3||i.tag===4}function Dv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Xu));else if(h!==4&&(i=i.child,i!==null))for(Tf(i,o,l),i=i.sibling;i!==null;)Tf(i,o,l),i=i.sibling}function Ef(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Ef(i,o,l),i=i.sibling;i!==null;)Ef(i,o,l),i=i.sibling}var Mt=null,Qn=!1;function Si(i,o,l){for(l=l.child;l!==null;)Vv(i,o,l),l=l.sibling}function Vv(i,o,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 5:Wt||Bo(l,o);case 6:var h=Mt,m=Qn;Mt=null,Si(i,o,l),Mt=h,Qn=m,Mt!==null&&(Qn?(i=Mt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(Qn?(i=Mt,l=l.stateNode,i.nodeType===8?jd(i.parentNode,l):i.nodeType===1&&jd(i,l),Hn(i)):jd(Mt,l.stateNode));break;case 4:h=Mt,m=Qn,Mt=l.stateNode.containerInfo,Qn=!0,Si(i,o,l),Mt=h,Qn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&wf(l,o,E),m=m.next}while(m!==h)}Si(i,o,l);break;case 1:if(!Wt&&(Bo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){ot(l,o,C)}Si(i,o,l);break;case 21:Si(i,o,l);break;case 22:l.mode&1?(Wt=(h=Wt)||l.memoizedState!==null,Si(i,o,l),Wt=h):Si(i,o,l);break;default:Si(i,o,l)}}function jv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new vI),o.forEach(function(h){var m=CI.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Yn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=i,E=o,C=E;e:for(;C!==null;){switch(C.tag){case 5:Mt=C.stateNode,Qn=!1;break e;case 3:Mt=C.stateNode.containerInfo,Qn=!0;break e;case 4:Mt=C.stateNode.containerInfo,Qn=!0;break e}C=C.return}if(Mt===null)throw Error(t(160));Vv(v,E,m),Mt=null,Qn=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(H){ot(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Mv(o,i),o=o.sibling}function Mv(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Yn(o,i),pr(i),h&4){try{vl(3,i,i.return),wc(3,i)}catch(de){ot(i,i.return,de)}try{vl(5,i,i.return)}catch(de){ot(i,i.return,de)}}break;case 1:Yn(o,i),pr(i),h&512&&l!==null&&Bo(l,l.return);break;case 5:if(Yn(o,i),pr(i),h&512&&l!==null&&Bo(l,l.return),i.flags&32){var m=i.stateNode;try{ai(m,"")}catch(de){ot(i,i.return,de)}}if(h&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,E=l!==null?l.memoizedProps:v,C=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Ra(m,v),Oa(C,E);var H=Oa(C,v);for(E=0;E<j.length;E+=2){var J=j[E],ee=j[E+1];J==="style"?ja(m,ee):J==="dangerouslySetInnerHTML"?Da(m,ee):J==="children"?ai(m,ee):G(m,J,ee,H)}switch(C){case"input":ka(m,v);break;case"textarea":no(m,v);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?Cr(m,!!v.multiple,le,!1):X!==!!v.multiple&&(v.defaultValue!=null?Cr(m,!!v.multiple,v.defaultValue,!0):Cr(m,!!v.multiple,v.multiple?[]:"",!1))}m[al]=v}catch(de){ot(i,i.return,de)}}break;case 6:if(Yn(o,i),pr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(de){ot(i,i.return,de)}}break;case 3:if(Yn(o,i),pr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Hn(o.containerInfo)}catch(de){ot(i,i.return,de)}break;case 4:Yn(o,i),pr(i);break;case 13:Yn(o,i),pr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Af=qe())),h&4&&jv(i);break;case 22:if(J=l!==null&&l.memoizedState!==null,i.mode&1?(Wt=(H=Wt)||J,Yn(o,i),Wt=H):Yn(o,i),pr(i),h&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!J&&(i.mode&1)!==0)for(ce=i,J=i.child;J!==null;){for(ee=ce=J;ce!==null;){switch(X=ce,le=X.child,X.tag){case 0:case 11:case 14:case 15:vl(4,X,X.return);break;case 1:Bo(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,l=X.return;try{o=h,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){ot(h,l,de)}}break;case 5:Bo(X,X.return);break;case 22:if(X.memoizedState!==null){Fv(ee);continue}}le!==null?(le.return=X,ce=le):Fv(ee)}J=J.sibling}e:for(J=null,ee=i;;){if(ee.tag===5){if(J===null){J=ee;try{m=ee.stateNode,H?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=ee.stateNode,j=ee.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,C.style.display=Va("display",E))}catch(de){ot(i,i.return,de)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(de){ot(i,i.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Yn(o,i),pr(i),h&4&&jv(i);break;case 21:break;default:Yn(o,i),pr(i)}}function pr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(bv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ai(m,""),h.flags&=-33);var v=Dv(i);Ef(i,v,m);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Dv(i);Tf(i,C,E);break;default:throw Error(t(161))}}catch(j){ot(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function wI(i,o,l){ce=i,Lv(i)}function Lv(i,o,l){for(var h=(i.mode&1)!==0;ce!==null;){var m=ce,v=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||_c;if(!E){var C=m.alternate,j=C!==null&&C.memoizedState!==null||Wt;C=_c;var H=Wt;if(_c=E,(Wt=j)&&!H)for(ce=m;ce!==null;)E=ce,j=E.child,E.tag===22&&E.memoizedState!==null?Uv(m):j!==null?(j.return=E,ce=j):Uv(m);for(;v!==null;)ce=v,Lv(v),v=v.sibling;ce=m,_c=C,Wt=H}Ov(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ce=v):Ov(i)}}function Ov(i){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wt||wc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Wt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Gn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Fy(o,v,h);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Fy(o,E,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var J=H.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Hn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||o.flags&512&&xf(o)}catch(X){ot(o,o.return,X)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Fv(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Uv(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{wc(4,o)}catch(j){ot(o,l,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){ot(o,m,j)}}var v=o.return;try{xf(o)}catch(j){ot(o,v,j)}break;case 5:var E=o.return;try{xf(o)}catch(j){ot(o,E,j)}}}catch(j){ot(o,o.return,j)}if(o===i){ce=null;break}var C=o.sibling;if(C!==null){C.return=o.return,ce=C;break}ce=o.return}}var xI=Math.ceil,xc=ne.ReactCurrentDispatcher,Sf=ne.ReactCurrentOwner,bn=ne.ReactCurrentBatchConfig,Oe=0,Ct=null,mt=null,Lt=0,wn=0,zo=_i(0),xt=0,_l=null,Cs=0,Tc=0,If=0,wl=null,ln=null,Af=0,$o=1/0,$r=null,Ec=!1,Pf=null,Ii=null,Sc=!1,Ai=null,Ic=0,xl=0,Cf=null,Ac=-1,Pc=0;function tn(){return(Oe&6)!==0?qe():Ac!==-1?Ac:Ac=qe()}function Pi(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Lt!==0?Lt&-Lt:iI.transition!==null?(Pc===0&&(Pc=gs()),Pc):(i=De,i!==0||(i=window.event,i=i===void 0?16:Qa(i.type)),i)}function Xn(i,o,l,h){if(50<xl)throw xl=0,Cf=null,Error(t(185));hi(i,l,h),((Oe&2)===0||i!==Ct)&&(i===Ct&&((Oe&2)===0&&(Tc|=l),xt===4&&Ci(i,Lt)),un(i,h),l===1&&Oe===0&&(o.mode&1)===0&&($o=qe()+500,tc&&xi()))}function un(i,o){var l=i.callbackNode;Nr(i,o);var h=ms(i,i===Ct?Lt:0);if(h===0)l!==null&&Ha(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Ha(l),o===1)i.tag===0?rI(zv.bind(null,i)):Py(zv.bind(null,i)),ZS(function(){(Oe&6)===0&&xi()}),l=null;else{switch(fi(h)){case 1:l=fs;break;case 4:l=li;break;case 16:l=In;break;case 536870912:l=Pu;break;default:l=In}l=Yv(l,Bv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Bv(i,o){if(Ac=-1,Pc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Ho()&&i.callbackNode!==l)return null;var h=ms(i,i===Ct?Lt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Cc(i,h);else{o=h;var m=Oe;Oe|=2;var v=Hv();(Ct!==i||Lt!==o)&&($r=null,$o=qe()+500,ks(i,o));do try{SI();break}catch(C){$v(i,C)}while(!0);Wd(),xc.current=v,Oe=m,mt!==null?o=0:(Ct=null,Lt=0,o=xt)}if(o!==0){if(o===2&&(m=mn(i),m!==0&&(h=m,o=Rf(i,m))),o===1)throw l=_l,ks(i,0),Ci(i,h),un(i,qe()),l;if(o===6)Ci(i,h);else{if(m=i.current.alternate,(h&30)===0&&!TI(m)&&(o=Cc(i,h),o===2&&(v=mn(i),v!==0&&(h=v,o=Rf(i,v))),o===1))throw l=_l,ks(i,0),Ci(i,h),un(i,qe()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ns(i,ln,$r);break;case 3:if(Ci(i,h),(h&130023424)===h&&(o=Af+500-qe(),10<o)){if(ms(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){tn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Vd(Ns.bind(null,i,ln,$r),o);break}Ns(i,ln,$r);break;case 4:if(Ci(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var E=31-Jt(h);v=1<<E,E=o[E],E>m&&(m=E),h&=~v}if(h=m,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xI(h/1960))-h,10<h){i.timeoutHandle=Vd(Ns.bind(null,i,ln,$r),h);break}Ns(i,ln,$r);break;case 5:Ns(i,ln,$r);break;default:throw Error(t(329))}}}return un(i,qe()),i.callbackNode===l?Bv.bind(null,i):null}function Rf(i,o){var l=wl;return i.current.memoizedState.isDehydrated&&(ks(i,o).flags|=256),i=Cc(i,o),i!==2&&(o=ln,ln=l,o!==null&&kf(o)),i}function kf(i){ln===null?ln=i:ln.push.apply(ln,i)}function TI(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!Kn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ci(i,o){for(o&=~If,o&=~Tc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Jt(o),h=1<<l;i[l]=-1,o&=~h}}function zv(i){if((Oe&6)!==0)throw Error(t(327));Ho();var o=ms(i,0);if((o&1)===0)return un(i,qe()),null;var l=Cc(i,o);if(i.tag!==0&&l===2){var h=mn(i);h!==0&&(o=h,l=Rf(i,h))}if(l===1)throw l=_l,ks(i,0),Ci(i,o),un(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ns(i,ln,$r),un(i,qe()),null}function Nf(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&($o=qe()+500,tc&&xi())}}function Rs(i){Ai!==null&&Ai.tag===0&&(Oe&6)===0&&Ho();var o=Oe;Oe|=1;var l=bn.transition,h=De;try{if(bn.transition=null,De=1,i)return i()}finally{De=h,bn.transition=l,Oe=o,(Oe&6)===0&&xi()}}function bf(){wn=zo.current,Ye(zo)}function ks(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,JS(l)),mt!==null)for(l=mt.return;l!==null;){var h=l;switch(Ud(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zu();break;case 3:Fo(),Ye(sn),Ye(zt),Zd();break;case 5:Xd(h);break;case 4:Fo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Kd(h.type._context);break;case 22:case 23:bf()}l=l.return}if(Ct=i,mt=i=Ri(i.current,null),Lt=wn=o,xt=0,_l=null,If=Tc=Cs=0,ln=wl=null,Is!==null){for(o=0;o<Is.length;o++)if(l=Is[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var E=v.next;v.next=m,h.next=E}l.pending=h}Is=null}return i}function $v(i,o){do{var l=mt;try{if(Wd(),hc.current=mc,dc){for(var h=rt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}dc=!1}if(Ps=0,Pt=wt=rt=null,fl=!1,pl=0,Sf.current=null,l===null||l.return===null){xt=1,_l=o,mt=null;break}e:{var v=i,E=l.return,C=l,j=o;if(o=Lt,C.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var H=j,J=C,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=pv(E);if(le!==null){le.flags&=-257,mv(le,E,C,v,o),le.mode&1&&fv(v,H,o),o=le,j=H;var he=o.updateQueue;if(he===null){var de=new Set;de.add(j),o.updateQueue=de}else he.add(j);break e}else{if((o&1)===0){fv(v,H,o),Df();break e}j=Error(t(426))}}else if(et&&C.mode&1){var ut=pv(E);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),mv(ut,E,C,v,o),$d(Uo(j,C));break e}}v=j=Uo(j,C),xt!==4&&(xt=2),wl===null?wl=[v]:wl.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var z=hv(v,j,o);Oy(v,z);break e;case 1:C=j;var L=v.type,$=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ii===null||!Ii.has($)))){v.flags|=65536,o&=-o,v.lanes|=o;var re=dv(v,C,o);Oy(v,re);break e}}v=v.return}while(v!==null)}Kv(l)}catch(fe){o=fe,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function Hv(){var i=xc.current;return xc.current=mc,i===null?mc:i}function Df(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(Cs&268435455)===0&&(Tc&268435455)===0||Ci(Ct,Lt)}function Cc(i,o){var l=Oe;Oe|=2;var h=Hv();(Ct!==i||Lt!==o)&&($r=null,ks(i,o));do try{EI();break}catch(m){$v(i,m)}while(!0);if(Wd(),Oe=l,xc.current=h,mt!==null)throw Error(t(261));return Ct=null,Lt=0,xt}function EI(){for(;mt!==null;)Wv(mt)}function SI(){for(;mt!==null&&!Iu();)Wv(mt)}function Wv(i){var o=Qv(i.alternate,i,wn);i.memoizedProps=i.pendingProps,o===null?Kv(i):mt=o,Sf.current=null}function Kv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=gI(l,o,wn),l!==null){mt=l;return}}else{if(l=yI(l,o),l!==null){l.flags&=32767,mt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xt=6,mt=null;return}}if(o=o.sibling,o!==null){mt=o;return}mt=o=i}while(o!==null);xt===0&&(xt=5)}function Ns(i,o,l){var h=De,m=bn.transition;try{bn.transition=null,De=1,II(i,o,l,h)}finally{bn.transition=m,De=h}return null}function II(i,o,l,h){do Ho();while(Ai!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(We(i,v),i===Ct&&(mt=Ct=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Sc||(Sc=!0,Yv(In,function(){return Ho(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=bn.transition,bn.transition=null;var E=De;De=1;var C=Oe;Oe|=4,Sf.current=null,_I(i,l),Mv(l,i),WS(bd),mi=!!Nd,bd=Nd=null,i.current=l,wI(l),md(),Oe=C,De=E,bn.transition=v}else i.current=l;if(Sc&&(Sc=!1,Ai=i,Ic=m),v=i.pendingLanes,v===0&&(Ii=null),Cu(l.stateNode),un(i,qe()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ec)throw Ec=!1,i=Pf,Pf=null,i;return(Ic&1)!==0&&i.tag!==0&&Ho(),v=i.pendingLanes,(v&1)!==0?i===Cf?xl++:(xl=0,Cf=i):xl=0,xi(),null}function Ho(){if(Ai!==null){var i=fi(Ic),o=bn.transition,l=De;try{if(bn.transition=null,De=16>i?16:i,Ai===null)var h=!1;else{if(i=Ai,Ai=null,Ic=0,(Oe&6)!==0)throw Error(t(331));var m=Oe;for(Oe|=4,ce=i.current;ce!==null;){var v=ce,E=v.child;if((ce.flags&16)!==0){var C=v.deletions;if(C!==null){for(var j=0;j<C.length;j++){var H=C[j];for(ce=H;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:vl(8,J,v)}var ee=J.child;if(ee!==null)ee.return=J,ce=ee;else for(;ce!==null;){J=ce;var X=J.sibling,le=J.return;if(Nv(J),J===H){ce=null;break}if(X!==null){X.return=le,ce=X;break}ce=le}}}var he=v.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ut=de.sibling;de.sibling=null,de=ut}while(de!==null)}}ce=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,ce=E;else e:for(;ce!==null;){if(v=ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:vl(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,ce=z;break e}ce=v.return}}var L=i.current;for(ce=L;ce!==null;){E=ce;var $=E.child;if((E.subtreeFlags&2064)!==0&&$!==null)$.return=E,ce=$;else e:for(E=L;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:wc(9,C)}}catch(fe){ot(C,C.return,fe)}if(C===E){ce=null;break e}var re=C.sibling;if(re!==null){re.return=C.return,ce=re;break e}ce=C.return}}if(Oe=m,xi(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ps,i)}catch{}h=!0}return h}finally{De=l,bn.transition=o}}return!1}function qv(i,o,l){o=Uo(l,o),o=hv(i,o,1),i=Ei(i,o,1),o=tn(),i!==null&&(hi(i,1,o),un(i,o))}function ot(i,o,l){if(i.tag===3)qv(i,i,l);else for(;o!==null;){if(o.tag===3){qv(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ii===null||!Ii.has(h))){i=Uo(l,i),i=dv(o,i,1),o=Ei(o,i,1),i=tn(),o!==null&&(hi(o,1,i),un(o,i));break}}o=o.return}}function AI(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=tn(),i.pingedLanes|=i.suspendedLanes&l,Ct===i&&(Lt&l)===l&&(xt===4||xt===3&&(Lt&130023424)===Lt&&500>qe()-Af?ks(i,0):If|=l),un(i,o)}function Gv(i,o){o===0&&((i.mode&1)===0?o=1:(o=fo,fo<<=1,(fo&130023424)===0&&(fo=4194304)));var l=tn();i=Ur(i,o),i!==null&&(hi(i,o,l),un(i,l))}function PI(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Gv(i,l)}function CI(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Gv(i,l)}var Qv;Qv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||sn.current)an=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return an=!1,mI(i,o,l);an=(i.flags&131072)!==0}else an=!1,et&&(o.flags&1048576)!==0&&Cy(o,rc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;vc(i,o),i=o.pendingProps;var m=bo(o,zt.current);Oo(o,l),m=nf(null,o,h,i,m,l);var v=rf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,on(h)?(v=!0,ec(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qd(o),m.updater=gc,o.stateNode=m,m._reactInternals=o,cf(o,h,i,l),o=pf(null,o,h,!0,v,l)):(o.tag=0,et&&v&&Fd(o),en(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(vc(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=kI(h),i=Gn(h,i),m){case 0:o=ff(null,o,h,i,l);break e;case 1:o=xv(null,o,h,i,l);break e;case 11:o=gv(null,o,h,i,l);break e;case 14:o=yv(null,o,h,Gn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Gn(h,m),ff(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Gn(h,m),xv(i,o,h,m,l);case 3:e:{if(Tv(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,Ly(i,o),uc(o,h,null,l);var E=o.memoizedState;if(h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Uo(Error(t(423)),o),o=Ev(i,o,h,l,m);break e}else if(h!==m){m=Uo(Error(t(424)),o),o=Ev(i,o,h,l,m);break e}else for(_n=vi(o.stateNode.containerInfo.firstChild),vn=o,et=!0,qn=null,l=jy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),h===m){o=zr(i,o,l);break e}en(i,o,h,l)}o=o.child}return o;case 5:return Uy(o),i===null&&zd(o),h=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,E=m.children,Dd(h,m)?E=null:v!==null&&Dd(h,v)&&(o.flags|=32),wv(i,o),en(i,o,E,l),o.child;case 6:return i===null&&zd(o),null;case 13:return Sv(i,o,l);case 4:return Yd(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Mo(o,null,h,l):en(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Gn(h,m),gv(i,o,h,m,l);case 7:return en(i,o,o.pendingProps,l),o.child;case 8:return en(i,o,o.pendingProps.children,l),o.child;case 12:return en(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,E=m.value,Ge(oc,h._currentValue),h._currentValue=E,v!==null)if(Kn(v.value,E)){if(v.children===m.children&&!sn.current){o=zr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){E=v.child;for(var j=C.firstContext;j!==null;){if(j.context===h){if(v.tag===1){j=Br(-1,l&-l),j.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var J=H.pending;J===null?j.next=j:(j.next=J.next,J.next=j),H.pending=j}}v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),qd(v.return,l,o),C.lanes|=l;break}j=j.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,C=E.alternate,C!==null&&(C.lanes|=l),qd(E,l,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}en(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Oo(o,l),m=kn(m),h=h(m),o.flags|=1,en(i,o,h,l),o.child;case 14:return h=o.type,m=Gn(h,o.pendingProps),m=Gn(h.type,m),yv(i,o,h,m,l);case 15:return vv(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Gn(h,m),vc(i,o),o.tag=1,on(h)?(i=!0,ec(o)):i=!1,Oo(o,l),uv(o,h,m),cf(o,h,m,l),pf(null,o,h,!0,i,l);case 19:return Av(i,o,l);case 22:return _v(i,o,l)}throw Error(t(156,o.tag))};function Yv(i,o){return co(i,o)}function RI(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,o,l,h){return new RI(i,o,l,h)}function Vf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function kI(i){if(typeof i=="function")return Vf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===bt)return 14}return 2}function Ri(i,o){var l=i.alternate;return l===null?(l=Dn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Rc(i,o,l,h,m,v){var E=2;if(h=i,typeof i=="function")Vf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case b:return bs(l.children,m,v,o);case S:E=8,m|=8;break;case P:return i=Dn(12,l,o,m|2),i.elementType=P,i.lanes=v,i;case R:return i=Dn(13,l,o,m),i.elementType=R,i.lanes=v,i;case Je:return i=Dn(19,l,o,m),i.elementType=Je,i.lanes=v,i;case Ie:return kc(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:E=10;break e;case M:E=9;break e;case U:E=11;break e;case bt:E=14;break e;case Dt:E=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Dn(E,l,o,m),o.elementType=i,o.type=h,o.lanes=v,o}function bs(i,o,l,h){return i=Dn(7,i,h,o),i.lanes=l,i}function kc(i,o,l,h){return i=Dn(22,i,h,o),i.elementType=Ie,i.lanes=l,i.stateNode={isHidden:!1},i}function jf(i,o,l){return i=Dn(6,i,null,o),i.lanes=l,i}function Mf(i,o,l){return o=Dn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function NI(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Lf(i,o,l,h,m,v,E,C,j){return i=new NI(i,o,l,C,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Dn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(v),i}function bI(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Xv(i){if(!i)return wi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(on(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(on(l))return Iy(i,l,o)}return o}function Jv(i,o,l,h,m,v,E,C,j){return i=Lf(l,h,!0,i,m,v,E,C,j),i.context=Xv(null),l=i.current,h=tn(),m=Pi(l),v=Br(h,m),v.callback=o??null,Ei(l,v,m),i.current.lanes=m,hi(i,m,h),un(i,h),i}function Nc(i,o,l,h){var m=o.current,v=tn(),E=Pi(m);return l=Xv(l),o.context===null?o.context=l:o.pendingContext=l,o=Br(v,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Ei(m,o,E),i!==null&&(Xn(i,m,E,v),lc(i,m,E)),E}function bc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Zv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Of(i,o){Zv(i,o),(i=i.alternate)&&Zv(i,o)}function DI(){return null}var e0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ff(i){this._internalRoot=i}Dc.prototype.render=Ff.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Nc(i,o,null,null)},Dc.prototype.unmount=Ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Rs(function(){Nc(null,i,null,null)}),o[Mr]=null}};function Dc(i){this._internalRoot=i}Dc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Du();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ar.length&&o!==0&&o<ar[l].priority;l++);ar.splice(l,0,i),l===0&&Mu(i)}};function Uf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Vc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function t0(){}function VI(i,o,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var H=bc(E);v.call(H)}}var E=Jv(o,h,i,0,null,!1,!1,"",t0);return i._reactRootContainer=E,i[Mr]=E.current,sl(i.nodeType===8?i.parentNode:i),Rs(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var C=h;h=function(){var H=bc(j);C.call(H)}}var j=Lf(i,0,!1,null,null,!1,!1,"",t0);return i._reactRootContainer=j,i[Mr]=j.current,sl(i.nodeType===8?i.parentNode:i),Rs(function(){Nc(o,j,l,h)}),j}function jc(i,o,l,h,m){var v=l._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var C=m;m=function(){var j=bc(E);C.call(j)}}Nc(o,E,i,m)}else E=VI(l,o,i,m,h);return bc(E)}Nu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ui(o.pendingLanes);l!==0&&(di(o,l|1),un(o,qe()),(Oe&6)===0&&($o=qe()+500,xi()))}break;case 13:Rs(function(){var h=Ur(i,1);if(h!==null){var m=tn();Xn(h,i,1,m)}}),Of(i,1)}},po=function(i){if(i.tag===13){var o=Ur(i,134217728);if(o!==null){var l=tn();Xn(o,i,134217728,l)}Of(i,134217728)}},bu=function(i){if(i.tag===13){var o=Pi(i),l=Ur(i,o);if(l!==null){var h=tn();Xn(l,i,o,h)}Of(i,o)}},Du=function(){return De},Vu=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},io=function(i,o,l){switch(o){case"input":if(ka(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=Ju(h);if(!m)throw Error(t(90));Js(h),ka(h,m)}}}break;case"textarea":no(i,l);break;case"select":o=l.value,o!=null&&Cr(i,!!l.multiple,o,!1)}},us=Nf,Ua=Rs;var jI={usingClientEntryPoint:!1,Events:[ll,ko,Ju,sr,Fa,Nf]},Tl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MI={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=$a(i),i===null?null:i.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ps=Mc.inject(MI),pn=Mc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI,cn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(o))throw Error(t(200));return bI(i,o,null,l)},cn.createRoot=function(i,o){if(!Uf(i))throw Error(t(299));var l=!1,h="",m=e0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Lf(i,1,!1,null,null,l,!1,h,m),i[Mr]=o.current,sl(i.nodeType===8?i.parentNode:i),new Ff(o)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=$a(o),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return Rs(i)},cn.hydrate=function(i,o,l){if(!Vc(o))throw Error(t(200));return jc(null,i,o,!0,l)},cn.hydrateRoot=function(i,o,l){if(!Uf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",E=e0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=Jv(o,null,i,1,l??null,m,!1,v,E),i[Mr]=o.current,sl(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Dc(o)},cn.render=function(i,o,l){if(!Vc(o))throw Error(t(200));return jc(null,i,o,!1,l)},cn.unmountComponentAtNode=function(i){if(!Vc(i))throw Error(t(40));return i._reactRootContainer?(Rs(function(){jc(null,null,i,!1,function(){i._reactRootContainer=null,i[Mr]=null})}),!0):!1},cn.unstable_batchedUpdates=Nf,cn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Vc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return jc(i,o,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var u0;function yx(){if(u0)return $f.exports;u0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$f.exports=qI(),$f.exports}var c0;function GI(){if(c0)return Lc;c0=1;var n=yx();return Lc.createRoot=n.createRoot,Lc.hydrateRoot=n.hydrateRoot,Lc}var QI=GI();yx();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hl.apply(this,arguments)}var Mi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Mi||(Mi={}));const h0="popstate";function YI(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return xp("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:hh(s)}return JI(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vx(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XI(){return Math.random().toString(36).substr(2,8)}function d0(n,e){return{usr:n.state,key:n.key,idx:e}}function xp(n,e,t,r){return t===void 0&&(t=null),Hl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?va(e):e,{state:t,key:e&&e.key||r||XI()})}function hh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function JI(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d=Mi.Pop,f=null,p=_();p==null&&(p=0,u.replaceState(Hl({},u.state,{idx:p}),""));function _(){return(u.state||{idx:null}).idx}function w(){d=Mi.Pop;let k=_(),W=k==null?null:k-p;p=k,f&&f({action:d,location:V.location,delta:W})}function x(k,W){d=Mi.Push;let q=xp(V.location,k,W);p=_()+1;let G=d0(q,p),ne=V.createHref(q);try{u.pushState(G,"",ne)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(ne)}a&&f&&f({action:d,location:V.location,delta:1})}function A(k,W){d=Mi.Replace;let q=xp(V.location,k,W);p=_();let G=d0(q,p),ne=V.createHref(q);u.replaceState(G,"",ne),a&&f&&f({action:d,location:V.location,delta:0})}function D(k){let W=s.location.origin!=="null"?s.location.origin:s.location.href,q=typeof k=="string"?k:hh(k);return q=q.replace(/ $/,"%20"),ft(W,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,W)}let V={get action(){return d},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(h0,w),f=k,()=>{s.removeEventListener(h0,w),f=null}},createHref(k){return e(s,k)},createURL:D,encodeLocation(k){let W=D(k);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:x,replace:A,go(k){return u.go(k)}};return V}var f0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(f0||(f0={}));function ZI(n,e,t){return t===void 0&&(t="/"),eA(n,e,t)}function eA(n,e,t,r){let s=typeof e=="string"?va(e):e,a=gm(s.pathname||"/",t);if(a==null)return null;let u=_x(n);tA(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=fA(a);d=cA(u[f],p)}return d}function _x(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Fi([r,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),_x(a.children,e,_,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:lA(p,a.index),routesMeta:_})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of wx(a.path))s(a,u,f)}),e}function wx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=wx(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function tA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const nA=/^:[\w-]+$/,rA=3,iA=2,sA=1,oA=10,aA=-2,p0=n=>n==="*";function lA(n,e){let t=n.split("/"),r=t.length;return t.some(p0)&&(r+=aA),e&&(r+=iA),t.filter(s=>!p0(s)).reduce((s,a)=>s+(nA.test(a)?rA:a===""?sA:oA),r)}function uA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function cA(n,e,t){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=hA({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},_),x=f.route;if(!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Fi([a,w.pathname]),pathnameBase:yA(Fi([a,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(a=Fi([a,w.pathnameBase]))}return u}function hA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dA(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,_,w)=>{let{paramName:x,isOptional:A}=_;if(x==="*"){let V=d[w]||"";u=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const D=d[w];return A&&!D?p[x]=void 0:p[x]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function dA(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),vx(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vx(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function pA(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?va(n):n;return{pathname:t?t.startsWith("/")?t:mA(t,e):e,search:vA(r),hash:_A(s)}}function mA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Kf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ym(n,e){let t=gA(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function vm(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=va(n):(s=Hl({},n),ft(!s.pathname||!s.pathname.includes("?"),Kf("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Kf("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Kf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),w-=1;s.pathname=x.join("/")}d=w>=0?e[w]:"/"}let f=pA(s,d),p=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||_)&&(f.pathname+="/"),f}const Fi=n=>n.join("/").replace(/\/\/+/g,"/"),yA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_A=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const xx=["post","put","patch","delete"];new Set(xx);const xA=["get",...xx];new Set(xA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wl.apply(this,arguments)}const _m=O.createContext(null),TA=O.createContext(null),es=O.createContext(null),Fh=O.createContext(null),ri=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Tx=O.createContext(null);function EA(n,e){let{relative:t}=e===void 0?{}:e;_a()||ft(!1);let{basename:r,navigator:s}=O.useContext(es),{hash:a,pathname:u,search:d}=Sx(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:Fi([r,u])),s.createHref({pathname:f,search:d,hash:a})}function _a(){return O.useContext(Fh)!=null}function Ir(){return _a()||ft(!1),O.useContext(Fh).location}function Ex(n){O.useContext(es).static||O.useLayoutEffect(n)}function su(){let{isDataRoute:n}=O.useContext(ri);return n?OA():SA()}function SA(){_a()||ft(!1);let n=O.useContext(_m),{basename:e,future:t,navigator:r}=O.useContext(es),{matches:s}=O.useContext(ri),{pathname:a}=Ir(),u=JSON.stringify(ym(s,t.v7_relativeSplatPath)),d=O.useRef(!1);return Ex(()=>{d.current=!0}),O.useCallback(function(p,_){if(_===void 0&&(_={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let w=vm(p,JSON.parse(u),a,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Fi([e,w.pathname])),(_.replace?r.replace:r.push)(w,_.state,_)},[e,r,u,a,n])}const IA=O.createContext(null);function AA(n){let e=O.useContext(ri).outlet;return e&&O.createElement(IA.Provider,{value:n},e)}function Sx(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=O.useContext(es),{matches:s}=O.useContext(ri),{pathname:a}=Ir(),u=JSON.stringify(ym(s,r.v7_relativeSplatPath));return O.useMemo(()=>vm(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function PA(n,e){return CA(n,e)}function CA(n,e,t,r){_a()||ft(!1);let{navigator:s}=O.useContext(es),{matches:a}=O.useContext(ri),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=Ir(),_;if(e){var w;let k=typeof e=="string"?va(e):e;f==="/"||(w=k.pathname)!=null&&w.startsWith(f)||ft(!1),_=k}else _=p;let x=_.pathname||"/",A=x;if(f!=="/"){let k=f.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let D=ZI(n,{pathname:A}),V=DA(D&&D.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Fi([f,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:Fi([f,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,r);return e&&V?O.createElement(Fh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Mi.Pop}},V):V}function RA(){let n=LA(),e=wA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,null)}const kA=O.createElement(RA,null);class NA extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(ri.Provider,{value:this.props.routeContext},O.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bA(n){let{routeContext:e,match:t,children:r}=n,s=O.useContext(_m);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(ri.Provider,{value:e},r)}function DA(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let _=u.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);_>=0||ft(!1),u=u.slice(0,Math.min(u.length,_+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let _=0;_<u.length;_++){let w=u[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=_),w.route.id){let{loaderData:x,errors:A}=t,D=w.route.loader&&x[w.route.id]===void 0&&(!A||A[w.route.id]===void 0);if(w.route.lazy||D){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((_,w,x)=>{let A,D=!1,V=null,k=null;t&&(A=d&&w.route.id?d[w.route.id]:void 0,V=w.route.errorElement||kA,f&&(p<0&&x===0?(FA("route-fallback"),D=!0,k=null):p===x&&(D=!0,k=w.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,x+1)),q=()=>{let G;return A?G=V:D?G=k:w.route.Component?G=O.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=_,O.createElement(bA,{match:w,routeContext:{outlet:_,matches:W,isDataRoute:t!=null},children:G})};return t&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?O.createElement(NA,{location:t.location,revalidation:t.revalidation,component:V,error:A,children:q(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):q()},null)}var Ix=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ix||{}),Ax=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ax||{});function VA(n){let e=O.useContext(_m);return e||ft(!1),e}function jA(n){let e=O.useContext(TA);return e||ft(!1),e}function MA(n){let e=O.useContext(ri);return e||ft(!1),e}function Px(n){let e=MA(),t=e.matches[e.matches.length-1];return t.route.id||ft(!1),t.route.id}function LA(){var n;let e=O.useContext(Tx),t=jA(),r=Px();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function OA(){let{router:n}=VA(Ix.UseNavigateStable),e=Px(Ax.UseNavigateStable),t=O.useRef(!1);return Ex(()=>{t.current=!0}),O.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Wl({fromRouteId:e},a)))},[n,e])}const m0={};function FA(n,e,t){m0[n]||(m0[n]=!0)}function UA(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function BA(n){let{to:e,replace:t,state:r,relative:s}=n;_a()||ft(!1);let{future:a,static:u}=O.useContext(es),{matches:d}=O.useContext(ri),{pathname:f}=Ir(),p=su(),_=vm(e,ym(d,a.v7_relativeSplatPath),f,s==="path"),w=JSON.stringify(_);return O.useEffect(()=>p(JSON.parse(w),{replace:t,state:r,relative:s}),[p,w,s,t,r]),null}function zA(n){return AA(n.context)}function Jn(n){ft(!1)}function $A(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Mi.Pop,navigator:a,static:u=!1,future:d}=n;_a()&&ft(!1);let f=e.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:f,navigator:a,static:u,future:Wl({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=va(r));let{pathname:_="/",search:w="",hash:x="",state:A=null,key:D="default"}=r,V=O.useMemo(()=>{let k=gm(_,f);return k==null?null:{location:{pathname:k,search:w,hash:x,state:A,key:D},navigationType:s}},[f,_,w,x,A,D,s]);return V==null?null:O.createElement(es.Provider,{value:p},O.createElement(Fh.Provider,{children:t,value:V}))}function HA(n){let{children:e,location:t}=n;return PA(Tp(e),t)}new Promise(()=>{});function Tp(n,e){e===void 0&&(e=[]);let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){t.push.apply(t,Tp(r.props.children,a));return}r.type!==Jn&&ft(!1),!r.props.index||!r.props.children||ft(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Tp(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(){return Ep=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ep.apply(this,arguments)}function WA(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function KA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qA(n,e){return n.button===0&&(!e||e==="_self")&&!KA(n)}const GA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QA="6";try{window.__reactRouterVersion=QA}catch{}const YA="startTransition",g0=HI[YA];function XA(n){let{basename:e,children:t,future:r,window:s}=n,a=O.useRef();a.current==null&&(a.current=YI({window:s,v5Compat:!0}));let u=a.current,[d,f]=O.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},_=O.useCallback(w=>{p&&g0?g0(()=>f(w)):f(w)},[f,p]);return O.useLayoutEffect(()=>u.listen(_),[u,_]),O.useEffect(()=>UA(r),[r]),O.createElement($A,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}const JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=O.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:_,viewTransition:w}=e,x=WA(e,GA),{basename:A}=O.useContext(es),D,V=!1;if(typeof p=="string"&&ZA.test(p)&&(D=p,JA))try{let G=new URL(window.location.href),ne=p.startsWith("//")?new URL(G.protocol+p):new URL(p),te=gm(ne.pathname,A);ne.origin===G.origin&&te!=null?p=te+ne.search+ne.hash:V=!0}catch{}let k=EA(p,{relative:s}),W=eP(p,{replace:u,state:d,target:f,preventScrollReset:_,relative:s,viewTransition:w});function q(G){r&&r(G),G.defaultPrevented||W(G)}return O.createElement("a",Ep({},x,{href:D||k,onClick:V||a?r:q,ref:t,target:f}))});var y0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(y0||(y0={}));var v0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(v0||(v0={}));function eP(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,f=su(),p=Ir(),_=Sx(n,{relative:u});return O.useCallback(w=>{if(qA(w,t)){w.preventDefault();let x=r!==void 0?r:hh(p)===hh(_);f(n,{replace:x,state:s,preventScrollReset:a,relative:u,viewTransition:d})}},[p,f,_,r,s,t,n,a,u,d])}const wm=O.createContext({});function xm(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const Uh=O.createContext(null),Tm=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class tP extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function nP({children:n,isPresent:e}){const t=O.useId(),r=O.useRef(null),s=O.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=O.useContext(Tm);return O.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p}=s.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const _=document.createElement("style");return a&&(_.nonce=a),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[e]),g.jsx(tP,{isPresent:e,childRef:r,sizeRef:s,children:O.cloneElement(n,{ref:r})})}const rP=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:u})=>{const d=xm(iP),f=O.useId(),p=O.useCallback(w=>{d.set(w,!0);for(const x of d.values())if(!x)return;r&&r()},[d,r]),_=O.useMemo(()=>({id:f,initial:e,isPresent:t,custom:s,onExitComplete:p,register:w=>(d.set(w,!1),()=>d.delete(w))}),a?[Math.random(),p]:[t,p]);return O.useMemo(()=>{d.forEach((w,x)=>d.set(x,!1))},[t]),O.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=g.jsx(nP,{isPresent:t,children:n})),g.jsx(Uh.Provider,{value:_,children:n})};function iP(){return new Map}function Cx(n=!0){const e=O.useContext(Uh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{n&&s(a)},[n]);const u=O.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const Oc=n=>n.key||"";function _0(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const Em=typeof window<"u",Rx=Em?O.useLayoutEffect:O.useEffect,sP=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=Cx(u),p=O.useMemo(()=>_0(n),[n]),_=u&&!d?[]:p.map(Oc),w=O.useRef(!0),x=O.useRef(p),A=xm(()=>new Map),[D,V]=O.useState(p),[k,W]=O.useState(p);Rx(()=>{w.current=!1,x.current=p;for(let ne=0;ne<k.length;ne++){const te=Oc(k[ne]);_.includes(te)?A.delete(te):A.get(te)!==!0&&A.set(te,!1)}},[k,_.length,_.join("-")]);const q=[];if(p!==D){let ne=[...p];for(let te=0;te<k.length;te++){const oe=k[te],b=Oc(oe);_.includes(b)||(ne.splice(te,0,oe),q.push(oe))}a==="wait"&&q.length&&(ne=q),W(_0(ne)),V(p);return}const{forceRender:G}=O.useContext(wm);return g.jsx(g.Fragment,{children:k.map(ne=>{const te=Oc(ne),oe=u&&!d?!1:p===k||_.includes(te),b=()=>{if(A.has(te))A.set(te,!0);else return;let S=!0;A.forEach(P=>{P||(S=!1)}),S&&(G==null||G(),W(x.current),u&&(f==null||f()),r&&r())};return g.jsx(rP,{isPresent:oe,initial:!w.current||t?void 0:!1,custom:oe?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:oe?void 0:b,children:ne},te)})})},Tn=n=>n;let kx=Tn;function Sm(n){let e;return()=>(e===void 0&&(e=n()),e)}const sa=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Gr=n=>n*1e3,Qr=n=>n/1e3,oP={useManualTiming:!1};function aP(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,_=!1,w=!1)=>{const A=w&&r?e:t;return _&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(u=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const Fc=["read","resolveKeyframes","update","preRender","render","postRender"],lP=40;function Nx(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Fc.reduce((W,q)=>(W[q]=aP(a),W),{}),{read:d,resolveKeyframes:f,update:p,preRender:_,render:w,postRender:x}=u,A=()=>{const W=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(W-s.timestamp,lP),1),s.timestamp=W,s.isProcessing=!0,d.process(s),f.process(s),p.process(s),_.process(s),w.process(s),x.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(A))},D=()=>{t=!0,r=!0,s.isProcessing||n(A)};return{schedule:Fc.reduce((W,q)=>{const G=u[q];return W[q]=(ne,te=!1,oe=!1)=>(t||D(),G.schedule(ne,te,oe)),W},{}),cancel:W=>{for(let q=0;q<Fc.length;q++)u[Fc[q]].cancel(W)},state:s,steps:u}}const{schedule:Xe,cancel:Wi,state:Ot,steps:qf}=Nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tn,!0),bx=O.createContext({strict:!1}),w0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const n in w0)oa[n]={isEnabled:e=>w0[n].some(t=>!!e[t])};function uP(n){for(const e in n)oa[e]={...oa[e],...n[e]}}const cP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cP.has(n)}let Dx=n=>!dh(n);function hP(n){n&&(Dx=e=>e.startsWith("on")?!dh(e):n(e))}try{hP(require("@emotion/is-prop-valid").default)}catch{}function dP(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(Dx(s)||t===!0&&dh(s)||!e&&!dh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function fP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Bh=O.createContext({});function Kl(n){return typeof n=="string"||Array.isArray(n)}function zh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Im=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Am=["initial",...Im];function $h(n){return zh(n.animate)||Am.some(e=>Kl(n[e]))}function Vx(n){return!!($h(n)||n.variants)}function pP(n,e){if($h(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Kl(t)?t:void 0,animate:Kl(r)?r:void 0}}return n.inherit!==!1?e:{}}function mP(n){const{initial:e,animate:t}=pP(n,O.useContext(Bh));return O.useMemo(()=>({initial:e,animate:t}),[x0(e),x0(t)])}function x0(n){return Array.isArray(n)?n.join(" "):n}const gP=Symbol.for("motionComponentSymbol");function Qo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function yP(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Qo(t)&&(t.current=r))},[e])}const Pm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vP="framerAppearId",jx="data-"+Pm(vP),{schedule:Cm}=Nx(queueMicrotask,!1),Mx=O.createContext({});function _P(n,e,t,r,s){var a,u;const{visualElement:d}=O.useContext(Bh),f=O.useContext(bx),p=O.useContext(Uh),_=O.useContext(Tm).reducedMotion,w=O.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:_}));const x=w.current,A=O.useContext(Mx);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&wP(w.current,t,s,A);const D=O.useRef(!1);O.useInsertionEffect(()=>{x&&D.current&&x.update(t,p)});const V=t[jx],k=O.useRef(!!V&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,V))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,V)));return Rx(()=>{x&&(D.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Cm.render(x.render),k.current&&x.animationState&&x.animationState.animateChanges())}),O.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,V)}),k.current=!1))}),x}function wP(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Lx(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||d&&Qo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function Lx(n){if(n)return n.options.allowProjection!==!1?n.projection:Lx(n.parent)}function xP({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,u;n&&uP(n);function d(p,_){let w;const x={...O.useContext(Tm),...p,layoutId:TP(p)},{isStatic:A}=x,D=mP(p),V=r(p,A);if(!A&&Em){EP();const k=SP(x);w=k.MeasureLayout,D.visualElement=_P(s,V,x,e,k.ProjectionNode)}return g.jsxs(Bh.Provider,{value:D,children:[w&&D.visualElement?g.jsx(w,{visualElement:D.visualElement,...x}):null,t(s,p,yP(V,D.visualElement,_),V,A,D.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(u=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&u!==void 0?u:""})`}`;const f=O.forwardRef(d);return f[gP]=s,f}function TP({layoutId:n}){const e=O.useContext(wm).id;return e&&n!==void 0?e+"-"+n:n}function EP(n,e){O.useContext(bx).strict}function SP(n){const{drag:e,layout:t}=oa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rm(n){return typeof n!="string"||n.includes("-")?!1:!!(IP.indexOf(n)>-1||/[A-Z]/u.test(n))}function T0(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function km(n,e,t,r){if(typeof e=="function"){const[s,a]=T0(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=T0(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const Sp=n=>Array.isArray(n),AP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),PP=n=>Sp(n)?n[n.length-1]||0:n,Yt=n=>!!(n&&n.getVelocity);function Gc(n){const e=Yt(n)?n.get():n;return AP(e)?e.toValue():e}function CP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const u={latestValues:RP(r,s,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const Ox=n=>(e,t)=>{const r=O.useContext(Bh),s=O.useContext(Uh),a=()=>CP(n,e,r,s);return t?a():xm(a)};function RP(n,e,t,r){const s={},a=r(n,{});for(const x in a)s[x]=Gc(a[x]);let{initial:u,animate:d}=n;const f=$h(n),p=Vx(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let _=t?t.initial===!1:!1;_=_||u===!1;const w=_?d:u;if(w&&typeof w!="boolean"&&!zh(w)){const x=Array.isArray(w)?w:[w];for(let A=0;A<x.length;A++){const D=km(n,x[A]);if(D){const{transitionEnd:V,transition:k,...W}=D;for(const q in W){let G=W[q];if(Array.isArray(G)){const ne=_?G.length-1:0;G=G[ne]}G!==null&&(s[q]=G)}for(const q in V)s[q]=V[q]}}}return s}const wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(wa),Fx=n=>e=>typeof e=="string"&&e.startsWith(n),Ux=Fx("--"),kP=Fx("var(--"),Nm=n=>kP(n)?NP.test(n.split("/*")[0].trim()):!1,NP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bx=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Jr=(n,e,t)=>t>e?e:t<n?n:t,xa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ql={...xa,transform:n=>Jr(0,1,n)},Uc={...xa,default:1},ou=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),bi=ou("deg"),gr=ou("%"),we=ou("px"),bP=ou("vh"),DP=ou("vw"),E0={...gr,parse:n=>gr.parse(n)/100,transform:n=>gr.transform(n*100)},VP={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},jP={rotate:bi,rotateX:bi,rotateY:bi,rotateZ:bi,scale:Uc,scaleX:Uc,scaleY:Uc,scaleZ:Uc,skew:bi,skewX:bi,skewY:bi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:ql,originX:E0,originY:E0,originZ:we},S0={...xa,transform:Math.round},bm={...VP,...jP,zIndex:S0,size:we,fillOpacity:ql,strokeOpacity:ql,numOctaves:S0},MP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LP=wa.length;function OP(n,e,t){let r="",s=!0;for(let a=0;a<LP;a++){const u=wa[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const p=Bx(d,bm[u]);if(!f){s=!1;const _=MP[u]||u;r+=`${_}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Dm(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const p=e[f];if(qs.has(f)){u=!0;continue}else if(Ux(f)){s[f]=p;continue}else{const _=Bx(p,bm[f]);f.startsWith("origin")?(d=!0,a[f]=_):r[f]=_}}if(e.transform||(u||t?r.transform=OP(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:_=0}=a;r.transformOrigin=`${f} ${p} ${_}`}}const FP={offset:"stroke-dashoffset",array:"stroke-dasharray"},UP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?FP:UP;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function I0(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function zP(n,e,t){const r=I0(e,n.x,n.width),s=I0(t,n.y,n.height);return`${r} ${s}`}function Vm(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},_,w){if(Dm(n,p,w),_){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:A,dimensions:D}=n;x.transform&&(D&&(A.transform=x.transform),delete x.transform),D&&(s!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=zP(D,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),u!==void 0&&BP(x,u,d,f,!1)}const jm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zx=()=>({...jm(),attrs:{}}),Mm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $x(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const Hx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wx(n,e,t,r){$x(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(Hx.has(s)?s:Pm(s),e.attrs[s])}const fh={};function $P(n){Object.assign(fh,n)}function Kx(n,{layout:e,layoutId:t}){return qs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!fh[n]||n==="opacity")}function Lm(n,e,t){var r;const{style:s}=n,a={};for(const u in s)(Yt(s[u])||e.style&&Yt(e.style[u])||Kx(u,n)||((r=t==null?void 0:t.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=s[u]);return a}function qx(n,e,t){const r=Lm(n,e,t);for(const s in n)if(Yt(n[s])||Yt(e[s])){const a=wa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function HP(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const A0=["x","y","width","height","cx","cy","r"],WP={useVisualState:Ox({scrapeMotionValuesFromProps:qx,createRenderState:zx,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in s)if(qs.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<A0.length;d++){const f=A0[d];n[f]!==e[f]&&(u=!0)}u&&Xe.read(()=>{HP(t,r),Xe.render(()=>{Vm(r,s,Mm(t.tagName),n.transformTemplate),Wx(t,r)})})}})},KP={useVisualState:Ox({scrapeMotionValuesFromProps:Lm,createRenderState:jm})};function Gx(n,e,t){for(const r in e)!Yt(e[r])&&!Kx(r,t)&&(n[r]=e[r])}function qP({transformTemplate:n},e){return O.useMemo(()=>{const t=jm();return Dm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function GP(n,e){const t=n.style||{},r={};return Gx(r,t,n),Object.assign(r,qP(n,e)),r}function QP(n,e){const t={},r=GP(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function YP(n,e,t,r){const s=O.useMemo(()=>{const a=zx();return Vm(a,e,Mm(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};Gx(a,n.style,n),s.style={...a,...s.style}}return s}function XP(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(Rm(t)?YP:QP)(r,a,u,t),p=dP(r,typeof t=="string",n),_=t!==O.Fragment?{...p,...f,ref:s}:{},{children:w}=r,x=O.useMemo(()=>Yt(w)?w.get():w,[w]);return O.createElement(t,{..._,children:x})}}function JP(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Rm(r)?WP:KP,preloadedFeatures:n,useRender:XP(s),createVisualElement:e,Component:r};return xP(u)}}function Qx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Hh(n,e,t){const r=n.getProps();return km(r,e,t!==void 0?t:r.custom,n)}const ZP=Sm(()=>window.ScrollTimeline!==void 0);class eC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(ZP()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tC extends eC{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Om(n,e){return n?n[e]||n.default||n:void 0}const Ip=2e4;function Yx(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Ip;)e+=t,r=n.next(e);return e>=Ip?1/0:e}function Fm(n){return typeof n=="function"}function P0(n,e){n.timeline=e,n.onfinish=null}const Um=n=>Array.isArray(n)&&typeof n[0]=="number",nC={linearEasing:void 0};function rC(n,e){const t=Sm(n);return()=>{var r;return(r=nC[e])!==null&&r!==void 0?r:t()}}const ph=rC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xx=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(sa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Jx(n){return!!(typeof n=="function"&&ph()||!n||typeof n=="string"&&(n in Ap||ph())||Um(n)||Array.isArray(n)&&n.every(Jx))}const Il=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Ap={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function Zx(n,e){if(n)return typeof n=="function"&&ph()?Xx(n,e):Um(n)?Il(n):Array.isArray(n)?n.map(t=>Zx(t,e)||Ap.easeOut):Ap[n]}const Zn={x:!1,y:!1};function eT(){return Zn.x||Zn.y}function iC(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function tT(n,e){const t=iC(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function C0(n){return e=>{e.pointerType==="touch"||eT()||n(e)}}function sC(n,e,t={}){const[r,s,a]=tT(n,t),u=C0(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const _=C0(w=>{p(w),f.removeEventListener("pointerleave",_)});f.addEventListener("pointerleave",_,s)});return r.forEach(d=>{d.addEventListener("pointerenter",u,s)}),a}const nT=(n,e)=>e?n===e?!0:nT(n,e.parentElement):!1,Bm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,oC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aC(n){return oC.has(n.tagName)||n.tabIndex!==-1}const Al=new WeakSet;function R0(n){return e=>{e.key==="Enter"&&n(e)}}function Gf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lC=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=R0(()=>{if(Al.has(t))return;Gf(t,"down");const s=R0(()=>{Gf(t,"up")}),a=()=>Gf(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function k0(n){return Bm(n)&&!eT()}function uC(n,e,t={}){const[r,s,a]=tT(n,t),u=d=>{const f=d.currentTarget;if(!k0(d)||Al.has(f))return;Al.add(f);const p=e(d),_=(A,D)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",x),!(!k0(A)||!Al.has(f))&&(Al.delete(f),typeof p=="function"&&p(A,{success:D}))},w=A=>{_(A,t.useGlobalTarget||nT(f,A.target))},x=A=>{_(A,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",x,s)};return r.forEach(d=>{!aC(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),d.addEventListener("focus",p=>lC(p,s),s)}),a}function cC(n){return n==="x"||n==="y"?Zn[n]?null:(Zn[n]=!0,()=>{Zn[n]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}const rT=new Set(["width","height","top","left","right","bottom",...wa]);let Qc;function hC(){Qc=void 0}const yr={now:()=>(Qc===void 0&&yr.set(Ot.isProcessing||oP.useManualTiming?Ot.timestamp:performance.now()),Qc),set:n=>{Qc=n,queueMicrotask(hC)}};function zm(n,e){n.indexOf(e)===-1&&n.push(e)}function $m(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Hm{constructor(){this.subscriptions=[]}add(e){return zm(this.subscriptions,e),()=>$m(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iT(n,e){return e?n*(1e3/e):0}const N0=30,dC=n=>!isNaN(parseFloat(n));class fC{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=yr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Hm);const r=this.events[e].add(t);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,N0);return iT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(n,e){return new fC(n,e)}function pC(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Gl(t))}function mC(n,e){const t=Hh(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const d=PP(a[u]);pC(n,u,d)}}function gC(n){return!!(Yt(n)&&n.add)}function Pp(n,e){const t=n.getValue("willChange");if(gC(t))return t.add(e)}function sT(n){return n.props[jx]}const oT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,yC=1e-7,vC=12;function _C(n,e,t,r,s){let a,u,d=0;do u=e+(t-e)/2,a=oT(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>yC&&++d<vC);return u}function au(n,e,t,r){if(n===e&&t===r)return Tn;const s=a=>_C(a,0,1,n,t);return a=>a===0||a===1?a:oT(s(a),e,r)}const aT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,lT=n=>e=>1-n(1-e),uT=au(.33,1.53,.69,.99),Wm=lT(uT),cT=aT(Wm),hT=n=>(n*=2)<1?.5*Wm(n):.5*(2-Math.pow(2,-10*(n-1))),Km=n=>1-Math.sin(Math.acos(n)),dT=lT(Km),fT=aT(Km),pT=n=>/^0[^.\s]+$/u.test(n);function wC(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pT(n):!0}const Vl=n=>Math.round(n*1e5)/1e5,qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xC(n){return n==null}const TC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gm=(n,e)=>t=>!!(typeof t=="string"&&TC.test(t)&&t.startsWith(n)||e&&!xC(t)&&Object.prototype.hasOwnProperty.call(t,e)),mT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,d]=r.match(qm);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},EC=n=>Jr(0,255,n),Qf={...xa,transform:n=>Math.round(EC(n))},Fs={test:Gm("rgb","red"),parse:mT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Qf.transform(n)+", "+Qf.transform(e)+", "+Qf.transform(t)+", "+Vl(ql.transform(r))+")"};function SC(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cp={test:Gm("#"),parse:SC,transform:Fs.transform},Yo={test:Gm("hsl","hue"),parse:mT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+gr.transform(Vl(e))+", "+gr.transform(Vl(t))+", "+Vl(ql.transform(r))+")"},qt={test:n=>Fs.test(n)||Cp.test(n)||Yo.test(n),parse:n=>Fs.test(n)?Fs.parse(n):Yo.test(n)?Yo.parse(n):Cp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fs.transform(n):Yo.transform(n)},IC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AC(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(qm))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(IC))===null||t===void 0?void 0:t.length)||0)>0}const gT="number",yT="color",PC="var",CC="var(",b0="${}",RC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ql(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const d=e.replace(RC,f=>(qt.test(f)?(r.color.push(a),s.push(yT),t.push(qt.parse(f))):f.startsWith(CC)?(r.var.push(a),s.push(PC),t.push(f)):(r.number.push(a),s.push(gT),t.push(parseFloat(f))),++a,b0)).split(b0);return{values:t,split:d,indexes:r,types:s}}function vT(n){return Ql(n).values}function _T(n){const{split:e,types:t}=Ql(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const d=t[u];d===gT?a+=Vl(s[u]):d===yT?a+=qt.transform(s[u]):a+=s[u]}return a}}const kC=n=>typeof n=="number"?0:n;function NC(n){const e=vT(n);return _T(n)(e.map(kC))}const Ki={test:AC,parse:vT,createTransformer:_T,getAnimatableNone:NC},bC=new Set(["brightness","contrast","saturate","opacity"]);function DC(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(qm)||[];if(!r)return n;const s=t.replace(r,"");let a=bC.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const VC=/\b([a-z-]*)\(.*?\)/gu,Rp={...Ki,getAnimatableNone:n=>{const e=n.match(VC);return e?e.map(DC).join(" "):n}},jC={...bm,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Rp,WebkitFilter:Rp},Qm=n=>jC[n];function wT(n,e){let t=Qm(n);return t!==Rp&&(t=Ki),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const MC=new Set(["auto","none","0"]);function LC(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!MC.has(a)&&Ql(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=wT(t,s)}const D0=n=>n===xa||n===we,V0=(n,e)=>parseFloat(n.split(", ")[e]),j0=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return V0(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?V0(a[1],n):0}},OC=new Set(["x","y","z"]),FC=wa.filter(n=>!OC.has(n));function UC(n){const e=[];return FC.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const aa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:j0(4,13),y:j0(5,14)};aa.translateX=aa.x;aa.translateY=aa.y;const Bs=new Set;let kp=!1,Np=!1;function xT(){if(Np){const n=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=UC(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Np=!1,kp=!1,Bs.forEach(n=>n.complete()),Bs.clear()}function TT(){Bs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Np=!0)})}function BC(){TT(),xT()}class Ym{constructor(e,t,r,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bs.add(this),kp||(kp=!0,Xe.read(TT),Xe.resolveKeyframes(xT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=s==null?void 0:s.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),s&&u===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ET=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),zC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $C(n){const e=zC.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function ST(n,e,t=1){const[r,s]=$C(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return ET(u)?parseFloat(u):u}return Nm(s)?ST(s,e,t+1):s}const IT=n=>e=>e.test(n),HC={test:n=>n==="auto",parse:n=>n},AT=[xa,we,gr,bi,DP,bP,HC],M0=n=>AT.find(IT(n));class PT extends Ym{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Nm(p))){const _=ST(p,t.current);_!==void 0&&(e[f]=_),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!rT.has(r)||e.length!==2)return;const[s,a]=e,u=M0(s),d=M0(a);if(u!==d)if(D0(u)&&D0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)wC(e[s])&&r.push(s);r.length&&LC(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,d=s[u];s[u]=aa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const L0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ki.test(n)||n==="0")&&!n.startsWith("url("));function WC(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function KC(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=L0(s,e),d=L0(a,e);return!u||!d?!1:WC(n)||(t==="spring"||Fm(t))&&r}const qC=n=>n!==null;function Wh(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(qC),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const GC=40;class CT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BC(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!KC(e,r,s,a))if(u)this.options.duration=0;else{f&&f(Wh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const _=this.initPlayback(e,t);_!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,..._},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const it=(n,e,t)=>n+(e-n)*t;function Yf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function QC({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;s=Yf(f,d,n+1/3),a=Yf(f,d,n),u=Yf(f,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function mh(n,e){return t=>t>0?e:n}const Xf=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},YC=[Cp,Fs,Yo],XC=n=>YC.find(e=>e.test(n));function O0(n){const e=XC(n);if(!e)return!1;let t=e.parse(n);return e===Yo&&(t=QC(t)),t}const F0=(n,e)=>{const t=O0(n),r=O0(e);if(!t||!r)return mh(n,e);const s={...t};return a=>(s.red=Xf(t.red,r.red,a),s.green=Xf(t.green,r.green,a),s.blue=Xf(t.blue,r.blue,a),s.alpha=it(t.alpha,r.alpha,a),Fs.transform(s))},JC=(n,e)=>t=>e(n(t)),lu=(...n)=>n.reduce(JC),bp=new Set(["none","hidden"]);function ZC(n,e){return bp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function eR(n,e){return t=>it(n,e,t)}function Xm(n){return typeof n=="number"?eR:typeof n=="string"?Nm(n)?mh:qt.test(n)?F0:rR:Array.isArray(n)?RT:typeof n=="object"?qt.test(n)?F0:tR:mh}function RT(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>Xm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function tR(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Xm(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function nR(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][s[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,s[u]++}return r}const rR=(n,e)=>{const t=Ki.createTransformer(e),r=Ql(n),s=Ql(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?bp.has(n)&&!s.values.length||bp.has(e)&&!r.values.length?ZC(n,e):lu(RT(nR(r,s),s.values),t):mh(n,e)};function kT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?it(n,e,t):Xm(n)(n,e)}const iR=5;function NT(n,e,t){const r=Math.max(e-iR,0);return iT(t-n(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U0=.001;function sR({duration:n=at.duration,bounce:e=at.bounce,velocity:t=at.velocity,mass:r=at.mass}){let s,a,u=1-e;u=Jr(at.minDamping,at.maxDamping,u),n=Jr(at.minDuration,at.maxDuration,Qr(n)),u<1?(s=p=>{const _=p*u,w=_*n,x=_-t,A=Dp(p,u),D=Math.exp(-w);return U0-x/A*D},a=p=>{const w=p*u*n,x=w*t+t,A=Math.pow(u,2)*Math.pow(p,2)*n,D=Math.exp(-w),V=Dp(Math.pow(p,2),u);return(-s(p)+U0>0?-1:1)*((x-A)*D)/V}):(s=p=>{const _=Math.exp(-p*n),w=(p-t)*n+1;return-.001+_*w},a=p=>{const _=Math.exp(-p*n),w=(t-p)*(n*n);return _*w});const d=5/n,f=aR(s,a,d);if(n=Gr(n),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const oR=12;function aR(n,e,t){let r=t;for(let s=1;s<oR;s++)r=r-n(r)/e(r);return r}function Dp(n,e){return n*Math.sqrt(1-e*e)}const lR=["duration","bounce"],uR=["stiffness","damping","mass"];function B0(n,e){return e.some(t=>n[t]!==void 0)}function cR(n){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...n};if(!B0(n,uR)&&B0(n,lR))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*Jr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:at.mass,stiffness:s,damping:a}}else{const t=sR(n);e={...e,...t,mass:at.mass},e.isResolvedFromDuration=!0}return e}function bT(n=at.visualDuration,e=at.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:_,duration:w,velocity:x,isResolvedFromDuration:A}=cR({...t,velocity:-Qr(t.velocity||0)}),D=x||0,V=p/(2*Math.sqrt(f*_)),k=u-a,W=Qr(Math.sqrt(f/_)),q=Math.abs(k)<5;r||(r=q?at.restSpeed.granular:at.restSpeed.default),s||(s=q?at.restDelta.granular:at.restDelta.default);let G;if(V<1){const te=Dp(W,V);G=oe=>{const b=Math.exp(-V*W*oe);return u-b*((D+V*W*k)/te*Math.sin(te*oe)+k*Math.cos(te*oe))}}else if(V===1)G=te=>u-Math.exp(-W*te)*(k+(D+W*k)*te);else{const te=W*Math.sqrt(V*V-1);G=oe=>{const b=Math.exp(-V*W*oe),S=Math.min(te*oe,300);return u-b*((D+V*W*k)*Math.sinh(S)+te*k*Math.cosh(S))/te}}const ne={calculatedDuration:A&&w||null,next:te=>{const oe=G(te);if(A)d.done=te>=w;else{let b=0;V<1&&(b=te===0?Gr(D):NT(G,te,oe));const S=Math.abs(b)<=r,P=Math.abs(u-oe)<=s;d.done=S&&P}return d.value=d.done?u:oe,d},toString:()=>{const te=Math.min(Yx(ne),Ip),oe=Xx(b=>ne.next(te*b).value,te,30);return te+"ms "+oe}};return ne}function z0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:_}){const w=n[0],x={done:!1,value:w},A=S=>d!==void 0&&S<d||f!==void 0&&S>f,D=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let V=t*e;const k=w+V,W=u===void 0?k:u(k);W!==k&&(V=W-w);const q=S=>-V*Math.exp(-S/r),G=S=>W+q(S),ne=S=>{const P=q(S),N=G(S);x.done=Math.abs(P)<=p,x.value=x.done?W:N};let te,oe;const b=S=>{A(x.value)&&(te=S,oe=bT({keyframes:[x.value,D(x.value)],velocity:NT(G,S,x.value),damping:s,stiffness:a,restDelta:p,restSpeed:_}))};return b(0),{calculatedDuration:null,next:S=>{let P=!1;return!oe&&te===void 0&&(P=!0,ne(S),b(S)),te!==void 0&&S>=te?oe.next(S-te):(!P&&ne(S),x)}}}const hR=au(.42,0,1,1),dR=au(0,0,.58,1),DT=au(.42,0,.58,1),fR=n=>Array.isArray(n)&&typeof n[0]!="number",pR={linear:Tn,easeIn:hR,easeInOut:DT,easeOut:dR,circIn:Km,circInOut:fT,circOut:dT,backIn:Wm,backInOut:cT,backOut:uT,anticipate:hT},$0=n=>{if(Um(n)){kx(n.length===4);const[e,t,r,s]=n;return au(e,t,r,s)}else if(typeof n=="string")return pR[n];return n};function mR(n,e,t){const r=[],s=t||kT,a=n.length-1;for(let u=0;u<a;u++){let d=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Tn:e;d=lu(f,d)}r.push(d)}return r}function gR(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(kx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=mR(e,r,s),f=d.length,p=_=>{if(u&&_<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(_<n[w+1]);w++);const x=sa(n[w],n[w+1],_);return d[w](x)};return t?_=>p(Jr(n[0],n[a-1],_)):p}function yR(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=sa(0,e,r);n.push(it(t,1,s))}}function vR(n){const e=[0];return yR(e,n.length-1),e}function _R(n,e){return n.map(t=>t*e)}function wR(n,e){return n.map(()=>e||DT).splice(0,n.length-1)}function gh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=fR(r)?r.map($0):$0(r),a={done:!1,value:e[0]},u=_R(t&&t.length===e.length?t:vR(e),n),d=gR(u,e,{ease:Array.isArray(s)?s:wR(e,s)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const xR=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Xe.update(e,!0),stop:()=>Wi(e),now:()=>Ot.isProcessing?Ot.timestamp:yr.now()}},TR={decay:z0,inertia:z0,tween:gh,keyframes:gh,spring:bT},ER=n=>n/100;class Jm extends CT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,u=(s==null?void 0:s.KeyframeResolver)||Ym,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,d,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=this.options,d=Fm(t)?t:TR[t]||gh;let f,p;d!==gh&&typeof e[0]!="number"&&(f=lu(ER,kT(e[0],e[1])),e=[0,100]);const _=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=Yx(_));const{calculatedDuration:w}=_,x=w+s,A=x*(r+1)-s;return{generator:_,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:x,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:_,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:x,repeat:A,repeatType:D,repeatDelay:V,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-_/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-x*(this.speed>=0?1:-1),q=this.speed>=0?W<0:W>_;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let G=this.currentTime,ne=a;if(A){const S=Math.min(this.currentTime,_)/w;let P=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&P--,P=Math.min(P,A+1),!!(P%2)&&(D==="reverse"?(N=1-N,V&&(N-=V/w)):D==="mirror"&&(ne=u)),G=Jr(0,1,N)*w}const te=q?{done:!1,value:f[0]}:ne.next(G);d&&(te.value=d(te.value));let{done:oe}=te;!q&&p!==null&&(oe=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return b&&s!==void 0&&(te.value=Wh(f,this.options,s)),k&&k(te.value),b&&this.finish(),te}get duration(){const{resolved:e}=this;return e?Qr(e.calculatedDuration):0}get time(){return Qr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=xR,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const SR=new Set(["opacity","clipPath","filter","transform"]);function IR(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:t};f&&(p.offset=f);const _=Zx(d,s);return Array.isArray(_)&&(p.easing=_),n.animate(p,{delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const AR=Sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yh=10,PR=2e4;function CR(n){return Fm(n.type)||n.type==="spring"||!Jx(n.ease)}function RR(n,e){const t=new Jm({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<PR;)r=t.sample(a),s.push(r.value),a+=yh;return{times:void 0,keyframes:s,duration:a-yh,ease:"linear"}}const VT={anticipate:hT,backInOut:cT,circInOut:fT};function kR(n){return n in VT}class H0 extends CT{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new PT(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:u,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&ph()&&kR(a)&&(a=VT[a]),CR(this.options)){const{onComplete:w,onUpdate:x,motionValue:A,element:D,...V}=this.options,k=RR(e,V);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,a=k.ease,u="keyframes"}const _=IR(d.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return _.startTime=p??this.calcStartTime(),this.pendingTimeline?(P0(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;d.set(Wh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:r,times:s,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Qr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Qr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Tn;const{animation:r}=t;P0(r,e)}return Tn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:_,onComplete:w,element:x,...A}=this.options,D=new Jm({...A,keyframes:r,duration:s,type:a,ease:u,times:d,isGenerator:!0}),V=Gr(this.time);p.setWithVelocity(D.sample(V-yh).value,D.sample(V).value,yh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return AR()&&r&&SR.has(r)&&!f&&!p&&!s&&a!=="mirror"&&u!==0&&d!=="inertia"}}const NR={type:"spring",stiffness:500,damping:25,restSpeed:10},bR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),DR={type:"keyframes",duration:.8},VR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jR=(n,{keyframes:e})=>e.length>2?DR:qs.has(n)?n.startsWith("scale")?bR(e[1]):NR:VR;function MR({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,..._}){return!!Object.keys(_).length}const Zm=(n,e,t,r={},s,a)=>u=>{const d=Om(r,n)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Gr(f);let _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:s};MR(d)||(_={..._,...jR(n,_)}),_.duration&&(_.duration=Gr(_.duration)),_.repeatDelay&&(_.repeatDelay=Gr(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let w=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const x=Wh(_.keyframes,d);if(x!==void 0)return Xe.update(()=>{_.onUpdate(x),_.onComplete()}),new tC([])}return!a&&H0.supports(_)?new H0(_):new Jm(_)};function LR({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function jT(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const p=[],_=s&&n.animationState&&n.animationState.getState()[s];for(const w in f){const x=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),A=f[w];if(A===void 0||_&&LR(_,w))continue;const D={delay:t,...Om(u||{},w)};let V=!1;if(window.MotionHandoffAnimation){const W=sT(n);if(W){const q=window.MotionHandoffAnimation(W,w,Xe);q!==null&&(D.startTime=q,V=!0)}}Pp(n,w),x.start(Zm(w,x,A,n.shouldReduceMotion&&rT.has(w)?{type:!1}:D,n,V));const k=x.animation;k&&p.push(k)}return d&&Promise.all(p).then(()=>{Xe.update(()=>{d&&mC(n,d)})}),p}function Vp(n,e,t={}){var r;const s=Hh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const u=s?()=>Promise.all(jT(n,s,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:_=0,staggerChildren:w,staggerDirection:x}=a;return OR(n,e,_+p,w,x,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,_]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>_())}else return Promise.all([u(),d(t.delay)])}function OR(n,e,t=0,r=0,s=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(n.variantChildren).sort(FR).forEach((p,_)=>{p.notify("AnimationStart",e),u.push(Vp(p,e,{...a,delay:t+f(_)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function FR(n,e){return n.sortNodePosition(e)}function UR(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Vp(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Vp(n,e,t);else{const s=typeof e=="function"?Hh(n,e,t.custom):e;r=Promise.all(jT(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const BR=Am.length;function MT(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?MT(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<BR;t++){const r=Am[t],s=n.props[r];(Kl(s)||s===!1)&&(e[r]=s)}return e}const zR=[...Im].reverse(),$R=Im.length;function HR(n){return e=>Promise.all(e.map(({animation:t,options:r})=>UR(n,t,r)))}function WR(n){let e=HR(n),t=W0(),r=!0;const s=f=>(p,_)=>{var w;const x=Hh(n,_,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(x){const{transition:A,transitionEnd:D,...V}=x;p={...p,...V,...D}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,_=MT(n.parent)||{},w=[],x=new Set;let A={},D=1/0;for(let k=0;k<$R;k++){const W=zR[k],q=t[W],G=p[W]!==void 0?p[W]:_[W],ne=Kl(G),te=W===f?q.isActive:null;te===!1&&(D=k);let oe=G===_[W]&&G!==p[W]&&ne;if(oe&&r&&n.manuallyAnimateOnMount&&(oe=!1),q.protectedKeys={...A},!q.isActive&&te===null||!G&&!q.prevProp||zh(G)||typeof G=="boolean")continue;const b=KR(q.prevProp,G);let S=b||W===f&&q.isActive&&!oe&&ne||k>D&&ne,P=!1;const N=Array.isArray(G)?G:[G];let M=N.reduce(s(W),{});te===!1&&(M={});const{prevResolvedValues:U={}}=q,R={...U,...M},Je=Ie=>{S=!0,x.has(Ie)&&(P=!0,x.delete(Ie)),q.needsAnimating[Ie]=!0;const ie=n.getValue(Ie);ie&&(ie.liveStyle=!1)};for(const Ie in R){const ie=M[Ie],pe=U[Ie];if(A.hasOwnProperty(Ie))continue;let ae=!1;Sp(ie)&&Sp(pe)?ae=!Qx(ie,pe):ae=ie!==pe,ae?ie!=null?Je(Ie):x.add(Ie):ie!==void 0&&x.has(Ie)?Je(Ie):q.protectedKeys[Ie]=!0}q.prevProp=G,q.prevResolvedValues=M,q.isActive&&(A={...A,...M}),r&&n.blockInitialAnimation&&(S=!1),S&&(!(oe&&b)||P)&&w.push(...N.map(Ie=>({animation:Ie,options:{type:W}})))}if(x.size){const k={};x.forEach(W=>{const q=n.getBaseTarget(W),G=n.getValue(W);G&&(G.liveStyle=!0),k[W]=q??null}),w.push({animation:k})}let V=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(w):Promise.resolve()}function d(f,p){var _;if(t[f].isActive===p)return Promise.resolve();(_=n.variantChildren)===null||_===void 0||_.forEach(x=>{var A;return(A=x.animationState)===null||A===void 0?void 0:A.setActive(f,p)}),t[f].isActive=p;const w=u(f);for(const x in t)t[x].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=W0(),r=!0}}}function KR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Qx(e,n):!1}function Ds(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W0(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class ts{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qR extends ts{constructor(e){super(e),e.animationState||(e.animationState=WR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let GR=0;class QR extends ts{constructor(){super(...arguments),this.id=GR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const YR={animation:{Feature:qR},exit:{Feature:QR}};function Yl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function uu(n){return{point:{x:n.pageX,y:n.pageY}}}const XR=n=>e=>Bm(e)&&n(e,uu(e));function jl(n,e,t,r){return Yl(n,e,XR(t),r)}const K0=(n,e)=>Math.abs(n-e);function JR(n,e){const t=K0(n.x,e.x),r=K0(n.y,e.y);return Math.sqrt(t**2+r**2)}class LT{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Zf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,A=JR(w.offset,{x:0,y:0})>=3;if(!x&&!A)return;const{point:D}=w,{timestamp:V}=Ot;this.history.push({...D,timestamp:V});const{onStart:k,onMove:W}=this.handlers;x||(k&&k(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Jf(x,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:A,onSessionEnd:D,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Zf(w.type==="pointercancel"?this.lastMoveEventInfo:Jf(x,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,k),D&&D(w,k)},!Bm(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=uu(e),d=Jf(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ot;this.history=[{...f,timestamp:p}];const{onSessionStart:_}=t;_&&_(e,Zf(d,this.history)),this.removeListeners=lu(jl(this.contextWindow,"pointermove",this.handlePointerMove),jl(this.contextWindow,"pointerup",this.handlePointerUp),jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wi(this.updatePoint)}}function Jf(n,e){return e?{point:e(n.point)}:n}function q0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Zf({point:n},e){return{point:n,delta:q0(n,OT(e)),offset:q0(n,ZR(e)),velocity:ek(e,.1)}}function ZR(n){return n[0]}function OT(n){return n[n.length-1]}function ek(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=OT(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Gr(e)));)t--;if(!r)return{x:0,y:0};const a=Qr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const FT=1e-4,tk=1-FT,nk=1+FT,UT=.01,rk=0-UT,ik=0+UT;function En(n){return n.max-n.min}function sk(n,e,t){return Math.abs(n-e)<=t}function G0(n,e,t,r=.5){n.origin=r,n.originPoint=it(e.min,e.max,n.origin),n.scale=En(t)/En(e),n.translate=it(t.min,t.max,n.origin)-n.originPoint,(n.scale>=tk&&n.scale<=nk||isNaN(n.scale))&&(n.scale=1),(n.translate>=rk&&n.translate<=ik||isNaN(n.translate))&&(n.translate=0)}function Ml(n,e,t,r){G0(n.x,e.x,t.x,r?r.originX:void 0),G0(n.y,e.y,t.y,r?r.originY:void 0)}function Q0(n,e,t){n.min=t.min+e.min,n.max=n.min+En(e)}function ok(n,e,t){Q0(n.x,e.x,t.x),Q0(n.y,e.y,t.y)}function Y0(n,e,t){n.min=e.min-t.min,n.max=n.min+En(e)}function Ll(n,e,t){Y0(n.x,e.x,t.x),Y0(n.y,e.y,t.y)}function ak(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?it(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?it(t,n,r.max):Math.min(n,t)),n}function X0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function lk(n,{top:e,left:t,bottom:r,right:s}){return{x:X0(n.x,t,s),y:X0(n.y,e,r)}}function J0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function uk(n,e){return{x:J0(n.x,e.x),y:J0(n.y,e.y)}}function ck(n,e){let t=.5;const r=En(n),s=En(e);return s>r?t=sa(e.min,e.max-r,n.min):r>s&&(t=sa(n.min,n.max-s,e.min)),Jr(0,1,t)}function hk(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const jp=.35;function dk(n=jp){return n===!1?n=0:n===!0&&(n=jp),{x:Z0(n,"left","right"),y:Z0(n,"top","bottom")}}function Z0(n,e,t){return{min:e_(n,e),max:e_(n,t)}}function e_(n,e){return typeof n=="number"?n:n[e]||0}const t_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:t_(),y:t_()}),n_=()=>({min:0,max:0}),ct=()=>({x:n_(),y:n_()});function jn(n){return[n("x"),n("y")]}function BT({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function fk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function pk(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ep(n){return n===void 0||n===1}function Mp({scale:n,scaleX:e,scaleY:t}){return!ep(n)||!ep(e)||!ep(t)}function js(n){return Mp(n)||zT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zT(n){return r_(n.x)||r_(n.y)}function r_(n){return n&&n!=="0%"}function vh(n,e,t){const r=n-t,s=e*r;return t+s}function i_(n,e,t,r,s){return s!==void 0&&(n=vh(n,s,r)),vh(n,t,r)+e}function Lp(n,e=0,t=1,r,s){n.min=i_(n.min,e,t,r,s),n.max=i_(n.max,e,t,r,s)}function $T(n,{x:e,y:t}){Lp(n.x,e.translate,e.scale,e.originPoint),Lp(n.y,t.translate,t.scale,t.originPoint)}const s_=.999999999999,o_=1.0000000000001;function mk(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let d=0;d<s;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,$T(n,u)),r&&js(a.latestValues)&&Zo(n,a.latestValues))}e.x<o_&&e.x>s_&&(e.x=1),e.y<o_&&e.y>s_&&(e.y=1)}function Jo(n,e){n.min=n.min+e,n.max=n.max+e}function a_(n,e,t,r,s=.5){const a=it(n.min,n.max,s);Lp(n,e,t,a,r)}function Zo(n,e){a_(n.x,e.x,e.scaleX,e.scale,e.originX),a_(n.y,e.y,e.scaleY,e.scale,e.originY)}function HT(n,e){return BT(pk(n.getBoundingClientRect(),e))}function gk(n,e,t){const r=HT(n,t),{scroll:s}=e;return s&&(Jo(r.x,s.offset.x),Jo(r.y,s.offset.y)),r}const WT=({current:n})=>n?n.ownerDocument.defaultView:null,yk=new WeakMap;class vk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(uu(_).point)},a=(_,w)=>{const{drag:x,dragPropagation:A,onDragStart:D}=this.getProps();if(x&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cC(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(k=>{let W=this.getAxisMotionValue(k).get()||0;if(gr.test(W)){const{projection:q}=this.visualElement;if(q&&q.layout){const G=q.layout.layoutBox[k];G&&(W=En(G)*(parseFloat(W)/100))}}this.originPoint[k]=W}),D&&Xe.postRender(()=>D(_,w)),Pp(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},u=(_,w)=>{const{dragPropagation:x,dragDirectionLock:A,onDirectionLock:D,onDrag:V}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=w;if(A&&this.currentDirection===null){this.currentDirection=_k(k),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",w.point,k),this.updateAxis("y",w.point,k),this.visualElement.render(),V&&V(_,w)},d=(_,w)=>this.stop(_,w),f=()=>jn(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new LT(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:WT(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Xe.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Bc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=ak(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Qo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=lk(s.layoutBox,t):this.constraints=!1,this.elastic=dk(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=hk(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Qo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=gk(r,s.root,this.visualElement.getTransformPagePoint());let u=uk(s.layout.layoutBox,a);if(t){const d=t(fk(u));this.hasMutatedConstraints=!!d,d&&(u=BT(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=jn(_=>{if(!Bc(_,t,this.currentDirection))return;let w=f&&f[_]||{};u&&(w={min:0,max:0});const x=s?200:1e6,A=s?40:1e7,D={type:"inertia",velocity:r?e[_]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(_,D)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Pp(this.visualElement,e),r.start(Zm(e,r,0,t,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(t=>{const{drag:r}=this.getProps();if(!Bc(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[t];a.set(e[t]-it(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Qo(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();s[u]=ck({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(u=>{if(!Bc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(it(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;yk.set(this.visualElement,this);const e=this.visualElement.current,t=jl(e,"pointerdown",f=>{const{drag:p,dragListener:_=!0}=this.getProps();p&&_&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Qo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Xe.read(r);const u=Yl(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=f[_].translate,w.set(w.get()+f[_].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=jp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Bc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function _k(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class wk extends ts{constructor(e){super(e),this.removeGroupControls=Tn,this.removeListeners=Tn,this.controls=new vk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const l_=n=>(e,t)=>{n&&Xe.postRender(()=>n(e,t))};class xk extends ts{constructor(){super(...arguments),this.removePointerDownListener=Tn}onPointerDown(e){this.session=new LT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:l_(e),onStart:l_(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&Xe.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Sl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=u_(n,e.target.x),r=u_(n,e.target.y);return`${t}% ${r}%`}},Tk={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Ki.parse(n);if(s.length>5)return r;const a=Ki.createTransformer(n),u=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=d,s[1+u]/=f;const p=it(d,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class Ek extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;$P(Sk),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Xe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KT(n){const[e,t]=Cx(),r=O.useContext(wm);return g.jsx(Ek,{...n,layoutGroup:r,switchLayoutGroup:O.useContext(Mx),isPresent:e,safeToRemove:t})}const Sk={borderRadius:{...Sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sl,borderTopRightRadius:Sl,borderBottomLeftRadius:Sl,borderBottomRightRadius:Sl,boxShadow:Tk};function Ik(n,e,t){const r=Yt(n)?n:Gl(n);return r.start(Zm("",r,e,t)),r.animation}function Ak(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Pk=(n,e)=>n.depth-e.depth;class Ck{constructor(){this.children=[],this.isDirty=!1}add(e){zm(this.children,e),this.isDirty=!0}remove(e){$m(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pk),this.isDirty=!1,this.children.forEach(e)}}function Rk(n,e){const t=yr.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Wi(r),n(a-e))};return Xe.read(r,!0),()=>Wi(r)}const qT=["TopLeft","TopRight","BottomLeft","BottomRight"],kk=qT.length,c_=n=>typeof n=="string"?parseFloat(n):n,h_=n=>typeof n=="number"||we.test(n);function Nk(n,e,t,r,s,a){s?(n.opacity=it(0,t.opacity!==void 0?t.opacity:1,bk(r)),n.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,Dk(r))):a&&(n.opacity=it(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<kk;u++){const d=`border${qT[u]}Radius`;let f=d_(e,d),p=d_(t,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||h_(f)===h_(p)?(n[d]=Math.max(it(c_(f),c_(p),r),0),(gr.test(p)||gr.test(f))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=it(e.rotate||0,t.rotate||0,r))}function d_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const bk=GT(0,.5,dT),Dk=GT(.5,.95,Tn);function GT(n,e,t){return r=>r<n?0:r>e?1:t(sa(n,e,r))}function f_(n,e){n.min=e.min,n.max=e.max}function Vn(n,e){f_(n.x,e.x),f_(n.y,e.y)}function p_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function m_(n,e,t,r,s){return n-=e,n=vh(n,1/t,r),s!==void 0&&(n=vh(n,1/s,r)),n}function Vk(n,e=0,t=1,r=.5,s,a=n,u=n){if(gr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=it(a.min,a.max,r);n===a&&(d-=e),n.min=m_(n.min,e,t,d,s),n.max=m_(n.max,e,t,d,s)}function g_(n,e,[t,r,s],a,u){Vk(n,e[t],e[r],e[s],e.scale,a,u)}const jk=["x","scaleX","originX"],Mk=["y","scaleY","originY"];function y_(n,e,t,r){g_(n.x,e,jk,t?t.x:void 0,r?r.x:void 0),g_(n.y,e,Mk,t?t.y:void 0,r?r.y:void 0)}function v_(n){return n.translate===0&&n.scale===1}function QT(n){return v_(n.x)&&v_(n.y)}function __(n,e){return n.min===e.min&&n.max===e.max}function Lk(n,e){return __(n.x,e.x)&&__(n.y,e.y)}function w_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function YT(n,e){return w_(n.x,e.x)&&w_(n.y,e.y)}function x_(n){return En(n.x)/En(n.y)}function T_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Ok{constructor(){this.members=[]}add(e){zm(this.members,e),e.scheduleRender()}remove(e){if($m(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fk(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:_,rotateX:w,rotateY:x,skewX:A,skewY:D}=t;p&&(r=`perspective(${p}px) ${r}`),_&&(r+=`rotate(${_}deg) `),w&&(r+=`rotateX(${w}deg) `),x&&(r+=`rotateY(${x}deg) `),A&&(r+=`skewX(${A}deg) `),D&&(r+=`skewY(${D}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pl=typeof window<"u"&&window.MotionDebug!==void 0,tp=["","X","Y","Z"],Uk={visibility:"hidden"},E_=1e3;let Bk=0;function np(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function XT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=sT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Xe,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&XT(r)}function JT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},d=e==null?void 0:e()){this.id=Bk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pl&&(Ms.totalNodes=Ms.resolvedTargetDeltas=Ms.recalculatedProjection=0),this.nodes.forEach(Hk),this.nodes.forEach(Qk),this.nodes.forEach(Yk),this.nodes.forEach(Wk),Pl&&window.MotionDebug.record(Ms)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ck)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Hm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ak(u),this.instance=u;const{layoutId:f,layout:p,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),n){let w;const x=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=Rk(x,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(I_))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&_&&(f||p)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:x,hasRelativeTargetChanged:A,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||_.getDefaultTransition()||tN,{onLayoutAnimationStart:k,onLayoutAnimationComplete:W}=_.getProps(),q=!this.targetLayout||!YT(this.targetLayout,D)||A,G=!x&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||G||x&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,G);const ne={...Om(V,"layout"),onPlay:k,onComplete:W};(_.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else x||I_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S_);return}this.isUpdating||this.nodes.forEach(qk),this.isUpdating=!1,this.nodes.forEach(Gk),this.nodes.forEach(zk),this.nodes.forEach($k),this.clearAllSnapshots();const d=yr.now();Ot.delta=Jr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,qf.update.process(Ot),qf.preRender.process(Ot),qf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kk),this.sharedNodes.forEach(Jk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!QT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,_=p!==this.prevTransformTemplateValue;u&&(d||js(this.latestValues)||_)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),nN(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ct();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(rN))){const{scroll:_}=this.root;_&&(Jo(f.x,_.offset.x),Jo(f.y,_.offset.y))}return f}removeElementScroll(u){var d;const f=ct();if(Vn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const _=this.path[p],{scroll:w,options:x}=_;_!==this.root&&w&&x.layoutScroll&&(w.wasRoot&&Vn(f,u),Jo(f.x,w.offset.x),Jo(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=ct();Vn(f,u);for(let p=0;p<this.path.length;p++){const _=this.path[p];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&Zo(f,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),js(_.latestValues)&&Zo(f,_.latestValues)}return js(this.latestValues)&&Zo(f,this.latestValues),f}removeTransform(u){const d=ct();Vn(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!js(p.latestValues))continue;Mp(p.latestValues)&&p.updateSnapshot();const _=ct(),w=p.measurePageBox();Vn(_,w),y_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,_)}return js(this.latestValues)&&y_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:x}=this.options;if(!(!this.layout||!(w||x))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ok(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),$T(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Ll(this.relativeTargetOrigin,this.target,A.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pl&&Ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mp(this.parent.latestValues)||zT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(p=!1),p)return;const{layout:_,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||w))return;Vn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,A=this.treeScale.y;mk(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ct());const{target:D}=d;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p_(this.prevProjectionDelta.x,this.projectionDelta.x),p_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==A||!T_(this.projectionDelta.x,this.prevProjectionDelta.x)||!T_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Pl&&Ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},_={...this.latestValues},w=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=ct(),A=f?f.source:void 0,D=this.layout?this.layout.source:void 0,V=A!==D,k=this.getStack(),W=!k||k.members.length<=1,q=!!(V&&!W&&this.options.crossfade===!0&&!this.path.some(eN));this.animationProgress=0;let G;this.mixTargetDelta=ne=>{const te=ne/1e3;A_(w.x,u.x,te),A_(w.y,u.y,te),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zk(this.relativeTarget,this.relativeTargetOrigin,x,te),G&&Lk(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=ct()),Vn(G,this.relativeTarget)),V&&(this.animationValues=_,Nk(_,p,this.latestValues,te,q,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Yc.hasAnimatedSinceResize=!0,this.currentAnimation=Ik(0,E_,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:_}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&ZT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ct();const w=En(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const x=En(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}Vn(d,f),Zo(d,_),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Ok),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&np("z",u,p,this.animationValues);for(let _=0;_<tp.length;_++)np(`rotate${tp[_]}`,u,p,this.animationValues),np(`skew${tp[_]}`,u,p,this.animationValues);u.render();for(const _ in p)u.setStaticValue(_,p[_]),this.animationValues&&(this.animationValues[_]=p[_]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Uk;const p={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Gc(u==null?void 0:u.pointerEvents)||"",p.transform=_?_(this.latestValues,""):"none",p;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const V={};return this.options.layoutId&&(V.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,V.pointerEvents=Gc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(V.transform=_?_({},""):"none",this.hasProjected=!1),V}const x=w.animationValues||w.latestValues;this.applyTransformsToTarget(),p.transform=Fk(this.projectionDeltaWithTransform,this.treeScale,x),_&&(p.transform=_(x,p.transform));const{x:A,y:D}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${D.origin*100}% 0`,w.animationValues?p.opacity=w===this?(f=(d=x.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=w===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const V in fh){if(x[V]===void 0)continue;const{correct:k,applyTo:W}=fh[V],q=p.transform==="none"?x[V]:k(x[V],w);if(W){const G=W.length;for(let ne=0;ne<G;ne++)p[W[ne]]=q}else p[V]=q}return this.options.layoutId&&(p.pointerEvents=w===this?Gc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(S_),this.root.sharedNodes.clear()}}}function zk(n){n.updateLayout()}function $k(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?jn(w=>{const x=u?t.measuredBox[w]:t.layoutBox[w],A=En(x);x.min=r[w].min,x.max=x.min+A}):ZT(a,t.layoutBox,r)&&jn(w=>{const x=u?t.measuredBox[w]:t.layoutBox[w],A=En(r[w]);x.max=x.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+A)});const d=Xo();Ml(d,r,t.layoutBox);const f=Xo();u?Ml(f,n.applyTransform(s,!0),t.measuredBox):Ml(f,r,t.layoutBox);const p=!QT(d);let _=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:x,layout:A}=w;if(x&&A){const D=ct();Ll(D,t.layoutBox,x.layoutBox);const V=ct();Ll(V,r,A.layoutBox),YT(D,V)||(_=!0),w.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=D,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:_})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Hk(n){Pl&&Ms.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Wk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Kk(n){n.clearSnapshot()}function S_(n){n.clearMeasurements()}function qk(n){n.isLayoutDirty=!1}function Gk(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function I_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Qk(n){n.resolveTargetDelta()}function Yk(n){n.calcProjection()}function Xk(n){n.resetSkewAndRotation()}function Jk(n){n.removeLeadSnapshot()}function A_(n,e,t){n.translate=it(e.translate,0,t),n.scale=it(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function P_(n,e,t,r){n.min=it(e.min,t.min,r),n.max=it(e.max,t.max,r)}function Zk(n,e,t,r){P_(n.x,e.x,t.x,r),P_(n.y,e.y,t.y,r)}function eN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const tN={duration:.45,ease:[.4,0,.1,1]},C_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),R_=C_("applewebkit/")&&!C_("chrome/")?Math.round:Tn;function k_(n){n.min=R_(n.min),n.max=R_(n.max)}function nN(n){k_(n.x),k_(n.y)}function ZT(n,e,t){return n==="position"||n==="preserve-aspect"&&!sk(x_(e),x_(t),.2)}function rN(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const iN=JT({attachResizeListener:(n,e)=>Yl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rp={current:void 0},eE=JT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rp.current){const n=new iN({});n.mount(window),n.setOptions({layoutScroll:!0}),rp.current=n}return rp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),sN={pan:{Feature:xk},drag:{Feature:wk,ProjectionNode:eE,MeasureLayout:KT}};function N_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&Xe.postRender(()=>a(e,uu(e)))}class oN extends ts{mount(){const{current:e}=this.node;e&&(this.unmount=sC(e,t=>(N_(this.node,t,"Start"),r=>N_(this.node,r,"End"))))}unmount(){}}class aN extends ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lu(Yl(this.node.current,"focus",()=>this.onFocus()),Yl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b_(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&Xe.postRender(()=>a(e,uu(e)))}class lN extends ts{mount(){const{current:e}=this.node;e&&(this.unmount=uC(e,t=>(b_(this.node,t,"Start"),(r,{success:s})=>b_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Op=new WeakMap,ip=new WeakMap,uN=n=>{const e=Op.get(n.target);e&&e(n)},cN=n=>{n.forEach(uN)};function hN({root:n,...e}){const t=n||document;ip.has(t)||ip.set(t,{});const r=ip.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cN,{root:n,...e})),r[s]}function dN(n,e,t){const r=hN(e);return Op.set(n,t),r.observe(n),()=>{Op.delete(n),r.unobserve(n)}}const fN={some:0,all:1};class pN extends ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fN[s]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),x=p?_:w;x&&x(f)};return dN(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(mN(e,t))&&this.startObserver()}unmount(){}}function mN({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const gN={inView:{Feature:pN},tap:{Feature:lN},focus:{Feature:aN},hover:{Feature:oN}},yN={layout:{ProjectionNode:eE,MeasureLayout:KT}},Fp={current:null},tE={current:!1};function vN(){if(tE.current=!0,!!Em)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fp.current=n.matches;n.addListener(e),e()}else Fp.current=!1}const _N=[...AT,qt,Ki],wN=n=>_N.find(IT(n)),D_=new WeakMap;function xN(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Yt(s))n.addValue(r,s);else if(Yt(a))n.addValue(r,Gl(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,Gl(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const V_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TN{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ym,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=yr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Xe.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:_}=u;this.onUpdate=_,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=$h(t),this.isVariantNode=Vx(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in x){const D=x[A];f[A]!==void 0&&Yt(D)&&D.set(f[A],!1)}}mount(e){this.current=e,D_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),tE.current||vN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){D_.delete(this.current),this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=qs.has(e),s=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oa){const t=oa[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<V_.length;r++){const s=V_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=xN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Gl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ET(s)||pT(s))?s=parseFloat(s):!wN(s)&&Ki.test(t)&&(s=wT(e,t)),this.setBaseTarget(e,Yt(s)?s.get():s)),Yt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=km(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Hm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nE extends TN{constructor(){super(...arguments),this.KeyframeResolver=PT}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function EN(n){return window.getComputedStyle(n)}class SN extends nE{constructor(){super(...arguments),this.type="html",this.renderInstance=$x}readValueFromInstance(e,t){if(qs.has(t)){const r=Qm(t);return r&&r.default||0}else{const r=EN(e),s=(Ux(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return HT(e,t)}build(e,t,r){Dm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Lm(e,t,r)}}class IN extends nE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qs.has(t)){const r=Qm(t);return r&&r.default||0}return t=Hx.has(t)?t:Pm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return qx(e,t,r)}build(e,t,r){Vm(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){Wx(e,t,r,s)}mount(e){this.isSVGTag=Mm(e.tagName),super.mount(e)}}const AN=(n,e)=>Rm(n)?new IN(e):new SN(e,{allowProjection:n!==O.Fragment}),PN=JP({...YR,...gN,...sN,...yN},AN),Ve=fP(PN),CN=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},RN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let x=(d&15)<<2|p>>6,A=p&63;f||(A=64,u||(x=64)),r.push(t[_],t[w],t[x],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||w==null)throw new kN;const x=a<<2|d>>4;if(r.push(x),p!==64){const A=d<<4&240|p>>2;if(r.push(A),w!==64){const D=p<<6&192|w;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NN=function(n){const e=rE(n);return iE.encodeByteArray(e,!0)},_h=function(n){return NN(n).replace(/\./g,"")},sE=function(n){try{return iE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=()=>bN().__FIREBASE_DEFAULTS__,VN=()=>{if(typeof process>"u"||typeof j_>"u")return;const n=j_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sE(n[1]);return e&&JSON.parse(e)},Kh=()=>{try{return CN()||DN()||VN()||jN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oE=n=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MN=n=>{const e=oE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aE=()=>{var n;return(n=Kh())===null||n===void 0?void 0:n.config},lE=n=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){return n.endsWith(".cloudworkstations.dev")}async function uE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_h(JSON.stringify(t)),_h(JSON.stringify(u)),""].join(".")}const Ol={};function FN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?n.emulator.push(e):n.prod.push(e);return n}function UN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let M_=!1;function cE(n,e){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Ol[n]===e||Ol[n]||M_)return;Ol[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=FN().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{M_=!0,u()},x}function _(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=UN(r),A=t("text"),D=document.getElementById(A)||document.createElement("span"),V=t("learnmore"),k=document.getElementById(V)||document.createElement("a"),W=t("preprendIcon"),q=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const G=x.element;d(G),_(k,V);const ne=p();f(q,W),G.append(q,D,k,ne),document.body.appendChild(G)}a?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function zN(){var n;const e=(n=Kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KN(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qN(){return!zN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class ii extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?XN(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ii(s,d,r)}}function XN(n,e){return n.replace(JN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JN=/\{\$([^}]+)}/g;function ZN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(L_(a)&&L_(u)){if(!qi(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function e2(n,e){const t=new t2(n,e);return t.subscribe.bind(t)}class t2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");n2(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=sp),s.error===void 0&&(s.error=sp),s.complete===void 0&&(s.complete=sp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class zs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new LN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s2(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(n){return n===Ls?void 0:n}function s2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const a2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},l2=Ne.INFO,u2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},c2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=u2[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eg{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const h2=(n,e)=>e.some(t=>n instanceof t);let O_,F_;function d2(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Up=new WeakMap,dE=new WeakMap,op=new WeakMap,tg=new WeakMap;function p2(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&hE.set(t,n)}).catch(()=>{}),tg.set(e,n),e}function m2(n){if(Up.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Up.set(n,e)}let Bp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Up.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function g2(n){Bp=n(Bp)}function y2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ap(this),e,...t);return dE.set(r,e.sort?e.sort():[e]),Ui(r)}:f2().includes(n)?function(...e){return n.apply(ap(this),e),Ui(hE.get(this))}:function(...e){return Ui(n.apply(ap(this),e))}}function v2(n){return typeof n=="function"?y2(n):(n instanceof IDBTransaction&&m2(n),h2(n,d2())?new Proxy(n,Bp):n)}function Ui(n){if(n instanceof IDBRequest)return p2(n);if(op.has(n))return op.get(n);const e=v2(n);return e!==n&&(op.set(n,e),tg.set(e,n)),e}const ap=n=>tg.get(n);function _2(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const w2=["get","getKey","getAll","getAllKeys","count"],x2=["put","add","delete","clear"],lp=new Map;function U_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=x2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||w2.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return lp.set(e,a),a}g2(n=>({...n,get:(e,t,r)=>U_(e,t)||n.get(e,t,r),has:(e,t)=>!!U_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(E2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function E2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zp="@firebase/app",B_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new eg("@firebase/app"),S2="@firebase/app-compat",I2="@firebase/analytics-compat",A2="@firebase/analytics",P2="@firebase/app-check-compat",C2="@firebase/app-check",R2="@firebase/auth",k2="@firebase/auth-compat",N2="@firebase/database",b2="@firebase/data-connect",D2="@firebase/database-compat",V2="@firebase/functions",j2="@firebase/functions-compat",M2="@firebase/installations",L2="@firebase/installations-compat",O2="@firebase/messaging",F2="@firebase/messaging-compat",U2="@firebase/performance",B2="@firebase/performance-compat",z2="@firebase/remote-config",$2="@firebase/remote-config-compat",H2="@firebase/storage",W2="@firebase/storage-compat",K2="@firebase/firestore",q2="@firebase/ai",G2="@firebase/firestore-compat",Q2="firebase",Y2="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",X2={[zp]:"fire-core",[S2]:"fire-core-compat",[A2]:"fire-analytics",[I2]:"fire-analytics-compat",[C2]:"fire-app-check",[P2]:"fire-app-check-compat",[R2]:"fire-auth",[k2]:"fire-auth-compat",[N2]:"fire-rtdb",[b2]:"fire-data-connect",[D2]:"fire-rtdb-compat",[V2]:"fire-fn",[j2]:"fire-fn-compat",[M2]:"fire-iid",[L2]:"fire-iid-compat",[O2]:"fire-fcm",[F2]:"fire-fcm-compat",[U2]:"fire-perf",[B2]:"fire-perf-compat",[z2]:"fire-rc",[$2]:"fire-rc-compat",[H2]:"fire-gcs",[W2]:"fire-gcs-compat",[K2]:"fire-fst",[G2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,J2=new Map,Hp=new Map;function z_(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function la(n){const e=n.name;if(Hp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,n);for(const t of wh.values())z_(t,n);for(const t of J2.values())z_(t,n);return!0}function ng(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new hu("app","Firebase",Z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=Y2;function fE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$p,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(t||(t=aE()),!t)throw Bi.create("no-options");const a=wh.get(s);if(a){if(qi(t,a.options)&&qi(r,a.config))return a;throw Bi.create("duplicate-app",{appName:s})}const u=new o2(s);for(const f of Hp.values())u.addComponent(f);const d=new eb(t,r,u);return wh.set(s,d),d}function pE(n=$p){const e=wh.get(n);if(!e&&n===$p&&aE())return fE();if(!e)throw Bi.create("no-app",{appName:n});return e}function zi(n,e,t){var r;let s=(r=X2[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(d.join(" "));return}la(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebase-heartbeat-database",nb=1,Xl="firebase-heartbeat-store";let up=null;function mE(){return up||(up=_2(tb,nb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),up}async function rb(n){try{const t=(await mE()).transaction(Xl),r=await t.objectStore(Xl).get(gE(n));return await t.done,r}catch(e){if(e instanceof ii)Zr.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function $_(n,e){try{const r=(await mE()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,gE(n)),await r.done}catch(t){if(t instanceof ii)Zr.warn(t.message);else{const r=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function gE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1024,sb=30;class ob{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>sb){const u=ub(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:r,unsentEntries:s}=ab(this._heartbeatsCache.heartbeats),a=_h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function ab(n,e=ib){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),W_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),W_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GN()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rb(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function W_(n){return _h(JSON.stringify({version:2,heartbeats:n})).length}function ub(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n){la(new zs("platform-logger",e=>new T2(e),"PRIVATE")),la(new zs("heartbeat",e=>new ob(e),"PRIVATE")),zi(zp,B_,n),zi(zp,B_,"esm2017"),zi("fire-js","")}cb("");function rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hb=yE,vE=new hu("auth","Firebase",yE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new eg("@firebase/auth");function db(n,...e){xh.logLevel<=Ne.WARN&&xh.warn(`Auth (${Ta}): ${n}`,...e)}function Xc(n,...e){xh.logLevel<=Ne.ERROR&&xh.error(`Auth (${Ta}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,...e){throw ig(n,...e)}function vr(n,...e){return ig(n,...e)}function _E(n,e,t){const r=Object.assign(Object.assign({},hb()),{[e]:t});return new hu("auth","Firebase",r).create(e,{appName:n.name})}function Yr(n){return _E(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vE.create(n,...e)}function xe(n,e,...t){if(!n)throw ig(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xc(e),new Error(e)}function ei(n,e){n||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fb(){return K_()==="http:"||K_()==="https:"}function K_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fb()||HN()||"connection"in navigator)?navigator.onLine:!0}function mb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=BN()||WN()}get(){return pb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(n,e){ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vb=new fu(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function si(n,e,t,r,s={}){return xE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=du(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return $N()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&cu(n.emulatorConfig.host)&&(p.credentials="include"),wE.fetch()(await TE(n,n.config.apiHost,t,d),p)})}async function xE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},gb),e);try{const s=new wb(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw zc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw zc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw zc(n,"user-disabled",u);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _E(n,_,p);rr(n,_)}}catch(s){if(s instanceof ii)throw s;rr(n,"network-request-failed",{message:String(s)})}}async function pu(n,e,t,r,s={}){const a=await si(n,e,t,r,s);return"mfaPendingCredential"in a&&rr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function TE(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?sg(n.config,s):`${n.config.apiScheme}://${s}`;return yb.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function _b(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),vb.get())})}}function zc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=vr(n,e,r);return s.customData._tokenResponse=t,s}function q_(n){return n!==void 0&&n.enterprise!==void 0}class xb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _b(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tb(n,e){return si(n,"GET","/v2/recaptchaConfig",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(n,e){return si(n,"POST","/v1/accounts:delete",e)}async function Th(n,e){return si(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sb(n,e=!1){const t=Nt(n),r=await t.getIdToken(e),s=og(r);xe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Fl(cp(s.auth_time)),issuedAtTime:Fl(cp(s.iat)),expirationTime:Fl(cp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cp(n){return Number(n)*1e3}function og(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const s=sE(t);return s?JSON.parse(s):(Xc("Failed to decode base64 JWT payload"),null)}catch(s){return Xc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G_(n){const e=og(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ii&&Ib(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Ib({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await ua(n,Th(t,{idToken:r}));xe(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?EE(a.providerUserInfo):[],d=Cb(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function Pb(n){const e=Nt(n);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cb(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function EE(n){return n.map(e=>{var{providerId:t}=e,r=rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(n,e){const t=await xE(n,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await TE(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",wE.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kb(n,e){return si(n,"POST","/v2/accounts:revokeToken",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=G_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Rb(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ta;return r&&(xe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(xe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ab(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ua(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Sb(this,e)}reload(){return Pb(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await ua(this,Eb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,p,_;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(s=t.email)!==null&&s!==void 0?s:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,W=(p=t.createdAt)!==null&&p!==void 0?p:void 0,q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:ne,isAnonymous:te,providerData:oe,stsTokenManager:b}=t;xe(G&&b,e,"internal-error");const S=ta.fromJSON(this.name,b);xe(typeof G=="string",e,"internal-error"),Ni(w,e.name),Ni(x,e.name),xe(typeof ne=="boolean",e,"internal-error"),xe(typeof te=="boolean",e,"internal-error"),Ni(A,e.name),Ni(D,e.name),Ni(V,e.name),Ni(k,e.name),Ni(W,e.name),Ni(q,e.name);const P=new er({uid:G,auth:e,email:x,emailVerified:ne,displayName:w,isAnonymous:te,photoURL:D,phoneNumber:A,tenantId:V,stsTokenManager:S,createdAt:W,lastLoginAt:q});return oe&&Array.isArray(oe)&&(P.providerData=oe.map(N=>Object.assign({},N))),k&&(P._redirectEventId=k),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new ta;s.updateFromServerResponse(t);const a=new er({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];xe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?EE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new ta;d.updateFromIdToken(r);const f=new er({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function qr(n){ei(n instanceof Function,"Expected a class definition");let e=Q_.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SE.type="NONE";const Y_=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Jc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Jc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?er._fromGetAccountInfoResponse(this.auth,t,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new na(qr(Y_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||qr(Y_);const u=Jc(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const _=await p._get(u);if(_){let w;if(typeof _=="string"){const x=await Th(e,{idToken:_}).catch(()=>{});if(!x)break;w=await er._fromGetAccountInfoResponse(e,x,_)}else w=er._fromJSON(e,_);p!==a&&(d=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new na(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kE(e))return"Blackberry";if(NE(e))return"Webos";if(AE(e))return"Safari";if((e.includes("chrome/")||PE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IE(n=Xt()){return/firefox\//i.test(n)}function AE(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PE(n=Xt()){return/crios\//i.test(n)}function CE(n=Xt()){return/iemobile/i.test(n)}function RE(n=Xt()){return/android/i.test(n)}function kE(n=Xt()){return/blackberry/i.test(n)}function NE(n=Xt()){return/webos/i.test(n)}function ag(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Nb(n=Xt()){var e;return ag(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bb(){return KN()&&document.documentMode===10}function bE(n=Xt()){return ag(n)||RE(n)||NE(n)||kE(n)||/windows phone/i.test(n)||CE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e=[]){let t;switch(n){case"Browser":t=X_(Xt());break;case"Worker":t=`${X_(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(n,e={}){return si(n,"GET","/v2/passwordPolicy",ns(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=6;class Mb{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:jb,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new Db(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Yr(this));const t=e?Nt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vb(this),t=new Mb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await kb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&db(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gs(n){return Nt(n)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=e2(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ob(n){qh=n}function VE(n){return qh.loadJS(n)}function Fb(){return qh.recaptchaEnterpriseScript}function Ub(){return qh.gapiScript}function Bb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zb{constructor(){this.enterprise=new $b}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $b{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Hb="recaptcha-enterprise",jE="NO_RECAPTCHA";class Wb{constructor(e){this.type=Hb,this.auth=Gs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{Tb(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new xb(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;q_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(jE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zb().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&q_(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Fb();f.length!==0&&(f+=d),VE(f).then(()=>{s(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Z_(n,e,t,r=!1,s=!1){const a=new Wb(n);let u;if(s)u=jE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function qp(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Z_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Z_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n,e){const t=ng(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(qi(a,e??{}))return s;rr(s,"already-initialized")}return t.initialize({options:e})}function qb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gb(n,e,t){const r=Gs(n);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=ME(e),{host:u,port:d}=Qb(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},_=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(qi(p,r.config.emulator)&&qi(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,cu(u)?(uE(`${a}//${u}${f}`),cE("Auth",!0)):Yb()}function ME(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Qb(n){const e=ME(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:ew(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:ew(u)}}}function ew(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Yb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function Xb(n,e){return si(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(n,e){return pu(n,"POST","/v1/accounts:signInWithPassword",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(n,e){return pu(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}async function eD(n,e){return pu(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends lg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Jl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Jl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,t,"signInWithPassword",Jb);case"emailLink":return Zb(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,r,"signUpPassword",Xb);case"emailLink":return eD(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return pu(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="http://localhost";class $s extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=rg(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new $s(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:tD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rD(n){const e=Cl(Rl(n)).link,t=e?Cl(Rl(e)).deep_link_id:null,r=Cl(Rl(n)).deep_link_id;return(r?Cl(Rl(r)).link:null)||r||t||e||n}class ug{constructor(e){var t,r,s,a,u,d;const f=Cl(Rl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(r=f.oobCode)!==null&&r!==void 0?r:null,w=nD((s=f.mode)!==null&&s!==void 0?s:null);xe(p&&_&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=rD(e);try{return new ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,t){return Jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ug.parseLink(t);return xe(r,"argument-error"),Jl._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends mu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wr.credential(t,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends mu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends mu{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){return pu(n,"POST","/v1/accounts:signUp",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await er._fromIdTokenResponse(e,r,s),u=tw(r);return new Hs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=tw(r);return new Hs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function tw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends ii{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Sh(e,t,r,s)}}function OE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(n,a,e,r):a})}async function sD(n,e,t=!1){const r=await ua(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(n,e,t=!1){const{auth:r}=n;if(Mn(r.app))return Promise.reject(Yr(r));const s="reauthenticate";try{const a=await ua(n,OE(r,s,e,n),t);xe(a.idToken,r,"internal-error");const u=og(a.idToken);xe(u,r,"internal-error");const{sub:d}=u;return xe(n.uid===d,r,"user-mismatch"),Hs._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(n,e,t=!1){if(Mn(n.app))return Promise.reject(Yr(n));const r="signIn",s=await OE(n,r,e),a=await Hs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function aD(n,e){return FE(Gs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(n){const e=Gs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lD(n,e,t){if(Mn(n.app))return Promise.reject(Yr(n));const r=Gs(n),u=await qp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&UE(n),f}),d=await Hs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function uD(n,e,t){return Mn(n.app)?Promise.reject(Yr(n)):aD(Nt(n),Ea.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return si(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Nt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ua(r,cD(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function dD(n,e,t,r){return Nt(n).onIdTokenChanged(e,t,r)}function fD(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function pD(n,e,t,r){return Nt(n).onAuthStateChanged(e,t,r)}function mD(n){return Nt(n).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,yD=10;class zE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);bb()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zE.type="LOCAL";const vD=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$E.type="SESSION";const HE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await _D(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=cg("",20);s.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const x=w;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function xD(n){_r().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function TD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function SD(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",ID=1,Ah="firebaseLocalStorage",qE="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(n,e){return n.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function AD(){const n=indexedDB.deleteDatabase(KE);return new gu(n).toPromise()}function Gp(){const n=indexedDB.open(KE,ID);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ah,{keyPath:qE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await AD(),e(await Gp()))})})}async function nw(n,e,t){const r=Qh(n,!0).put({[qE]:e,value:t});return new gu(r).toPromise()}async function PD(n,e){const t=Qh(n,!1).get(e),r=await new gu(t).toPromise();return r===void 0?null:r.value}function rw(n,e){const t=Qh(n,!0).delete(e);return new gu(t).toPromise()}const CD=800,RD=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>RD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(SD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await TD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await nw(e,Ih,"1"),await rw(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>PD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Qh(s,!1).getAll();return new gu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const kD=GE;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n,e){return e?qr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bD(n){return FE(n.auth,new hg(n),n.bypassAuthState)}function DD(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),oD(t,new hg(n),n.bypassAuthState)}async function VD(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),sD(t,new hg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return DD;default:rr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new fu(2e3,1e4);class ea extends QE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jD.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",Zc=new Map;class LD extends QE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await OD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OD(n,e){const t=BD(e),r=UD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function FD(n,e){Zc.set(n._key(),e)}function UD(n){return qr(n._redirectPersistence)}function BD(n){return Jc(MD,n.config.apiKey,n.name)}async function zD(n,e,t=!1){if(Mn(n.app))return Promise.reject(Yr(n));const r=Gs(n),s=ND(r,e),u=await new LD(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!YE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(iw(e))}saveEventToCache(e){this.cachedEventUids.add(iw(e)),this.lastProcessedEventTime=Date.now()}}function iw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function YE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(n,e={}){return si(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function QD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await KD(n);for(const t of e)try{if(YD(t))return}catch{}rr(n,"unauthorized-domain")}function YD(n){const e=Wp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!GD.test(t))return!1;if(qD.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new fu(3e4,6e4);function sw(){const n=_r().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function JD(n){return new Promise((e,t)=>{var r,s,a;function u(){sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sw(),t(vr(n,"network-request-failed"))},timeout:XD.get()})}if(!((s=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=_r().gapi)===null||a===void 0)&&a.load)u();else{const d=Bb("iframefcb");return _r()[d]=()=>{gapi.load?u():t(vr(n,"network-request-failed"))},VE(`${Ub()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw eh=null,e})}let eh=null;function ZD(n){return eh=eh||JD(n),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new fu(5e3,15e3),tV="__/auth/iframe",nV="emulator/auth/iframe",rV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sg(e,nV):`https://${n.config.authDomain}/${tV}`,r={apiKey:e.apiKey,appName:n.name,v:Ta},s=iV.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${du(r).slice(1)}`}async function oV(n){const e=await ZD(n),t=_r().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:sV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rV,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=vr(n,"network-request-failed"),d=_r().setTimeout(()=>{a(u)},eV.get());function f(){_r().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lV=500,uV=600,cV="_blank",hV="http://localhost";class ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dV(n,e,t,r=lV,s=uV){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},aV),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Xt().toLowerCase();t&&(d=PE(p)?cV:t),IE(p)&&(e=e||hV,f.scrollbars="yes");const _=Object.entries(f).reduce((x,[A,D])=>`${x}${A}=${D},`,"");if(Nb(p)&&d!=="_self")return fV(e||"",d),new ow(null);const w=window.open(e||"",d,_);xe(w,n,"popup-blocked");try{w.focus()}catch{}return new ow(w)}function fV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="__/auth/handler",mV="emulator/auth/handler",gV=encodeURIComponent("fac");async function aw(n,e,t,r,s,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ta,eventId:s};if(e instanceof LE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ZN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof mu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),p=f?`#${gV}=${encodeURIComponent(f)}`:"";return`${yV(n)}?${du(d).slice(1)}${p}`}function yV({config:n}){return n.emulator?sg(n,mV):`https://${n.authDomain}/${pV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class vV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=zD,this._overrideRedirectResult=FD}async _openPopup(e,t,r,s){var a;ei((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await aw(e,t,r,Wp(),s);return dV(e,u,cg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await aw(e,t,r,Wp(),s);return xD(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await oV(e),r=new HD(e);return t.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[hp];u!==void 0&&t(!!u),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bE()||AE()||ag()}}const _V=vV;var lw="@firebase/auth",uw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TV(n){la(new zs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(n)},p=new Lb(r,s,a,f);return qb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),la(new zs("auth-internal",e=>{const t=Gs(e.getProvider("auth").getImmediate());return(r=>new wV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(lw,uw,xV(n)),zi(lw,uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=5*60,SV=lE("authIdTokenMaxAge")||EV;let cw=null;const IV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>SV)return;const s=t==null?void 0:t.token;cw!==s&&(cw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AV(n=pE()){const e=ng(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Kb(n,{popupRedirectResolver:_V,persistence:[kD,vD,HE]}),r=lE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=IV(a.toString());fD(t,u,()=>u(t.currentUser)),dD(t,d=>u(d))}}const s=oE("auth");return s&&Gb(t,`http://${s}`),t}function PV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ob({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=vr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",PV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TV("Browser");var CV="firebase",RV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(CV,RV,"app");var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,XE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function P(){}P.prototype=S.prototype,b.D=S.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(N,M,U){for(var R=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)R[Je-2]=arguments[Je];return S.prototype[M].apply(N,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,S,P){P||(P=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(M=0;16>M;++M)N[M]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=b.g[0],P=b.g[1],M=b.g[2];var U=b.g[3],R=S+(U^P&(M^U))+N[0]+3614090360&4294967295;S=P+(R<<7&4294967295|R>>>25),R=U+(M^S&(P^M))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(P^U&(S^P))+N[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=P+(S^M&(U^S))+N[3]+3250441966&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+(U^P&(M^U))+N[4]+4118548399&4294967295,S=P+(R<<7&4294967295|R>>>25),R=U+(M^S&(P^M))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(P^U&(S^P))+N[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=P+(S^M&(U^S))+N[7]+4249261313&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+(U^P&(M^U))+N[8]+1770035416&4294967295,S=P+(R<<7&4294967295|R>>>25),R=U+(M^S&(P^M))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(P^U&(S^P))+N[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=P+(S^M&(U^S))+N[11]+2304563134&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+(U^P&(M^U))+N[12]+1804603682&4294967295,S=P+(R<<7&4294967295|R>>>25),R=U+(M^S&(P^M))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(P^U&(S^P))+N[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=P+(S^M&(U^S))+N[15]+1236535329&4294967295,P=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(P^M))+N[1]+4129170786&4294967295,S=P+(R<<5&4294967295|R>>>27),R=U+(P^M&(S^P))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^P&(U^S))+N[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=P+(U^S&(M^U))+N[0]+3921069994&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(P^M))+N[5]+3593408605&4294967295,S=P+(R<<5&4294967295|R>>>27),R=U+(P^M&(S^P))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^P&(U^S))+N[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=P+(U^S&(M^U))+N[4]+3889429448&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(P^M))+N[9]+568446438&4294967295,S=P+(R<<5&4294967295|R>>>27),R=U+(P^M&(S^P))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^P&(U^S))+N[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=P+(U^S&(M^U))+N[8]+1163531501&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(P^M))+N[13]+2850285829&4294967295,S=P+(R<<5&4294967295|R>>>27),R=U+(P^M&(S^P))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^P&(U^S))+N[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=P+(U^S&(M^U))+N[12]+2368359562&4294967295,P=M+(R<<20&4294967295|R>>>12),R=S+(P^M^U)+N[5]+4294588738&4294967295,S=P+(R<<4&4294967295|R>>>28),R=U+(S^P^M)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^P)+N[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=P+(M^U^S)+N[14]+4259657740&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(P^M^U)+N[1]+2763975236&4294967295,S=P+(R<<4&4294967295|R>>>28),R=U+(S^P^M)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^P)+N[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=P+(M^U^S)+N[10]+3200236656&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(P^M^U)+N[13]+681279174&4294967295,S=P+(R<<4&4294967295|R>>>28),R=U+(S^P^M)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^P)+N[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=P+(M^U^S)+N[6]+76029189&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(P^M^U)+N[9]+3654602809&4294967295,S=P+(R<<4&4294967295|R>>>28),R=U+(S^P^M)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^P)+N[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=P+(M^U^S)+N[2]+3299628645&4294967295,P=M+(R<<23&4294967295|R>>>9),R=S+(M^(P|~U))+N[0]+4096336452&4294967295,S=P+(R<<6&4294967295|R>>>26),R=U+(P^(S|~M))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~P))+N[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=P+(U^(M|~S))+N[5]+4237533241&4294967295,P=M+(R<<21&4294967295|R>>>11),R=S+(M^(P|~U))+N[12]+1700485571&4294967295,S=P+(R<<6&4294967295|R>>>26),R=U+(P^(S|~M))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~P))+N[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=P+(U^(M|~S))+N[1]+2240044497&4294967295,P=M+(R<<21&4294967295|R>>>11),R=S+(M^(P|~U))+N[8]+1873313359&4294967295,S=P+(R<<6&4294967295|R>>>26),R=U+(P^(S|~M))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~P))+N[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=P+(U^(M|~S))+N[13]+1309151649&4294967295,P=M+(R<<21&4294967295|R>>>11),R=S+(M^(P|~U))+N[4]+4149444226&4294967295,S=P+(R<<6&4294967295|R>>>26),R=U+(P^(S|~M))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~P))+N[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=P+(U^(M|~S))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+M&4294967295,b.g[3]=b.g[3]+U&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var P=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=P;)s(this,b,U),U+=this.blockSize;if(typeof b=="string"){for(;U<S;)if(N[M++]=b.charCodeAt(U++),M==this.blockSize){s(this,N),M=0;break}}else for(;U<S;)if(N[M++]=b[U++],M==this.blockSize){s(this,N),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var P=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=P&255,P/=256;for(this.u(b),b=Array(16),S=P=0;4>S;++S)for(var N=0;32>N;N+=8)b[P++]=this.g[S]>>>N&255;return b};function a(b,S){var P=d;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=S(b)}function u(b,S){this.h=S;for(var P=[],N=!0,M=b.length-1;0<=M;M--){var U=b[M]|0;N&&U==S||(P[M]=U,N=!1)}this.g=P}var d={};function f(b){return-128<=b&&128>b?a(b,function(S){return new u([S|0],0>S?-1:0)}):new u([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return w;if(0>b)return k(p(-b));for(var S=[],P=1,N=0;b>=P;N++)S[N]=b/P|0,P*=4294967296;return new u(S,0)}function _(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return k(_(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(S,8)),N=w,M=0;M<b.length;M+=8){var U=Math.min(8,b.length-M),R=parseInt(b.substring(M,M+U),S);8>U?(U=p(Math.pow(S,U)),N=N.j(U).add(p(R))):(N=N.j(P),N=N.add(p(R)))}return N}var w=f(0),x=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-k(this).m();for(var b=0,S=1,P=0;P<this.g.length;P++){var N=this.i(P);b+=(0<=N?N:4294967296+N)*S,S*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D(this))return"0";if(V(this))return"-"+k(this).toString(b);for(var S=p(Math.pow(b,6)),P=this,N="";;){var M=ne(P,S).g;P=W(P,M.j(S));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=M,D(P))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function D(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function V(b){return b.h==-1}n.l=function(b){return b=W(this,b),V(b)?-1:D(b)?0:1};function k(b){for(var S=b.g.length,P=[],N=0;N<S;N++)P[N]=~b.g[N];return new u(P,~b.h).add(x)}n.abs=function(){return V(this)?k(this):this},n.add=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(b.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(b.i(M)>>>16);N=R>>>16,U&=65535,R&=65535,P[M]=R<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function W(b,S){return b.add(k(S))}n.j=function(b){if(D(this)||D(b))return w;if(V(this))return V(b)?k(this).j(k(b)):k(k(this).j(b));if(V(b))return k(this.j(k(b)));if(0>this.l(A)&&0>b.l(A))return p(this.m()*b.m());for(var S=this.g.length+b.g.length,P=[],N=0;N<2*S;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<b.g.length;M++){var U=this.i(N)>>>16,R=this.i(N)&65535,Je=b.i(M)>>>16,bt=b.i(M)&65535;P[2*N+2*M]+=R*bt,q(P,2*N+2*M),P[2*N+2*M+1]+=U*bt,q(P,2*N+2*M+1),P[2*N+2*M+1]+=R*Je,q(P,2*N+2*M+1),P[2*N+2*M+2]+=U*Je,q(P,2*N+2*M+2)}for(N=0;N<S;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=S;N<2*S;N++)P[N]=0;return new u(P,0)};function q(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function G(b,S){this.g=b,this.h=S}function ne(b,S){if(D(S))throw Error("division by zero");if(D(b))return new G(w,w);if(V(b))return S=ne(k(b),S),new G(k(S.g),k(S.h));if(V(S))return S=ne(b,k(S)),new G(k(S.g),S.h);if(30<b.g.length){if(V(b)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var P=x,N=S;0>=N.l(b);)P=te(P),N=te(N);var M=oe(P,1),U=oe(N,1);for(N=oe(N,2),P=oe(P,2);!D(N);){var R=U.add(N);0>=R.l(b)&&(M=M.add(P),U=R),N=oe(N,1),P=oe(P,1)}return S=W(b,M.j(S)),new G(M,S)}for(M=w;0<=b.l(S);){for(P=Math.max(1,Math.floor(b.m()/S.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(P),R=U.j(S);V(R)||0<R.l(b);)P-=N,U=p(P),R=U.j(S);D(U)&&(U=x),M=M.add(U),b=W(b,R)}return new G(M,b)}n.A=function(b){return ne(this,b).h},n.and=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)&b.i(N);return new u(P,this.h&b.h)},n.or=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)|b.i(N);return new u(P,this.h|b.h)},n.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)^b.i(N);return new u(P,this.h^b.h)};function te(b){for(var S=b.g.length+1,P=[],N=0;N<S;N++)P[N]=b.i(N)<<1|b.i(N-1)>>>31;return new u(P,b.h)}function oe(b,S){var P=S>>5;S%=32;for(var N=b.g.length-P,M=[],U=0;U<N;U++)M[U]=0<S?b.i(U+P)>>>S|b.i(U+P+1)<<32-S:b.i(U+P);return new u(M,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,$i=u}).apply(typeof hw<"u"?hw:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,kl,ZE,th,Qp,e1,t1,n1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,T){return c==Array.prototype||c==Object.prototype||(c[y]=T.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var T=c[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var T=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in T))break e;T=T[B]}c=c[c.length-1],I=T[c],y=y(I),y!=I&&y!=null&&e(T,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var T=0,I=!1,B={next:function(){if(!I&&T<c.length){var K=T++;return{value:y(K,c[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,T){return c.call.apply(c.bind,arguments)}function w(c,y,T){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function x(c,y,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,x.apply(null,arguments)}function A(c,y){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function D(c,y){function T(){}T.prototype=y.prototype,c.aa=y.prototype,c.prototype=new T,c.prototype.constructor=c,c.Qb=function(I,B,K){for(var se=Array(arguments.length-2),He=2;He<arguments.length;He++)se[He-2]=arguments[He];return y.prototype[B].apply(I,se)}}function V(c){const y=c.length;if(0<y){const T=Array(y);for(let I=0;I<y;I++)T[I]=c[I];return T}return[]}function k(c,y){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(f(I)){const B=c.length||0,K=I.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=I[se]}else c.push(I)}}class W{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var te=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function oe(c,y,T){for(const I in c)y.call(T,c[I],I,c)}function b(c,y){for(const T in c)y.call(void 0,c[T],T,c)}function S(c){const y={};for(const T in c)y[T]=c[T];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let T,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(T in I)c[T]=I[T];for(let K=0;K<P.length;K++)T=P[K],Object.prototype.hasOwnProperty.call(I,T)&&(c[T]=I[T])}}function M(c){var y=1;c=c.split(":");const T=[];for(;0<y&&c.length;)T.push(c.shift()),y--;return c.length&&T.push(c.join(":")),T}function U(c){d.setTimeout(()=>{throw c},0)}function R(){var c=pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Je{constructor(){this.h=this.g=null}add(y,T){const I=bt.get();I.set(y,T),this.h?this.h.next=I:this.g=I,this.h=I}}var bt=new W(()=>new Dt,c=>c.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ie=!1,pe=new Je,ae=()=>{const c=d.Promise.resolve(void 0);Ie=()=>{c.then(F)}};var F=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(T){U(T)}var y=bt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};d.addEventListener("test",T,y),d.removeEventListener("test",T,y)}catch{}return c}();function Re(c,y){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var T=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{ne(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else T=="mouseover"?y=c.fromElement:T=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:je[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}D(Re,ge);var je={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ke(c,y,T,I,B){this.listener=c,this.proxy=null,this.src=y,this.type=T,this.capture=!!I,this.ha=B,this.key=++Be,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,y,T,I,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=oi(c,y,I,B);return-1<se?(y=c[se],T||(y.fa=!1)):(y=new Ke(y,this.src,K,!!I,B),y.fa=T,c.push(y)),y};function Js(c,y){var T=y.type;if(T in c.g){var I=c.g[T],B=Array.prototype.indexOf.call(I,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(I,B,1),K&&(It(y),c.g[T].length==0&&(delete c.g[T],c.h--))}}function oi(c,y,T,I){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!T&&K.ha==I)return B}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),Zs={};function Ra(c,y,T,I,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Ra(c,y[K],T,I,B);return null}return T=ba(T),c&&c[Ue]?c.K(y,T,p(I)?!!I.capture:!1,B):ka(c,y,T,!1,I,B)}function ka(c,y,T,I,B,K){if(!y)throw Error("Invalid event type");var se=p(B)?!!B.capture:!!B,He=to(c);if(He||(c[ss]=He=new Ar(c)),T=He.add(y,T,I,se,K),T.proxy)return T;if(I=Tu(),T.proxy=I,I.src=c,I.listener=T,c.addEventListener)Pe||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),I,B);else if(c.attachEvent)c.attachEvent(Cr(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Tu(){function c(T){return y.call(c.src,c.listener,T)}const y=Na;return c}function eo(c,y,T,I,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)eo(c,y[K],T,I,B);else I=p(I)?!!I.capture:!!I,T=ba(T),c&&c[Ue]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],T=oi(K,T,I,B),-1<T&&(It(K[T]),Array.prototype.splice.call(K,T,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=to(c))&&(y=c.g[y.toString()],c=-1,y&&(c=oi(y,T,I,B)),(T=-1<c?y[c]:null)&&Pr(T))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ue])Js(y.i,c);else{var T=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(T,I,c.capture):y.detachEvent?y.detachEvent(Cr(T),I):y.addListener&&y.removeListener&&y.removeListener(I),(T=to(y))?(Js(T,c),T.h==0&&(T.src=null,y[ss]=null)):It(c)}}}function Cr(c){return c in Zs?Zs[c]:Zs[c]="on"+c}function Na(c,y){if(c.da)c=!0;else{y=new Re(y,this);var T=c.listener,I=c.ha||c.src;c.fa&&Pr(c),c=T.call(I,y)}return c}function to(c){return c=c[ss],c instanceof Ar?c:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(c){return typeof c=="function"?c:(c[no]||(c[no]=function(y){return c.handleEvent(y)}),c[no])}function yt(){Y.call(this),this.i=new Ar(this),this.M=this,this.F=null}D(yt,Y),yt.prototype[Ue]=!0,yt.prototype.removeEventListener=function(c,y,T,I){eo(this,c,y,T,I)};function vt(c,y){var T,I=c.F;if(I)for(T=[];I;I=I.F)T.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new ge(y,c);else if(y instanceof ge)y.target=y.target||c;else{var B=y;y=new ge(I,c),N(y,B)}if(B=!0,T)for(var K=T.length-1;0<=K;K--){var se=y.g=T[K];B=Rr(se,I,!0,y)&&B}if(se=y.g=c,B=Rr(se,I,!0,y)&&B,B=Rr(se,I,!1,y)&&B,T)for(K=0;K<T.length;K++)se=y.g=T[K],B=Rr(se,I,!1,y)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var T=c.g[y],I=0;I<T.length;I++)It(T[I]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,T,I){return this.i.add(String(c),y,!1,T,I)},yt.prototype.L=function(c,y,T,I){return this.i.add(String(c),y,!0,T,I)};function Rr(c,y,T,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==T){var He=se.listener,_t=se.ha||se.src;se.fa&&Js(c.i,se),B=He.call(_t,I)!==!1&&B}}return B&&!I.defaultPrevented}function Da(c,y,T){if(typeof c=="function")T&&(c=x(c,T));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ai(c){c.g=Da(()=>{c.g=null,c.i&&(c.i=!1,ai(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class os extends Y{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){Y.call(this),this.h=c,this.g={}}D(as,Y);var Va=[];function ja(c){oe(c.g,function(y,T){this.g.hasOwnProperty(T)&&Pr(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ja(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ma=d.JSON.stringify,La=d.JSON.parse,Oa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ls(){}ls.prototype.h=null;function ro(c){return c.h||(c.h=c.i())}function io(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ge.call(this,"d")}D(ir,ge);function so(){ge.call(this,"c")}D(so,ge);var sr={},Fa=null;function us(){return Fa=Fa||new yt}sr.La="serverreachability";function Ua(c){ge.call(this,sr.La,c)}D(Ua,ge);function kr(c){const y=us();vt(y,new Ua(y))}sr.STAT_EVENT="statevent";function Ba(c,y){ge.call(this,sr.STAT_EVENT,c),this.stat=y}D(Ba,ge);function lt(c){const y=us();vt(y,new Ba(y,c))}sr.Ma="timingevent";function oo(c,y){ge.call(this,sr.Ma,c),this.size=y}D(oo,ge);function Ln(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function hs(c,y,T,I,B,K){c.info(function(){if(c.g)if(K)for(var se="",He=K.split("&"),_t=0;_t<He.length;_t++){var Me=He[_t].split("=");if(1<Me.length){var At=Me[0];Me=Me[1];var pt=At.split("_");se=2<=pt.length&&pt[1]=="type"?se+(At+"="+Me+"&"):se+(At+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+y+`
`+T+`
`+se})}function ao(c,y,T,I,B,K,se){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+y+`
`+T+`
`+K+" "+se})}function On(c,y,T,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pd(c,T)+(I?" "+I:"")})}function za(c,y){c.info(function(){return"TIMEOUT: "+y})}cs.prototype.info=function(){};function pd(c,y){if(!c.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(c=0;c<T.length;c++)if(Array.isArray(T[c])){var I=T[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Ma(T)}catch{return y}}var lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function ds(){}D(ds,ls),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},Fn=new ds;function Un(c,y,T,I){this.j=c,this.i=y,this.l=T,this.R=I||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}var $a={},uo={};function co(c,y,T){c.L=1,c.v=di(mn(y)),c.m=T,c.P=!0,Ha(c,null)}function Ha(c,y){c.F=Date.now(),qe(c),c.A=mn(c.v);var T=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),pi(T.i,"t",I),c.C=0,T=c.j.J,c.h=new Su,c.g=zu(c.j,T?y:null,!c.m),0<c.O&&(c.M=new os(x(c.Y,c,c.g),c.O)),y=c.U,T=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Va[0]=B.toString()),B=Va);for(var K=0;K<B.length;K++){var se=Ra(T,B[K],I||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),kr(),hs(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const y=this.M;y&&rn(c)==3?y.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const pt=rn(this.g);var y=this.g.Ba();const Pn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ya(this.g)))){this.J||pt!=4||y==7||(y==8||0>=Pn?kr(3):kr(2)),fs(this);var T=this.g.Z();this.X=T;t:if(Iu(this)){var I=Ya(this.g);c="";var B=I.length,K=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),li(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(K&&y==B-1)});I.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=T==200,ao(this.i,this.u,this.A,this.l,this.R,pt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var He,_t=this.g;if((He=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(He)){var Me=He;break t}}Me=null}if(T=Me)On(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wa(this,T);else{this.o=!1,this.s=3,lt(12),In(this),li(this);break e}}if(this.P){T=!0;let yn;for(;!this.J&&this.C<se.length;)if(yn=md(this,se),yn==uo){pt==4&&(this.s=4,lt(14),T=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==$a){this.s=4,lt(15),On(this.i,this.l,se,"[Invalid Chunk]"),T=!1;break}else On(this.i,this.l,yn,null),Wa(this,yn);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||se.length!=0||this.h.h||(this.s=1,lt(16),T=!1),this.o=this.o&&T,!T)On(this.i,this.l,se,"[Invalid Chunked Response]"),In(this),li(this);else if(0<se.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ja(At),At.M=!0,lt(11))}}else On(this.i,this.l,se,null),Wa(this,se);pt==4&&In(this),this.o&&!this.J&&(pt==4?To(this.j,this):(this.o=!1,qe(this)))}else yo(this.g),T==400&&0<se.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),In(this),li(this)}}}catch{}finally{}};function Iu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function md(c,y){var T=c.C,I=y.indexOf(`
`,T);return I==-1?uo:(T=Number(y.substring(T,I)),isNaN(T)?$a:(I+=1,I+T>y.length?uo:(y=y.slice(I,I+T),c.C=I+T,y)))}Un.prototype.cancel=function(){this.J=!0,In(this)};function qe(c){c.S=Date.now()+c.I,Au(c,c.I)}function Au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(x(c.ba,c),y)}function fs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(za(this.i,this.A),this.L!=2&&(kr(),lt(17)),In(this),this.s=2,li(this)):Au(this,this.S-c)};function li(c){c.j.G==0||c.J||To(c.j,c)}function In(c){fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ja(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Wa(c,y){try{var T=c.j;if(T.G!=0&&(T.g==c||Jt(T.h,c))){if(!c.K&&Jt(T.h,c)&&T.G==3){try{var I=T.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<c.F)xo(T),Wn(T);else break e;wo(T),lt(18)}}else T.za=B[1],0<T.za-T.T&&37500>B[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ln(x(T.Za,T),6e3));if(1>=Cu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else jr(T,11)}else if((c.K||T.g==c)&&xo(T),!q(y))for(B=T.Da.g.parse(y),y=0;y<B.length;y++){let Me=B[y];if(T.T=Me[0],Me=Me[1],T.G==2)if(Me[0]=="c"){T.K=Me[1],T.ia=Me[2];const At=Me[3];At!=null&&(T.la=At,T.j.info("VER="+T.la));const pt=Me[4];pt!=null&&(T.Aa=pt,T.j.info("SVER="+T.Aa));const Pn=Me[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(I=1.5*Pn,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const yn=c.g;if(yn){const ws=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var K=I.h;K.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ka(K,K.h),K.h=null))}if(I.D){const So=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(I.ya=So,We(I.I,I.D,So))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-c.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var se=c;if(I.qa=Bu(I,I.J?I.ia:null,I.W),se.K){Ru(I.h,se);var He=se,_t=I.L;_t&&(He.I=_t),He.B&&(fs(He),qe(He)),I.g=se}else _s(I);0<T.i.length&&ur(T)}else Me[0]!="stop"&&Me[0]!="close"||jr(T,7);else T.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?jr(T,7):jt(T):Me[0]!="noop"&&T.l&&T.l.ta(Me),T.v=0)}}kr(4)}catch{}}var Pu=class{constructor(c,y){this.g=c,this.map=y}};function ps(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cu(c){return c.h?1:c.g?c.g.size:0}function Jt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ka(c,y){c.g?c.g.add(y):c.h=y}function Ru(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ps.prototype.cancel=function(){if(this.i=ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ku(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const T of c.g.values())y=y.concat(T.D);return y}return V(c.i)}function ho(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],T=c.length,I=0;I<T;I++)y.push(c[I]);return y}y=[],T=0;for(I in c)y[T++]=c[I];return y}function fo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var T=0;T<c;T++)y.push(T);return y}y=[],T=0;for(const I in c)y[T++]=I;return y}}}function ui(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var T=fo(c),I=ho(c),B=I.length,K=0;K<B;K++)y.call(void 0,I[K],T&&T[K],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gd(c,y){if(c){c=c.split("&");for(var T=0;T<c.length;T++){var I=c[T].indexOf("="),B=null;if(0<=I){var K=c[T].substring(0,I);B=c[T].substring(I+1)}else K=c[T];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nr){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var y=c.i,T=new or;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),hi(this,T),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,gs(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),ci(this,y[4]),this.l=De(y[5]||"",!0),hi(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Nr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(fi(y,po,!0),":");var T=this.g;return(T||y=="file")&&(c.push("//"),(y=this.o)&&c.push(fi(y,po,!0),"@"),c.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&c.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(fi(T,T.charAt(0)=="/"?Du:bu,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",fi(T,qa)),c.join("")};function mn(c){return new Nr(c)}function gs(c,y,T){c.j=T?De(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function hi(c,y,T){y instanceof or?(c.i=y,ar(c.i,c.h)):(T||(y=fi(y,Vu)),c.i=new or(y,c.h))}function We(c,y,T){c.i.set(y,T)}function di(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fi(c,y,T){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,bu=/[#\?:]/g,Du=/[#\?]/g,Vu=/[#\?@]/g,qa=/#/g;function or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&gd(c.i,function(y,T){c.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=or.prototype,n.add=function(c,y){Vt(this),this.i=null,c=An(this,c);var T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(y),this.h+=1,this};function Bn(c,y){Vt(c),y=An(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zn(c,y){return Vt(c),y=An(c,y),c.g.has(y)}n.forEach=function(c,y){Vt(this),this.g.forEach(function(T,I){T.forEach(function(B){c.call(y,B,I,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let I=0;I<y.length;I++){const B=c[I];for(let K=0;K<B.length;K++)T.push(y[I])}return T},n.V=function(c){Vt(this);let y=[];if(typeof c=="string")zn(this,c)&&(y=y.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let T=0;T<c.length;T++)y=y.concat(c[T])}return y},n.set=function(c,y){return Vt(this),this.i=null,c=An(this,c),zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function pi(c,y,T){Bn(c,y),0<T.length&&(c.i=null,c.g.set(An(c,y),V(T)),c.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var I=y[T];const K=encodeURIComponent(String(I)),se=this.V(I);for(I=0;I<se.length;I++){var B=K;se[I]!==""&&(B+="="+encodeURIComponent(String(se[I]))),c.push(B)}}return this.i=c.join("&")};function An(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ar(c,y){y&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(T,I){var B=I.toLowerCase();I!=B&&(Bn(this,I),pi(this,B,T))},c)),c.j=y}function yd(c,y){const T=new cs;if(d.Image){const I=new Image;I.onload=A(nn,T,"TestLoadImage: loaded",!0,y,I),I.onerror=A(nn,T,"TestLoadImage: error",!1,y,I),I.onabort=A(nn,T,"TestLoadImage: abort",!1,y,I),I.ontimeout=A(nn,T,"TestLoadImage: timeout",!1,y,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function ju(c,y){const T=new cs,I=new AbortController,B=setTimeout(()=>{I.abort(),nn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(K=>{clearTimeout(B),K.ok?nn(T,"TestPingServer: ok",!0,y):nn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),nn(T,"TestPingServer: error",!1,y)})}function nn(c,y,T,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(T)}catch{}}function vd(){this.g=new Oa}function Mu(c,y,T){const I=T||"";try{ui(c,function(B,K){let se=B;p(B)&&(se=Ma(B)),y.push(I+K+"="+encodeURIComponent(se))})}catch(B){throw y.push(I+"type="+encodeURIComponent("_badmap")),B}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}D(br,ls),br.prototype.g=function(){return new ys(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function ys(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ys,yt),n=ys.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Hn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?$n(this):Hn(this),this.readyState==3&&Lu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},n.Qa=function(c){this.g&&(this.response=c,$n(this))},n.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=y.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dr(c){let y="";return oe(c,function(T,I){y+=I,y+=":",y+=T,y+=`\r
`}),y}function mi(c,y,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=Dr(T),typeof c=="string"?T!=null&&encodeURIComponent(String(T)):We(c,y,T))}function Ze(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ze,yt);var _d=/^https?$/i,Ga=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?ro(this.o):ro(Fn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){vs(this,K);return}if(c=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)T.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())T.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ga,y,void 0))||I||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of T)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){vs(this,K)}};function vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,mo(c),gn(c)}function mo(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)Da(c.Ea,0,c);else if(vt(c,"readystatechange"),rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var I;if(I=se===0){var B=String(c.D).match(ms)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),I=!_d.test(B?B.toLowerCase():"")}T=I}if(T)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var K=2<rn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",mo(c)}}finally{gn(c)}}}}function gn(c,y){if(c.g){go(c);const T=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||vt(c,"ready");try{T.onreadystatechange=I}catch{}}}function go(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),La(y)}};function Ya(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(c){const y={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(q(c[I]))continue;var T=M(c[I]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=y[B]||[];y[B]=K,K.push(T)}b(y,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||y}function Xa(c){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,c),this.cb=lr("retryDelaySeedMs",1e4,c),this.Wa=lr("forwardChannelMaxRetries",2,c),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(c&&c.concurrentRequestLimit),this.Da=new vd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(c,y,T,I){lt(0),this.W=c,this.H=y||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=Bu(this,null,this.W),ur(this)};function jt(c){if(vo(c),c.G==3){var y=c.U++,T=mn(c.I);if(We(T,"SID",c.K),We(T,"RID",y),We(T,"TYPE","terminate"),Vr(c,T),y=new Un(c,c.j,y),y.L=2,y.v=di(mn(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=y.v,T=!0),T||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qe(y)}Uu(c)}function Wn(c){c.g&&(Ja(c),c.g.cancel(),c.g=null)}function vo(c){Wn(c),c.u&&(d.clearTimeout(c.u),c.u=null),xo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ur(c){if(!pn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ie||ae(),ie||(Ie(),ie=!0),pe.add(y,c),c.B=0}}function wd(c,y){return Cu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(x(c.Ga,c,y),Fu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Un(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=gi(this,B,y),T=mn(this.I),We(T,"RID",c),We(T,"CVER",22),this.D&&We(T,"X-HTTP-Session-Id",this.D),Vr(this,T),K&&(this.O?y="headers="+encodeURIComponent(String(Dr(K)))+"&"+y:this.m&&mi(T,this.m,K)),Ka(this.h,B),this.Ua&&We(T,"TYPE","init"),this.P?(We(T,"$req",y),We(T,"SID","null"),B.T=!0,co(B,T,null)):co(B,T,y),this.G=2}}else this.G==3&&(c?_o(this,c):this.i.length==0||pn(this.h)||_o(this))};function _o(c,y){var T;y?T=y.l:T=c.U++;const I=mn(c.I);We(I,"SID",c.K),We(I,"RID",T),We(I,"AID",c.T),Vr(c,I),c.m&&c.o&&mi(I,c.m,c.o),T=new Un(c,c.j,T,c.B+1),c.m===null&&(T.H=c.o),y&&(c.i=y.D.concat(c.i)),y=gi(c,T,1e3),T.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ka(c.h,T),co(T,I,y)}function Vr(c,y){c.H&&oe(c.H,function(T,I){We(y,I,T)}),c.l&&ui({},function(T,I){We(y,I,T)})}function gi(c,y,T){T=Math.min(c.i.length,T);var I=c.l?x(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+T];K==-1?0<T?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let He=!0;for(let _t=0;_t<T;_t++){let Me=B[_t].g;const At=B[_t].map;if(Me-=K,0>Me)K=Math.max(0,B[_t].g-100),He=!1;else try{Mu(At,se,"req"+Me+"_")}catch{I&&I(At)}}if(He){I=se.join("&");break e}}}return c=c.i.splice(0,T),y.D=c,I}function _s(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ie||ae(),ie||(Ie(),ie=!0),pe.add(y,c),c.v=0}}function wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(x(c.Fa,c),Fu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(x(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Wn(this),Ou(this))};function Ja(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Vr(c,y),c.m&&c.o&&mi(y,c.m,c.o),c.L&&(c.g.I=c.L);var T=c.g;c=c.ia,T.L=1,T.v=di(mn(y)),T.m=null,T.P=!0,Ha(T,c)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),wo(this),lt(19))};function xo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function To(c,y){var T=null;if(c.g==y){xo(c),Ja(c),c.g=null;var I=2}else if(Jt(c.h,y))T=y.D,Ru(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;I=us(),vt(I,new oo(I,T)),ur(c)}else _s(c);else if(B=y.s,B==3||B==0&&0<y.X||!(I==1&&wd(c,y)||I==2&&wo(c)))switch(T&&0<T.length&&(y=c.h,y.i=y.i.concat(T)),B){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function Fu(c,y){let T=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(T*=2),T*y}function jr(c,y){if(c.j.info("Error code "+y),y==2){var T=x(c.fb,c),I=c.Xa;const B=!I;I=new Nr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gs(I,"https"),di(I),B?yd(I.toString(),T):ju(I.toString(),T)}else lt(2);c.G=0,c.l&&c.l.sa(y),Uu(c),vo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=ku(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,T){var I=T instanceof Nr?mn(T):new Nr(T);if(I.g!="")y&&(I.g=y+"."+I.g),ci(I,I.s);else{var B=d.location;I=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new Nr(null);I&&gs(K,I),y&&(K.g=y),B&&ci(K,B),T&&(K.l=T),I=K}return T=c.D,y=c.ya,T&&y&&We(I,T,y),We(I,"VER",c.la),Vr(c,I),I}function zu(c,y,T){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new br({eb:T})):new Ze(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Za(){}n=Za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Eo(){}Eo.prototype.g=function(c,y){return new Zt(c,y)};function Zt(c,y){yt.call(this),this.g=new Xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}D(Zt,yt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){jt(this.g)},Zt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.u&&(T={},T.__data__=Ma(c),c=T);y.i.push(new Pu(y.Ya++,c)),y.G==3&&ur(y)},Zt.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,Zt.aa.N.call(this)};function $u(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const T in y){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D($u,ir);function Hu(){so.call(this),this.status=1}D(Hu,so);function cr(c){this.g=c}D(cr,Za),cr.prototype.ua=function(){vt(this.g,"a")},cr.prototype.ta=function(c){vt(this.g,new $u(c))},cr.prototype.sa=function(c){vt(this.g,new Hu)},cr.prototype.ra=function(){vt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,n1=function(){return new Eo},t1=function(){return us()},e1=sr,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,th=lo,Eu.COMPLETE="complete",ZE=Eu,io.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,kl=io,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,JE=Ze}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const dw="@firebase/firestore",fw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new eg("@firebase/firestore");function Wo(){return Ws.logLevel}function ue(n,...e){if(Ws.logLevel<=Ne.DEBUG){const t=e.map(dg);Ws.debug(`Firestore (${Sa}): ${n}`,...t)}}function ti(n,...e){if(Ws.logLevel<=Ne.ERROR){const t=e.map(dg);Ws.error(`Firestore (${Sa}): ${n}`,...t)}}function ca(n,...e){if(Ws.logLevel<=Ne.WARN){const t=e.map(dg);Ws.warn(`Firestore (${Sa}): ${n}`,...t)}}function dg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,r1(n,r,t)}function r1(n,e,t){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ti(r),new Error(r)}function ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||r1(e,s,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class NV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bV{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new i1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class DV{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VV{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=MV(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ce(n,e){return n<e?-1:n>e?1:0}function Yp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ce(r,s);{const a=s1(),u=LV(a.encode(mw(n,t)),a.encode(mw(e,t)));return u!==0?u:Ce(r,s)}}t+=r>65535?2:1}return Ce(n.length,e.length)}function mw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LV(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ce(n[t],e[t]);return Ce(n.length,e.length)}function ha(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=-62135596800,yw=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yw);return new Et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gw)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yw}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Et(0,0))}static max(){return new Se(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__name__";class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=mr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ce(e.length,t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),s=mr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?mr.extractNumericId(e).compare(mr.extractNumericId(t)):Yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class tt extends mr{construct(e,t,r){return new tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const OV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends mr{construct(e,t,r){return new Ut(e,t,r)}static isValidIdentifier(e){return OV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vw}static keyField(){return new Ut([vw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function FV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new Et(t+1,0):new Et(t,r));return new Gi(s,_e.empty(),e)}function UV(n){return new Gi(n.readTime,n.key,Zl)}class Gi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gi(Se.min(),_e.empty(),Zl)}static max(){return new Gi(Se.max(),_e.empty(),Zl)}}function BV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $V{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==zV)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(s=>s?Q.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(_=>{u[p]=_,++d,d===a&&r(u)},_=>s(_))}})}static doWhile(e,t){return new Q((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function HV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function Xh(n){return n==null}function Ph(n){return n===0&&1/n==-1/0}function WV(n){return typeof n=="number"&&Number.isInteger(n)&&!Ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="";function KV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_w(e)),e=qV(n.get(t),e);return _w(e)}function qV(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case a1:t+="";break;default:t+=a}}return t}function _w(n){return n+a1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ft(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new xn([])}unionWith(e){let t=new St(Ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new u1("Invalid base64 string: "+a):a}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const GV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=GV.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="server_timestamp",h1="__type__",d1="__previous_value__",f1="__local_write_time__";function pg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[h1])===null||t===void 0?void 0:t.stringValue)===c1}function Jh(n){const e=n.mapValue.fields[d1];return pg(e)?Jh(e):e}function eu(n){const e=Qi(n.mapValue.fields[f1].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,t,r,s,a,u,d,f,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=_}}const Ch="(default)";class tu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__type__",YV="__max__",Wc={mapValue:{}},m1="__vector__",Rh="value";function Xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pg(n)?4:JV(n)?9007199254740991:XV(n)?10:11:Te(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Xi(n);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eu(n).isEqual(eu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Qi(s.timestampValue),d=Qi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Yi(s.bytesValue).isEqual(Yi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return dt(s.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return dt(s.integerValue)===dt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=dt(s.doubleValue),d=dt(a.doubleValue);return u===d?Ph(u)===Ph(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(ww(u)!==ww(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Tr(u[f],d[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function nu(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function da(n,e){if(n===e)return 0;const t=Xi(n),r=Xi(e);if(t!==r)return Ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Tw(n.timestampValue,e.timestampValue);case 4:return Tw(eu(n),eu(e));case 5:return Yp(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Yi(a),f=Yi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const _=Ce(d[p],f[p]);if(_!==0)return _}return Ce(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ce(dt(a.latitude),dt(u.latitude));return d!==0?d:Ce(dt(a.longitude),dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ew(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,_;const w=a.fields||{},x=u.fields||{},A=(d=w[Rh])===null||d===void 0?void 0:d.arrayValue,D=(f=x[Rh])===null||f===void 0?void 0:f.arrayValue,V=Ce(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:Ew(A,D)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Wc.mapValue&&u===Wc.mapValue)return 0;if(a===Wc.mapValue)return 1;if(u===Wc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const x=Yp(f[w],_[w]);if(x!==0)return x;const A=da(d[f[w]],p[_[w]]);if(A!==0)return A}return Ce(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function Tw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);const t=Qi(n),r=Qi(e),s=Ce(t.seconds,r.seconds);return s!==0?s:Ce(t.nanos,r.nanos)}function Ew(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=da(t[s],r[s]);if(a)return a}return Ce(t.length,r.length)}function fa(n){return Xp(n)}function Xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Qi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Yi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Xp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Xp(t.fields[u])}`;return s+"}"}(n.mapValue):Te(61005,{value:n})}function nh(n){switch(Xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(n);return e?16+nh(e):16;case 5:return 2*n.stringValue.length;case 6:return Yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+nh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return rs(r.fields,(a,u)=>{s+=a.length+nh(u)}),s}(n.mapValue);default:throw Te(13486,{value:n})}}function Jp(n){return!!n&&"integerValue"in n}function mg(n){return!!n&&"arrayValue"in n}function Sw(n){return!!n&&"nullValue"in n}function Iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rh(n){return!!n&&"mapValue"in n}function XV(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[p1])===null||t===void 0?void 0:t.stringValue)===m1}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ul(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===YV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=Ut.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ul(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];rh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){rs(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new dn(Ul(this.value))}}function g1(n){const e=[];return rs(n.fields,(t,r)=>{const s=new Ut([t]);if(rh(r)){const a=g1(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Se.min(),Se.min(),Se.min(),dn.empty(),0)}static newFoundDocument(e,t,r,s){return new Qt(e,1,t,Se.min(),r,s,0)}static newNoDocument(e,t){return new Qt(e,2,t,Se.min(),Se.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Se.min(),Se.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function Aw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=da(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=class{};class Tt extends y1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tj(e,t,r):t==="array-contains"?new ij(e,r):t==="in"?new sj(e,r):t==="not-in"?new oj(e,r):t==="array-contains-any"?new aj(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nj(e,r):new rj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(da(t,this.value)):t!==null&&Xi(this.value)===Xi(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends y1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Er(e,t)}matches(e){return v1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function v1(n){return n.op==="and"}function _1(n){return ej(n)&&v1(n)}function ej(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function Zp(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+fa(n.value);if(_1(n))return n.filters.map(e=>Zp(e)).join(",");{const e=n.filters.map(t=>Zp(t)).join(",");return`${n.op}(${e})`}}function w1(n,e){return n instanceof Tt?function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(n,e):n instanceof Er?function(r,s){return s instanceof Er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&w1(u,s.filters[d]),!0):!1}(n,e):void Te(19439)}function x1(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${fa(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(x1).join(" ,")+"}"}(n):"Filter"}class tj extends Tt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class nj extends Tt{constructor(e,t){super(e,"in",t),this.keys=T1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rj extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=T1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class ij extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&nu(t.arrayValue,this.value)}}class sj extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nu(this.value.arrayValue,t)}}class oj extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nu(this.value.arrayValue,t)}}class aj extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Ie=null}}function Cw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new lj(n,e,t,r,s,a,u)}function gg(n){const e=Ae(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fa(r)).join(",")),e.Ie=t}return e.Ie}function yg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!w1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pw(n.startAt,e.startAt)&&Pw(n.endAt,e.endAt)}function em(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uj(n,e,t,r,s,a,u,d){return new Zh(n,e,t,r,s,a,u,d)}function vg(n){return new Zh(n)}function Rw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cj(n){return n.collectionGroup!==null}function Bl(n){const e=Ae(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new St(Ut.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Nh(a,r))}),t.has(Ut.keyField().canonicalString())||e.Ee.push(new Nh(Ut.keyField(),r))}return e.Ee}function wr(n){const e=Ae(n);return e.de||(e.de=hj(e,Bl(n))),e.de}function hj(n,e){if(n.limitType==="F")return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Nh(s.field,a)});const t=n.endAt?new kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new kh(n.startAt.position,n.startAt.inclusive):null;return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tm(n,e,t){return new Zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return yg(wr(n),wr(e))&&n.limitType===e.limitType}function E1(n){return`${gg(wr(n))}|lt:${n.limitType}`}function Ko(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>x1(s)).join(", ")}]`),Xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>fa(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>fa(s)).join(",")),`Target(${r})`}(wr(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Bl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const p=Aw(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,Bl(r),s)||r.endAt&&!function(u,d,f){const p=Aw(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,Bl(r),s))}(n,e)}function dj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S1(n){return(e,t)=>{let r=!1;for(const s of Bl(n)){const a=fj(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function fj(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?da(f,p):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new st(_e.comparator);function ni(){return pj}const I1=new st(_e.comparator);function Nl(...n){let e=I1;for(const t of n)e=e.insert(t.key,t);return e}function A1(n){let e=I1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Us(){return zl()}function P1(){return zl()}function zl(){return new Qs(n=>n.toString(),(n,e)=>n.isEqual(e))}const mj=new st(_e.comparator),gj=new St(_e.comparator);function be(...n){let e=gj;for(const t of n)e=e.add(t);return e}const yj=new St(Ce);function vj(){return yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function C1(n){return{integerValue:""+n}}function _j(n,e){return WV(e)?C1(e):_g(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function wj(n,e,t){return n instanceof bh?function(s,a){const u={fields:{[h1]:{stringValue:c1},[f1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&pg(a)&&(a=Jh(a)),a&&(u.fields[d1]=a),{mapValue:u}}(t,e):n instanceof pa?k1(n,e):n instanceof ru?N1(n,e):function(s,a){const u=R1(s,a),d=kw(u)+kw(s.Re);return Jp(u)&&Jp(s.Re)?C1(d):_g(s.serializer,d)}(n,e)}function xj(n,e,t){return n instanceof pa?k1(n,e):n instanceof ru?N1(n,e):t}function R1(n,e){return n instanceof Dh?function(r){return Jp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class bh extends nd{}class pa extends nd{constructor(e){super(),this.elements=e}}function k1(n,e){const t=b1(e);for(const r of n.elements)t.some(s=>Tr(s,r))||t.push(r);return{arrayValue:{values:t}}}class ru extends nd{constructor(e){super(),this.elements=e}}function N1(n,e){let t=b1(e);for(const r of n.elements)t=t.filter(s=>!Tr(s,r));return{arrayValue:{values:t}}}class Dh extends nd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function kw(n){return dt(n.integerValue||n.doubleValue)}function b1(n){return mg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t){this.field=e,this.transform=t}}function Ej(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof pa&&s instanceof pa||r instanceof ru&&s instanceof ru?ha(r.elements,s.elements,Tr):r instanceof Dh&&s instanceof Dh?Tr(r.Re,s.Re):r instanceof bh&&s instanceof bh}(n.transform,e.transform)}class Sj{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rd{}function D1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wg(n.key,tr.none()):new yu(n.key,n.data,tr.none());{const t=n.data,r=dn.empty();let s=new St(Ut.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new is(n.key,r,new xn(s.toArray()),tr.none())}}function Ij(n,e,t){n instanceof yu?function(s,a,u){const d=s.value.clone(),f=bw(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof is?function(s,a,u){if(!ih(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=bw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(V1(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function $l(n,e,t,r){return n instanceof yu?function(a,u,d,f){if(!ih(a.precondition,u))return d;const p=a.value.clone(),_=Dw(a.fieldTransforms,f,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof is?function(a,u,d,f){if(!ih(a.precondition,u))return d;const p=Dw(a.fieldTransforms,f,u),_=u.data;return _.setAll(V1(a)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return ih(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function Aj(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=R1(r.transform,s||null);a!=null&&(t===null&&(t=dn.empty()),t.set(r.field,a))}return t||null}function Nw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ha(r,s,(a,u)=>Ej(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yu extends rd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class is extends rd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function V1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bw(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,xj(u,d,t[s]))}return r}function Dw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,wj(a,u,e))}return r}class wg extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pj extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Ij(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$l(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$l(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=P1();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=D1(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,r)=>Nw(t,r))&&ha(this.baseMutations,e.baseMutations,(t,r)=>Nw(t,r))}}class xg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return mj}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new xg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Le;function Nj(n){switch(n){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function j1(n){if(n===void 0)return ti("GRPC error has no .code"),Z.UNKNOWN;switch(n){case gt.OK:return Z.OK;case gt.CANCELLED:return Z.CANCELLED;case gt.UNKNOWN:return Z.UNKNOWN;case gt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case gt.INTERNAL:return Z.INTERNAL;case gt.UNAVAILABLE:return Z.UNAVAILABLE;case gt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case gt.NOT_FOUND:return Z.NOT_FOUND;case gt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case gt.ABORTED:return Z.ABORTED;case gt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case gt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:n})}}(Le=gt||(gt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new $i([4294967295,4294967295],0);function Vw(n){const e=s1().encode(n),t=new XE;return t.update(e),new Uint8Array(t.digest())}function jw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $i([t,r],0),new $i([s,a],0)]}class Tg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=$i.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply($i.fromNumber(r)));return s.compare(bj)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Vw(e),[r,s]=jw(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Tg(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=Vw(e),[r,s]=jw(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new id(Se.min(),s,new st(Ce),ni(),be())}}class vu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vu(r,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class M1{constructor(e,t){this.targetId=e,this.Ce=t}}class L1{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Mw{constructor(){this.Fe=0,this.Me=Lw(),this.xe=Bt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=be(),t=be(),r=be();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:a})}}),new vu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Lw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Dj{constructor(e){this.ze=e,this.je=new Map,this.He=ni(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new st(Ce)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(em(a))if(r===0){const u=new _e(a.path);this.tt(t,u,Qt.newNoDocument(u,Se.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Yi(r).toUint8Array()}catch(f){if(f instanceof u1)return ca("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Tg(u,s,a)}catch(f){return ca(f instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const d=this._t(u);if(d){if(a.current&&em(d.target)){const f=new _e(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Qt.newNoDocument(f,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=be();this.Ye.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new id(e,t,this.Ze,this.He,r);return this.He=ni(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new st(Ce),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Mw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new St(Ce),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new St(Ce),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Mw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new st(_e.comparator)}function Lw(){return new st(_e.comparator)}const Vj={asc:"ASCENDING",desc:"DESCENDING"},jj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mj={and:"AND",or:"OR"};class Lj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nm(n,e){return n.useProto3Json||Xh(e)?e:{value:e}}function Vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Oj(n,e){return Vh(n,e.toTimestamp())}function xr(n){return ze(!!n,49232),Se.fromTimestamp(function(t){const r=Qi(t);return new Et(r.seconds,r.nanos)}(n))}function Eg(n,e){return rm(n,e).canonicalString()}function rm(n,e){const t=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function F1(n){const e=tt.fromString(n);return ze(H1(e),10190,{key:e.toString()}),e}function im(n,e){return Eg(n.databaseId,e.path)}function dp(n,e){const t=F1(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(B1(t))}function U1(n,e){return Eg(n.databaseId,e)}function Fj(n){const e=F1(n);return e.length===4?tt.emptyPath():B1(e)}function sm(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B1(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ow(n,e,t){return{name:im(n,e),fields:t.value.mapValue.fields}}function Uj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,_){return p.useProto3Json?(ze(_===void 0||typeof _=="string",58123),Bt.fromBase64String(_||"")):(ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const _=p.code===void 0?Z.UNKNOWN:j1(p.code);return new me(_,p.message||"")}(u);t=new L1(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dp(n,r.document.name),a=xr(r.document.updateTime),u=r.document.createTime?xr(r.document.createTime):Se.min(),d=new dn({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(s,a,u,d),p=r.targetIds||[],_=r.removedTargetIds||[];t=new sh(p,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dp(n,r.document),a=r.readTime?xr(r.readTime):Se.min(),u=Qt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new sh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dp(n,r.document),a=r.removedTargetIds||[];t=new sh([],a,s,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new kj(s,a),d=r.targetId;t=new M1(d,u)}}return t}function Bj(n,e){let t;if(e instanceof yu)t={update:Ow(n,e.key,e.value)};else if(e instanceof wg)t={delete:im(n,e.key)};else if(e instanceof is)t={update:Ow(n,e.key,e.data),updateMask:Yj(e.fieldMask)};else{if(!(e instanceof Pj))return Te(16599,{ft:e.type});t={verify:im(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof bh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Oj(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(n,e.precondition)),t}function zj(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?xr(s.updateTime):xr(a);return u.isEqual(Se.min())&&(u=xr(a)),new Sj(u,s.transformResults||[])}(t,e))):[]}function $j(n,e){return{documents:[U1(n,e.path)]}}function Hj(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=U1(n,s);const a=function(p){if(p.length!==0)return $1(Er.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(_=>function(x){return{field:qo(x.field),direction:qj(x.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=nm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function Wj(n){let e=Fj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ze(r===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const x=z1(w);return x instanceof Er&&_1(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(x=>function(D){return new Nh(Go(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(x))}(t.orderBy));let d=null;t.limit&&(d=function(w){let x;return x=typeof w=="object"?w.value:w,Xh(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(w){const x=!!w.before,A=w.values||[];return new kh(A,x)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const x=!w.before,A=w.values||[];return new kh(A,x)}(t.endAt)),uj(e,s,u,a,d,"F",f,p)}function Kj(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Go(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Go(t.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Go(t.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(Go(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(r=>z1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function qj(n){return Vj[n]}function Gj(n){return jj[n]}function Qj(n){return Mj[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Go(n){return Ut.fromServerFormat(n.fieldPath)}function $1(n){return n instanceof Tt?function(t){if(t.op==="=="){if(Iw(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(Sw(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Iw(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(Sw(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:Gj(t.op),value:t.value}}}(n):n instanceof Er?function(t){const r=t.getFilters().map(s=>$1(s));return r.length===1?r[0]:{compositeFilter:{op:Qj(t.op),filters:r}}}(n):Te(54877,{filter:n})}function Yj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,r,s,a=Se.min(),u=Se.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.wt=e}}function Jj(n){const e=Wj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.Cn=new eM}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Gi.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class eM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new St(tt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(W1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ma(0)}static lr(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LruGarbageCollector",tM=1048576;function Bw([n,e],[t,r]){const s=Ce(n,t);return s===0?Ce(e,r):s}class nM{constructor(e){this.Er=e,this.buffer=new St(Bw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Bw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(Uw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?ue(Uw,"Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.mr(3e5)})}}class iM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Yh.le);const r=new nM(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Fw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,a,u,d,f,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Wo()<=Ne.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function sM(n,e){return new iM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.changes=new Qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&$l(r.mutation,s,xn.empty(),Et.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=be()){const s=Us();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Nl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,be()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=ni();const u=zl(),d=function(){return zl()}();return t.forEach((f,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof is)?a=a.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),$l(_.mutation,p,_.mutation.getFieldMask(),Et.now())):u.set(p.key,xn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,_)=>u.set(p,_)),t.forEach((p,_)=>{var w;return d.set(p,new aM(_,(w=u.get(p))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const r=zl();let s=new st((u,d)=>u-d),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let _=r.get(f)||xn.empty();_=d.applyToLocalView(p,_),r.set(f,_);const w=(s.get(d.batchId)||be()).add(f);s=s.insert(d.batchId,w)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,_=f.value,w=P1();_.forEach(x=>{if(!a.has(x)){const A=D1(t.get(x),r.get(x));A!==null&&w.set(x,A),a=a.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Q.resolve(Us());let d=Zl,f=a;return u.next(p=>Q.forEach(p,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{f=f.insert(_,x)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,be())).next(_=>({batchId:d,changes:A1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let s=Nl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Nl();return this.indexManager.getCollectionParents(e,a).next(d=>Q.forEach(d,f=>{const p=function(w,x){return new Zh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(_=>{_.forEach((w,x)=>{u=u.insert(w,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,Qt.newInvalidDocument(_)))});let d=Nl();return u.forEach((f,p)=>{const _=a.get(f);_!==void 0&&$l(_.mutation,p,xn.empty(),Et.now()),td(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Q.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:Jj(s.bundledQuery),readTime:xr(s.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.overlays=new st(_e.comparator),this.Qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Us();return Q.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.bt(e,t,a)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const s=Us(),a=t.length+1,u=new _e(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new st((p,_)=>p-_);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=a.get(p.largestBatchId);_===null&&(_=Us(),a=a.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Us(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=s)););return Q.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Rj(t,r));let a=this.Qr.get(t);a===void 0&&(a=be(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.$r=new St(kt.Ur),this.Kr=new St(kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new kt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new kt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new _e(new tt([])),r=new kt(t,e),s=new kt(t,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new tt([])),r=new kt(t,e),s=new kt(t,e+1);let a=be();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||Ce(e.Zr,t.Zr)}static Wr(e,t){return Ce(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new St(kt.Ur)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Cj(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Xr=this.Xr.add(new kt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),a=s<0?0:s;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?fg:this.nr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),s=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const d=this.ei(u.Zr);a.push(d)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(Ce);return t.forEach(s=>{const a=new kt(s,0),u=new kt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],d=>{r=r.add(d.Zr)})}),Q.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new kt(new _e(a),0);let d=new St(Ce);return this.Xr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Zr)),!0)},u),Q.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Q.forEach(t.mutations,s=>{const a=new kt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new kt(t,0),s=this.Xr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.ii=e,this.docs=function(){return new st(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=ni();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Qt.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ni();const u=t.path,d=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:_}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||BV(UV(_),r)<=0||(s.has(_.key)||td(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Te(9500)}si(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new pM(this)}getSize(e){return Q.resolve(this.size)}}class pM extends oM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.persistence=e,this.oi=new Qs(t=>gg(t),yg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Sg,this.targetCount=0,this.ui=ma.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),Q.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ma(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Tr(t),Q.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Q.waitFor(a).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){this.ci={},this.overlays={},this.li=new Yh(0),this.hi=!1,this.hi=!0,this.Pi=new hM,this.referenceDelegate=e(this),this.Ti=new mM(this),this.indexManager=new Zj,this.remoteDocumentCache=function(s){return new fM(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Xj(t),this.Ei=new uM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new dM(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new gM(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,t){return Q.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class gM extends $V{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Vi=new Sg,this.mi=null}static fi(e){return new Ig(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,r=>{const s=_e.fromPath(r);return this.pi(e,s).next(a=>{a||t.removeEntry(s,Se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Q.or([()=>Q.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.yi=new Qs(r=>KV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=sM(this,t)}static fi(e,t){return new jh(e,t)}di(){}Ai(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return Q.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?Q.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nh(e.data.value)),t}Dr(e,t,r){return Q.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=be(),s=be();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ag(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return qN()?8:HV(Xt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ws(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Ss(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new yM;return this.bs(e,t,u).next(d=>{if(a.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>a.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(Wo()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Wo()<=Ne.DEBUG&&ue("QueryEngine","Query:",Ko(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Wo()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):Q.resolve())}ws(e,t){if(Rw(t))return Q.resolve(null);let r=wr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=tm(t,null,"F"),r=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=be(...a);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.vs(t,d);return this.Cs(t,p,u,f.readTime)?this.ws(e,tm(t,null,"F")):this.Fs(e,p,t,f)}))})))}Ss(e,t,r,s){return Rw(t)||s.isEqual(Se.min())?Q.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(t,a);return this.Cs(t,u,r,s)?Q.resolve(null):(Wo()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(t)),this.Fs(e,u,t,FV(s,Zl)).next(d=>d))})}vs(e,t){let r=new St(S1(e));return t.forEach((s,a)=>{td(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}bs(e,t,r){return Wo()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.ys.getDocumentsMatchingQuery(e,t,Gi.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",_M=3e8;class wM{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new st(Ce),this.Os=new Qs(a=>gg(a),yg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function xM(n,e,t,r){return new wM(n,e,t,r)}async function q1(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=be();for(const p of s){u.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of a){d.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:d}))})})}function TM(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,_){const w=p.batch,x=w.keys();let A=Q.resolve();return x.forEach(D=>{A=A.next(()=>_.getEntry(f,D)).next(V=>{const k=p.docVersions.get(D);ze(k!==null,48541),V.version.compareTo(k)<0&&(w.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),_.addEntry(V)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=be();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function G1(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function EM(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((_,w)=>{const x=s.get(w);if(!x)return;d.push(t.Ti.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(a,_.addedDocuments,w)));let A=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,r)),s=s.insert(w,A),function(V,k,W){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=_M?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(x,A,_)&&d.push(t.Ti.updateTargetData(a,A))});let f=ni(),p=be();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(SM(a,u,e.documentUpdates).next(_=>{f=_.qs,p=_.Qs})),!r.isEqual(Se.min())){const _=t.Ti.getLastRemoteSnapshotVersion(a).next(w=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(_)}return Q.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.xs=s,a))}function SM(n,e,t){let r=be(),s=be();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ni();return t.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ue(Pg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function IM(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AM(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(a=>a?(s=a,Q.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new Li(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function om(n,e,t){const r=Ae(n),s=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Aa(u))throw u;ue(Pg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function zw(n,e,t){const r=Ae(n);let s=Se.min(),a=be();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,_){const w=Ae(f),x=w.Os.get(_);return x!==void 0?Q.resolve(w.xs.get(x)):w.Ti.getTargetData(p,_)}(r,u,wr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:Se.min(),t?a:be())).next(d=>(PM(r,dj(e),d),{documents:d,$s:a})))}function PM(n,e,t){let r=n.Ns.get(e)||Se.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class $w{constructor(){this.activeTargetIds=vj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CM{constructor(){this.xo=new $w,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new $w,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="ConnectivityMonitor";class Ww{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(Hw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(Hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function am(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,a){const u=am(),d=this.jo(e,t.toUriEncodedString());ue(fp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,a);const{host:p}=new URL(d),_=cu(p);return this.Jo(e,d,f,r,_).then(w=>(ue(fp,`Received RPC '${e}' ${u}: `,w),w),w=>{throw ca(fp,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Yo(e,t,r,s,a,u){return this.zo(e,t,r,s,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,t){const r=kM[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class DM extends NM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=am();return new Promise((d,f)=>{const p=new JE;p.setWithCredentials(!0),p.listenOnce(ZE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const w=p.getResponseJson();ue(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case th.TIMEOUT:ue(Kt,`RPC '${e}' ${u} timed out`),f(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const x=p.getStatus();if(ue(Kt,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const V=function(W){const q=W.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(q)>=0?q:Z.UNKNOWN}(D.status);f(new me(V,D.message))}else f(new me(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Kt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(s);ue(Kt,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",_,r,15)})}T_(e,t,r){const s=am(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=n1(),d=t1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=a.join("");ue(Kt,`Creating RPC '${e}' stream ${s}: ${_}`,f);const w=u.createWebChannel(_,f);let x=!1,A=!1;const D=new bM({Zo:k=>{A?ue(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(x||(ue(Kt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),x=!0),ue(Kt,`RPC '${e}' stream ${s} sending:`,k),w.send(k))},Xo:()=>w.close()}),V=(k,W,q)=>{k.listen(W,G=>{try{q(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return V(w,kl.EventType.OPEN,()=>{A||(ue(Kt,`RPC '${e}' stream ${s} transport opened.`),D.__())}),V(w,kl.EventType.CLOSE,()=>{A||(A=!0,ue(Kt,`RPC '${e}' stream ${s} transport closed`),D.u_())}),V(w,kl.EventType.ERROR,k=>{A||(A=!0,ca(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),D.u_(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),V(w,kl.EventType.MESSAGE,k=>{var W;if(!A){const q=k.data[0];ze(!!q,16349);const G=q,ne=(G==null?void 0:G.error)||((W=G[0])===null||W===void 0?void 0:W.error);if(ne){ue(Kt,`RPC '${e}' stream ${s} received error:`,ne);const te=ne.status;let oe=function(P){const N=gt[P];if(N!==void 0)return j1(N)}(te),b=ne.message;oe===void 0&&(oe=Z.INTERNAL,b="Unknown error status: "+te+" with message "+ne.message),A=!0,D.u_(new me(oe,b)),w.close()}else ue(Kt,`RPC '${e}' stream ${s} received:`,q),D.c_(q)}}),V(d,e1.STAT_EVENT,k=>{k.stat===Qp.PROXY?ue(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Qp.NOPROXY&&ue(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n){return new Lj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="PersistentStream";class Y1{constructor(e,t,r,s,a,u,d,f){this.xi=e,this.y_=r,this.w_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Q1(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new me(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ue(Kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ue(Kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VM extends Y1{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=Uj(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?xr(u.readTime):Se.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=sm(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=em(f)?{documents:$j(a,f)}:{query:Hj(a,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=O1(a,u.resumeToken);const p=nm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){d.readTime=Vh(a,u.snapshotVersion.toTimestamp());const p=nm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=Kj(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=sm(this.serializer),t.removeTarget=e,this.L_(t)}}class jM extends Y1{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=zj(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=sm(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bj(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{}class LM extends MM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,rm(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Z.UNKNOWN,a.toString())})}Yo(e,t,r,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,rm(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class OM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ti(t),this.oa=!1):ue("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class FM{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(u=>{r.enqueueAndForget(async()=>{Ys(this)&&(ue(Ks,"Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.Ta.add(4),await _u(p),p.da.set("Unknown"),p.Ta.delete(4),await od(p)}(this))})}),this.da=new OM(r,s)}}async function od(n){if(Ys(n))for(const e of n.Ia)await e(!0)}async function _u(n){for(const e of n.Ia)await e(!1)}function X1(n,e){const t=Ae(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Ng(t)?kg(t):Pa(t).M_()&&Rg(t,e))}function Cg(n,e){const t=Ae(n),r=Pa(t);t.Pa.delete(e),r.M_()&&J1(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ys(t)&&t.da.set("Unknown"))}function Rg(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pa(n).H_(e)}function J1(n,e){n.Aa.Ke(e),Pa(n).J_(e)}function kg(n){n.Aa=new Dj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Pa(n).start(),n.da._a()}function Ng(n){return Ys(n)&&!Pa(n).F_()&&n.Pa.size>0}function Ys(n){return Ae(n).Ta.size===0}function Z1(n){n.Aa=void 0}async function UM(n){n.da.set("Online")}async function BM(n){n.Pa.forEach((e,t)=>{Rg(n,e)})}async function zM(n,e){Z1(n),Ng(n)?(n.da.ca(e),kg(n)):n.da.set("Unknown")}async function $M(n,e,t){if(n.da.set("Online"),e instanceof L1&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Pa.delete(d),s.Aa.removeTarget(d))}(n,e)}catch(r){ue(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(n,r)}else if(e instanceof sh?n.Aa.Xe(e):e instanceof M1?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Se.min()))try{const r=await G1(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Aa.It(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.Pa.get(p);_&&a.Pa.set(p,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const _=a.Pa.get(f);if(!_)return;a.Pa.set(f,_.withResumeToken(Bt.EMPTY_BYTE_STRING,_.snapshotVersion)),J1(a,f);const w=new Li(_.target,f,p,_.sequenceNumber);Rg(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){ue(Ks,"Failed to raise snapshot:",r),await Mh(n,r)}}async function Mh(n,e,t){if(!Aa(e))throw e;n.Ta.add(1),await _u(n),n.da.set("Offline"),t||(t=()=>G1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Ks,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await od(n)})}function eS(n,e){return e().catch(t=>Mh(n,t,e))}async function ad(n){const e=Ae(n),t=Ji(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:fg;for(;HM(e);)try{const s=await IM(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,WM(e,s)}catch(s){await Mh(e,s)}tS(e)&&nS(e)}function HM(n){return Ys(n)&&n.ha.length<10}function WM(n,e){n.ha.push(e);const t=Ji(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function tS(n){return Ys(n)&&!Ji(n).F_()&&n.ha.length>0}function nS(n){Ji(n).start()}async function KM(n){Ji(n).ta()}async function qM(n){const e=Ji(n);for(const t of n.ha)e.Z_(t.mutations)}async function GM(n,e,t){const r=n.ha.shift(),s=xg.from(r,e,t);await eS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ad(n)}async function QM(n,e){e&&Ji(n).Y_&&await async function(r,s){if(function(u){return Nj(u)&&u!==Z.ABORTED}(s.code)){const a=r.ha.shift();Ji(r).O_(),await eS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ad(r)}}(n,e),tS(n)&&nS(n)}async function qw(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ue(Ks,"RemoteStore received new credentials");const r=Ys(t);t.Ta.add(3),await _u(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await od(t)}async function YM(n,e){const t=Ae(n);e?(t.Ta.delete(2),await od(t)):e||(t.Ta.add(2),await _u(t),t.da.set("Unknown"))}function Pa(n){return n.Ra||(n.Ra=function(t,r,s){const a=Ae(t);return a.ra(),new VM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:UM.bind(null,n),n_:BM.bind(null,n),i_:zM.bind(null,n),j_:$M.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Ng(n)?kg(n):n.da.set("Unknown")):(await n.Ra.stop(),Z1(n))})),n.Ra}function Ji(n){return n.Va||(n.Va=function(t,r,s){const a=Ae(t);return a.ra(),new jM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:KM.bind(null,n),i_:QM.bind(null,n),X_:qM.bind(null,n),ea:GM.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await ad(n)):(await n.Va.stop(),n.ha.length>0&&(ue(Ks,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new bg(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(n,e){if(ti("AsyncQueue",`${e}: ${n}`),Aa(n))return new me(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{static emptySet(e){return new ia(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Nl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.ma=new st(_e.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class ga{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ga(e,t,ia.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class JM{constructor(){this.queries=Qw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=Qw(),a.forEach((u,d)=>{for(const f of d.ya)f.onError(r)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function Qw(){return new Qs(n=>E1(n),ed)}async function rS(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.wa()&&e.Sa()&&(r=2):(a=new XM,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(s,!0);break;case 1:a.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Dg(u,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&Vg(t)}async function iS(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.ya.indexOf(e);u>=0&&(a.ya.splice(u,1),a.ya.length===0?s=e.Sa()?0:1:!a.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZM(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.ya)d.va(s)&&(r=!0);u.pa=s}}r&&Vg(t)}function e4(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.ya)a.onError(t);r.queries.delete(e)}function Vg(n){n.ba.forEach(e=>{e.next()})}var lm,Yw;(Yw=lm||(lm={})).Ca="default",Yw.Cache="cache";class sS{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class aS{constructor(e){this.key=e}}class t4{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=be(),this.mutatedKeys=be(),this.Ha=S1(e),this.Ja=new ia(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new Gw,s=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,w)=>{const x=s.get(_),A=td(this.query,w)?w:null,D=!!x&&this.mutatedKeys.has(x.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;x&&A?x.data.isEqual(A.data)?D!==V&&(r.track({type:3,doc:A}),k=!0):this.eu(x,A)||(r.track({type:2,doc:A}),k=!0,(f&&this.Ha(A,f)>0||p&&this.Ha(A,p)<0)&&(d=!0)):!x&&A?(r.track({type:0,doc:A}),k=!0):x&&!A&&(r.track({type:1,doc:x}),k=!0,(f||p)&&(d=!0)),k&&(A?(u=u.add(A),a=V?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{Ja:u,Xa:r,Cs:d,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((_,w)=>function(A,D){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:k})}};return V(A)-V(D)}(_.type,w.type)||this.Ha(_.doc,w.doc)),this.tu(r),s=s!=null&&s;const d=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,p=f!==this.za;return this.za=f,u.length!==0||p?{snapshot:new ga(this.query,e.Ja,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=be(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new aS(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new oS(r))}),t}su(e){this.Ga=e.$s,this.ja=be();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ga.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const jg="SyncEngine";class n4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class r4{constructor(e){this.key=e,this._u=!1}}class i4{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Qs(d=>E1(d),ed),this.cu=new Map,this.lu=new Set,this.hu=new st(_e.comparator),this.Pu=new Map,this.Tu=new Sg,this.Iu={},this.Eu=new Map,this.du=ma.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function s4(n,e,t=!0){const r=fS(n);let s;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.ou()):s=await lS(r,e,t,!0),s}async function o4(n,e){const t=fS(n);await lS(t,e,!0,!1)}async function lS(n,e,t,r){const s=await AM(n.localStore,wr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await a4(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&X1(n.remoteStore,s),d}async function a4(n,e,t,r,s){n.Ru=(w,x,A)=>async function(V,k,W,q){let G=k.view.Za(W);G.Cs&&(G=await zw(V.localStore,k.query,!1).then(({documents:b})=>k.view.Za(b,G)));const ne=q&&q.targetChanges.get(k.targetId),te=q&&q.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(G,V.isPrimaryClient,ne,te);return Jw(V,k.targetId,oe.ru),oe.snapshot}(n,w,x,A);const a=await zw(n.localStore,e,!0),u=new t4(e,a.$s),d=u.Za(a.documents),f=vu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);Jw(n,t,p.ru);const _=new n4(e,t,u);return n.uu.set(e,_),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),p.snapshot}async function l4(n,e,t){const r=Ae(n),s=r.uu.get(e),a=r.cu.get(s.targetId);if(a.length>1)return r.cu.set(s.targetId,a.filter(u=>!ed(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await om(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Cg(r.remoteStore,s.targetId),um(r,s.targetId)}).catch(Ia)):(um(r,s.targetId),await om(r.localStore,s.targetId,!0))}async function u4(n,e){const t=Ae(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Cg(t.remoteStore,r.targetId))}async function c4(n,e,t){const r=y4(n);try{const s=await function(u,d){const f=Ae(u),p=Et.now(),_=d.reduce((A,D)=>A.add(D.key),be());let w,x;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=ni(),V=be();return f.Bs.getEntries(A,_).next(k=>{D=k,D.forEach((W,q)=>{q.isValidDocument()||(V=V.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,D)).next(k=>{w=k;const W=[];for(const q of d){const G=Aj(q,w.get(q.key).overlayedDocument);G!=null&&W.push(new is(q.key,G,g1(G.value.mapValue),tr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,W,d)}).next(k=>{x=k;const W=k.applyToLocalDocumentSet(w,V);return f.documentOverlayCache.saveOverlays(A,k.batchId,W)})}).then(()=>({batchId:x.batchId,changes:A1(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let p=u.Iu[u.currentUser.toKey()];p||(p=new st(Ce)),p=p.insert(d,f),u.Iu[u.currentUser.toKey()]=p}(r,s.batchId,t),await wu(r,s.changes),await ad(r.remoteStore)}catch(s){const a=Dg(s,"Failed to persist write");t.reject(a)}}async function uS(n,e){const t=Ae(n);try{const r=await EM(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Pu.get(a);u&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?ze(u._u,14607):s.removedDocuments.size>0&&(ze(u._u,42227),u._u=!1))}),await wu(t,r,e)}catch(r){await Ia(r)}}function Xw(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((a,u)=>{const d=u.view.Da(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=Ae(u);f.onlineState=d;let p=!1;f.queries.forEach((_,w)=>{for(const x of w.ya)x.Da(d)&&(p=!0)}),p&&Vg(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function h4(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),a=s&&s.key;if(a){let u=new st(_e.comparator);u=u.insert(a,Qt.newNoDocument(a,Se.min()));const d=be().add(a),f=new id(Se.min(),new Map,new st(Ce),u,d);await uS(r,f),r.hu=r.hu.remove(a),r.Pu.delete(e),Mg(r)}else await om(r.localStore,e,!1).then(()=>um(r,e,t)).catch(Ia)}async function d4(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await TM(t.localStore,e);hS(t,r,null),cS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wu(t,s)}catch(s){await Ia(s)}}async function f4(n,e,t){const r=Ae(n);try{const s=await function(u,d){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return f.mutationQueue.lookupMutationBatch(p,d).next(w=>(ze(w!==null,37113),_=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>f.localDocuments.getDocuments(p,_))})}(r.localStore,e);hS(r,e,t),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wu(r,s)}catch(s){await Ia(s)}}function cS(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function hS(n,e,t){const r=Ae(n);let s=r.Iu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function um(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||dS(n,r)})}function dS(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(Cg(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Mg(n))}function Jw(n,e,t){for(const r of t)r instanceof oS?(n.Tu.addReference(r.key,e),p4(n,r)):r instanceof aS?(ue(jg,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||dS(n,r.key)):Te(19791,{mu:r})}function p4(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(ue(jg,"New document in limbo: "+t),n.lu.add(r),Mg(n))}function Mg(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new _e(tt.fromString(e)),r=n.du.next();n.Pu.set(r,new r4(t)),n.hu=n.hu.insert(t,r),X1(n.remoteStore,new Li(wr(vg(t.path)),r,"TargetPurposeLimboResolution",Yh.le))}}async function wu(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.uu.isEmpty()||(r.uu.forEach((d,f)=>{u.push(r.Ru(f,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Ag.Rs(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.au.j_(s),await async function(f,p){const _=Ae(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(p,x=>Q.forEach(x.ds,A=>_.persistence.referenceDelegate.addReference(w,x.targetId,A)).next(()=>Q.forEach(x.As,A=>_.persistence.referenceDelegate.removeReference(w,x.targetId,A)))))}catch(w){if(!Aa(w))throw w;ue(Pg,"Failed to update sequence numbers: "+w)}for(const w of p){const x=w.targetId;if(!w.fromCache){const A=_.xs.get(x),D=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(D);_.xs=_.xs.insert(x,V)}}}(r.localStore,a))}async function m4(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ue(jg,"User change. New user:",e.toKey());const r=await q1(t.localStore,e);t.currentUser=e,function(a,u){a.Eu.forEach(d=>{d.forEach(f=>{f.reject(new me(Z.CANCELLED,u))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(t,r.ks)}}function g4(n,e){const t=Ae(n),r=t.Pu.get(e);if(r&&r._u)return be().add(r.key);{let s=be();const a=t.cu.get(e);if(!a)return s;for(const u of a){const d=t.uu.get(u);s=s.unionWith(d.view.Ya)}return s}}function fS(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h4.bind(null,e),e.au.j_=ZM.bind(null,e.eventManager),e.au.Vu=e4.bind(null,e.eventManager),e}function y4(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f4.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return xM(this.persistence,new vM,e.initialUser,this.serializer)}yu(e){return new K1(Ig.fi,this.serializer)}pu(e){return new CM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class v4 extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){ze(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rM(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new K1(r=>jh.fi(r,t),this.serializer)}}class cm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m4.bind(null,this.syncEngine),await YM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JM}()}createDatastore(e){const t=sd(e.databaseInfo.databaseId),r=function(a){return new DM(a)}(e.databaseInfo);return function(a,u,d,f){return new LM(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new FM(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Xw(this.syncEngine,t,0),function(){return Ww.C()?new Ww:new RM}())}createSyncEngine(e,t){return function(s,a,u,d,f,p,_){const w=new i4(s,a,u,d,f,p);return _&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ae(s);ue(Ks,"RemoteStore shutting down."),a.Ta.add(5),await _u(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class _4{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=o1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ue(Zi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue(Zi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Dg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Zi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await q1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await w4(n);ue(Zi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>qw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>qw(e.remoteStore,s)),n._onlineComponents=e}async function w4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Zi,"Using user provided OfflineComponentProvider");try{await mp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await mp(n,new Lh)}}else ue(Zi,"Using default OfflineComponentProvider"),await mp(n,new v4(void 0));return n._offlineComponents}async function mS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Zi,"Using user provided OnlineComponentProvider"),await Zw(n,n._uninitializedComponentsProvider._online)):(ue(Zi,"Using default OnlineComponentProvider"),await Zw(n,new cm))),n._onlineComponents}function x4(n){return mS(n).then(e=>e.syncEngine)}async function gS(n){const e=await mS(n),t=e.eventManager;return t.onListen=s4.bind(null,e.syncEngine),t.onUnlisten=l4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u4.bind(null,e.syncEngine),t}function T4(n,e,t={}){const r=new Xr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const _=new pS({next:x=>{_.Cu(),u.enqueueAndForget(()=>iS(a,w));const A=x.docs.has(d);!A&&x.fromCache?p.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&f&&f.source==="server"?p.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new sS(vg(d.path),_,{includeMetadataChanges:!0,La:!0});return rS(a,w)}(await gS(n),n.asyncQueue,e,t,r)),r.promise}function E4(n,e,t={}){const r=new Xr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const _=new pS({next:x=>{_.Cu(),u.enqueueAndForget(()=>iS(a,w)),x.fromCache&&f.source==="server"?p.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new sS(d,_,{includeMetadataChanges:!0,La:!0});return rS(a,w)}(await gS(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S4(n,e,t,r){if(e===!0&&r===!0)throw new me(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tx(n){if(!_e.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nx(n){if(_e.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lg(n);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firestore.googleapis.com",rx=!0;class ix{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=rx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tM)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ix({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ix(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kV;switch(r.type){case"firstParty":return new VV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ex.get(t);r&&(ue("ComponentProvider","Removing Datastore"),ex.delete(t),r.terminate())}(this),Promise.resolve()}}function I4(n,e,t,r={}){var s;n=Sr(n,ld);const a=cu(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(uE(`https://${f}`),cE("Firestore",!0)),u.host!==_S&&u.host!==f&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!qi(p,d)&&(n._setSettings(p),r.mockUserToken)){let _,w;if(typeof r.mockUserToken=="string")_=r.mockUserToken,w=Gt.MOCK_USER;else{_=ON(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Gt(x)}n._authCredentials=new NV(new i1(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ud(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Hi extends ud{constructor(e,t,r){super(e,t,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new _e(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function gp(n,e,...t){if(n=Nt(n),vS("collection","path",e),n instanceof ld){const r=tt.fromString(e,...t);return nx(r),new Hi(n,null,r)}{if(!(n instanceof fn||n instanceof Hi))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return nx(r),new Hi(n.firestore,null,r)}}function Vs(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=o1.newId()),vS("doc","path",e),n instanceof ld){const r=tt.fromString(e,...t);return tx(r),new fn(n,null,new _e(r))}{if(!(n instanceof fn||n instanceof Hi))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return tx(r),new fn(n.firestore,n instanceof Hi?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="AsyncQueue";class ox{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Q1(this,"async_queue_retry"),this.ec=()=>{const r=pp();r&&ue(sx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Xr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Aa(e))throw e;ue(sx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ti("INTERNAL UNHANDLED ERROR: ",ax(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=bg.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(s),s}nc(){this.Ju&&Te(47125,{_c:ax(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function ax(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ca extends ld{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ox,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ox(e),this._firestoreClient=void 0,await e}}}function A4(n,e){const t=typeof n=="object"?n:pE(),r=typeof n=="string"?n:Ch,s=ng(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=MN("firestore");a&&I4(s,...a)}return s}function Og(n){if(n._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||P4(n),n._firestoreClient}function P4(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,p,_){return new QV(d,f,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,yS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new _4(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(Bt.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ya(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=/^__.*__$/;class R4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class wS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{hc:n})}}class dd{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Oh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(xS(this.hc)&&C4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class k4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sd(e)}gc(e,t,r,s=!1){return new dd({hc:e,methodName:t,fc:r,path:Ut.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TS(n){const e=n._freezeSettings(),t=sd(n._databaseId);return new k4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N4(n,e,t,r,s,a={}){const u=n.gc(a.merge||a.mergeFields?2:0,e,t,s);zg("Data must be an object, but it was:",u,r);const d=ES(r,u);let f,p;if(a.merge)f=new xn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const x=hm(e,w,t);if(!u.contains(x))throw new me(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);IS(_,x)||_.push(x)}f=new xn(_),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new R4(new dn(d),f,p)}class fd extends hd{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function b4(n,e,t){return new dd({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bg extends hd{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=b4(this,e,!0),r=this.yc.map(a=>xu(a,t)),s=new pa(r);return new Tj(e.path,s)}isEqual(e){return e instanceof Bg&&qi(this.yc,e.yc)}}function D4(n,e,t,r){const s=n.gc(1,e,t);zg("Data must be an object, but it was:",s,r);const a=[],u=dn.empty();rs(r,(f,p)=>{const _=$g(e,f,t);p=Nt(p);const w=s.Ac(_);if(p instanceof fd)a.push(_);else{const x=xu(p,w);x!=null&&(a.push(_),u.set(_,x))}});const d=new xn(a);return new wS(u,d,s.fieldTransforms)}function V4(n,e,t,r,s,a){const u=n.gc(1,e,t),d=[hm(e,r,t)],f=[s];if(a.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(hm(e,a[x])),f.push(a[x+1]);const p=[],_=dn.empty();for(let x=d.length-1;x>=0;--x)if(!IS(p,d[x])){const A=d[x];let D=f[x];D=Nt(D);const V=u.Ac(A);if(D instanceof fd)p.push(A);else{const k=xu(D,V);k!=null&&(p.push(A),_.set(A,k))}}const w=new xn(p);return new wS(_,w,u.fieldTransforms)}function xu(n,e){if(SS(n=Nt(n)))return zg("Unsupported field value:",e,n),ES(n,e);if(n instanceof hd)return function(r,s){if(!xS(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=xu(d,s.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _j(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Et.fromDate(r);return{timestampValue:Vh(s.serializer,a)}}if(r instanceof Et){const a=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(s.serializer,a)}}if(r instanceof Fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:O1(s.serializer,r._byteString)};if(r instanceof fn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Eg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ug)return function(u,d){return{mapValue:{fields:{[p1]:{stringValue:m1},[Rh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Vc("VectorValues must only contain numeric values.");return _g(d.serializer,p)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Lg(r)}`)}(n,e)}function ES(n,e){const t={};return l1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(n,(r,s)=>{const a=xu(s,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function SS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof Fg||n instanceof ya||n instanceof fn||n instanceof hd||n instanceof Ug)}function zg(n,e,t){if(!SS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Lg(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function hm(n,e,t){if((e=Nt(e))instanceof cd)return e._internalPath;if(typeof e=="string")return $g(n,e);throw Oh("Field path arguments must be of type string or ",n,!1,void 0,t)}const j4=new RegExp("[~\\*/\\[\\]]");function $g(n,e,t){if(e.search(j4)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cd(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new me(Z.INVALID_ARGUMENT,d+n+f)}function IS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(PS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class M4 extends AS{data(){return super.data()}}function PS(n,e){return typeof e=="string"?$g(n,e):e instanceof cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O4{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rs(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>dt(u.doubleValue));return new Ug(a)}convertGeoPoint(e){return new Fg(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=Qi(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tt.fromString(e);ze(H1(r),9688,{name:e});const s=new tu(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(t)||ti(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CS extends AS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(PS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class oh extends CS{data(e={}){return super.data(e)}}class U4{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new oh(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new oh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Dl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new oh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Dl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:B4(d.type),doc:f,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n){n=Sr(n,fn);const e=Sr(n.firestore,Ca);return T4(Og(e),n._key).then(t=>z4(e,n,t))}class RS extends O4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function lx(n){n=Sr(n,ud);const e=Sr(n.firestore,Ca),t=Og(e),r=new RS(e);return L4(n._query),E4(t,n._query).then(s=>new U4(e,r,n,s))}function ux(n,e,t){n=Sr(n,fn);const r=Sr(n.firestore,Ca),s=F4(n.converter,e);return Hg(r,[N4(TS(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,tr.none())])}function cx(n,e,t,...r){n=Sr(n,fn);const s=Sr(n.firestore,Ca),a=TS(s);let u;return u=typeof(e=Nt(e))=="string"||e instanceof cd?V4(a,"updateDoc",n._key,e,t,r):D4(a,"updateDoc",n._key,e),Hg(s,[u.toMutation(n._key,tr.exists(!0))])}function hx(n){return Hg(Sr(n.firestore,Ca),[new wg(n._key,tr.none())])}function Hg(n,e){return function(r,s){const a=new Xr;return r.asyncQueue.enqueueAndForget(async()=>c4(await x4(r),s,a)),a.promise}(Og(n),e)}function z4(n,e,t){const r=t.docs.get(e._key),s=new RS(n);return new CS(n,s,e._key,r,new Dl(t.hasPendingWrites,t.fromCache),e.converter)}function $4(...n){return new Bg("arrayUnion",n)}(function(e,t=!0){(function(s){Sa=s})(Ta),la(new zs("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Ca(new bV(r.getProvider("auth-internal")),new jV(u,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,_)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),zi(dw,fw,e),zi(dw,fw,"esm2017")})();const H4={apiKey:"AIzaSyDStcJhjVJsIQU70nK1dZDI5JgYMZnWa94",authDomain:"afterheart-76139.firebaseapp.com",projectId:"afterheart-76139",storageBucket:"afterheart-76139.firebasestorage.app",messagingSenderId:"915575080055",appId:"1:915575080055:web:f330e842ed3143580e7272",measurementId:"G-5PCFZ61H4N"},kS=fE(H4),ah=AV(kS),Hr=A4(kS);new Wr;const W4=async(n,e,t)=>{const r=await lD(ah,n,e);return await hD(r.user,{displayName:t}),r.user},NS=O.createContext(void 0),Xs=()=>{const n=O.useContext(NS);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},vp=n=>({id:n.uid,email:n.email,name:n.displayName}),K4=({children:n})=>{const[e,t]=O.useState(null),[r,s]=O.useState(!0),a=async(p,_)=>{try{const w=await uD(ah,p,_);t(vp(w.user))}catch(w){throw console.error("Login error:",w),w}},u=async(p,_,w)=>{try{const x=await W4(p,_,w);t(vp(x))}catch(x){throw console.error("Signup error:",x),x}},d=async()=>{try{await mD(ah),t(null)}catch(p){throw console.error("Logout error:",p),p}};O.useEffect(()=>pD(ah,_=>{t(_?vp(_):null),s(!1)}),[]);const f={currentUser:e,loading:r,login:a,signup:u,logout:d,isAuthenticated:!!e};return g.jsx(NS.Provider,{value:f,children:!r&&n})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$e=(n,e)=>{const t=O.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:d="",children:f,...p},_)=>O.createElement("svg",{ref:_,...q4,width:s,height:s,stroke:r,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${G4(n)}`,d].join(" "),...p},[...e.map(([w,x])=>O.createElement(w,x)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=$e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=$e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=$e("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=$e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=$e("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=$e("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=$e("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=$e("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=$e("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=$e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=$e("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=$e("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=$e("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oL=()=>g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary-50 to-white",children:[g.jsx("header",{className:"py-6 px-6",children:g.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(nr,{className:"text-secondary-500",size:28}),g.jsx("span",{className:"text-2xl font-display font-semibold text-primary-800",children:"AfterHeart"})]}),g.jsxs("div",{className:"space-x-4",children:[g.jsx(ht,{to:"/login",className:"btn-outline",children:"Login"}),g.jsx(ht,{to:"/signup",className:"btn-primary",children:"Sign Up"})]})]})}),g.jsx("section",{className:"py-12 md:py-20 px-6",children:g.jsx("div",{className:"container mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[g.jsxs(Ve.div,{className:"md:w-1/2 mb-10 md:mb-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-primary-800 mb-6",children:"Begin Your Healing Journey After Heartbreak"}),g.jsx("p",{className:"text-lg text-accent-700 mb-8 max-w-lg",children:"You're not alone. AfterHeart provides a safe space and tools to help you heal, grow, and rediscover joy after romantic heartbreak."}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsx(ht,{to:"/signup",className:"btn-primary",children:"Start Healing Now"}),g.jsx(ht,{to:"/login",className:"btn-outline",children:"I'm Returning"})]})]}),g.jsx(Ve.div,{className:"md:w-1/2 flex justify-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.8},children:g.jsx("img",{src:"https://images.pexels.com/photos/5340280/pexels-photo-5340280.jpeg",alt:"Person meditating peacefully",className:"rounded-2xl shadow-lg max-w-full h-auto",style:{maxHeight:"500px"}})})]})})}),g.jsx("section",{className:"py-16 bg-white px-6",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-4",children:"Your Complete Healing Companion"}),g.jsx("p",{className:"text-lg text-accent-700 max-w-2xl mx-auto",children:"AfterHeart offers a holistic approach to healing with three specialized regions designed to support different aspects of your recovery journey."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs(Ve.div,{className:"region-card",whileHover:{y:-10},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:[g.jsx("div",{className:"p-4 bg-primary-100 rounded-full mb-6",children:g.jsx(Gg,{size:32,className:"text-primary-600"})}),g.jsx("h3",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Music Therapy"}),g.jsx("p",{className:"text-accent-700 text-center mb-6",children:"Discover healing playlists, create your own collections, and use music as a therapeutic tool for emotional processing."}),g.jsxs(ht,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium flex items-center",children:["Explore Music ",g.jsx(_p,{size:16,className:"ml-2"})]})]}),g.jsxs(Ve.div,{className:"region-card",whileHover:{y:-10},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:[g.jsx("div",{className:"p-4 bg-secondary-100 rounded-full mb-6",children:g.jsx(qg,{size:32,className:"text-secondary-600"})}),g.jsx("h3",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Healing Trips"}),g.jsx("p",{className:"text-accent-700 text-center mb-6",children:"Discover peaceful destinations across India and find travel packages specifically designed for healing and self-discovery."}),g.jsxs(ht,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium flex items-center",children:["Find Destinations ",g.jsx(_p,{size:16,className:"ml-2"})]})]}),g.jsxs(Ve.div,{className:"region-card",whileHover:{y:-10},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[g.jsx("div",{className:"p-4 bg-accent-100 rounded-full mb-6",children:g.jsx(Kg,{size:32,className:"text-accent-600"})}),g.jsx("h3",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Mental Wellness"}),g.jsx("p",{className:"text-accent-700 text-center mb-6",children:"Connect with mental health professionals specialized in heartbreak and relationship recovery to guide your healing process."}),g.jsxs(ht,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium flex items-center",children:["Meet Professionals ",g.jsx(_p,{size:16,className:"ml-2"})]})]})]})]})}),g.jsx("section",{className:"py-16 bg-primary-50 px-6",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-4",children:"Stories of Healing"}),g.jsx("p",{className:"text-lg text-accent-700 max-w-2xl mx-auto",children:"See how AfterHeart has helped others on their journey to recovery and new beginnings."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs(Ve.div,{className:"bg-white p-6 rounded-2xl shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:[g.jsx("p",{className:"text-accent-700 mb-6",children:'"After my breakup, I felt completely lost. The healing trips section led me to a peaceful retreat in Rishikesh where I finally found space to breathe and begin my healing journey."'}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"mr-4 w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-primary-700 font-medium",children:"SA"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-primary-800",children:"Sanya A."}),g.jsx("p",{className:"text-sm text-accent-600",children:"Delhi, 28"})]})]})]}),g.jsxs(Ve.div,{className:"bg-white p-6 rounded-2xl shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:[g.jsx("p",{className:"text-accent-700 mb-6",children:`"The curated playlists helped me process emotions I didn't even know I had. Music became my daily therapy, and the community playlists showed me I wasn't alone in what I was feeling."`}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"mr-4 w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-primary-700 font-medium",children:"RK"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-primary-800",children:"Rahul K."}),g.jsx("p",{className:"text-sm text-accent-600",children:"Mumbai, 32"})]})]})]}),g.jsxs(Ve.div,{className:"bg-white p-6 rounded-2xl shadow-md md:col-span-2 lg:col-span-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[g.jsx("p",{className:"text-accent-700 mb-6",children:'"Finding a therapist who specialized in relationship grief changed everything for me. The mental wellness section made it easy to connect with professionals who actually understood what I was going through."'}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"mr-4 w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-primary-700 font-medium",children:"PJ"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-primary-800",children:"Priya J."}),g.jsx("p",{className:"text-sm text-accent-600",children:"Bangalore, 29"})]})]})]})]})]})}),g.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-primary-50 px-6",children:g.jsx("div",{className:"container mx-auto text-center",children:g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-2xl mx-auto",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-6",children:"Your Heart Deserves to Heal"}),g.jsx("p",{className:"text-lg text-accent-700 mb-8",children:"Join thousands on their journey to recovery. AfterHeart provides the tools, community, and professional support to help you move forward."}),g.jsx(ht,{to:"/signup",className:"btn-primary text-lg px-8 py-4",children:"Begin Your Healing Journey"}),g.jsxs("p",{className:"mt-6 text-accent-600",children:["Already have an account? ",g.jsx(ht,{to:"/login",className:"text-primary-600 hover:underline",children:"Sign in"})]})]})})}),g.jsx("footer",{className:"bg-primary-800 text-white py-12 px-6",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[g.jsxs("div",{className:"mb-8 md:mb-0",children:[g.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[g.jsx(nr,{className:"text-secondary-300",size:24}),g.jsx("span",{className:"text-xl font-display font-semibold",children:"AfterHeart"})]}),g.jsx("p",{className:"text-primary-200 max-w-xs",children:"Providing compassionate support for healing after heartbreak."})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-medium mb-4",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx(ht,{to:"/",className:"text-primary-200 hover:text-white",children:"Home"})}),g.jsx("li",{children:g.jsx(ht,{to:"/login",className:"text-primary-200 hover:text-white",children:"Login"})}),g.jsx("li",{children:g.jsx(ht,{to:"/signup",className:"text-primary-200 hover:text-white",children:"Sign Up"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-medium mb-4",children:"Resources"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-primary-200 hover:text-white",children:"Crisis Support"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-primary-200 hover:text-white",children:"Help Center"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-primary-200 hover:text-white",children:"Blog"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-medium mb-4",children:"Legal"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-primary-200 hover:text-white",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-primary-200 hover:text-white",children:"Terms of Service"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"text-primary-200 hover:text-white",children:"Cookie Policy"})})]})]})]})]}),g.jsxs("div",{className:"border-t border-primary-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[g.jsx("p",{className:"text-primary-300 text-sm",children:" 2025 AfterHeart. All rights reserved."}),g.jsx("div",{className:"mt-4 md:mt-0",children:g.jsxs("p",{className:"text-primary-300 text-sm",children:["If you're in crisis, please call the National Mental Health Helpline: ",g.jsx("a",{href:"tel:1800-599-0019",className:"underline",children:"1800-599-0019"})]})})]})]})})]}),aL=()=>{var D;const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,a]=O.useState(""),[u,d]=O.useState(!1),{login:f}=Xs(),p=su(),w=Ir().state,x=((D=w==null?void 0:w.from)==null?void 0:D.pathname)||"/dashboard",A=async V=>{V.preventDefault(),a(""),d(!0);try{await f(n,t),p(x,{replace:!0})}catch{a("Failed to log in. Please check your credentials."),d(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary-50 to-white flex flex-col",children:[g.jsxs(ht,{to:"/",className:"absolute top-6 left-6 flex items-center text-accent-700 hover:text-primary-600 transition-colors",children:[g.jsx(Wg,{size:20,className:"mr-2"}),"Back to Home"]}),g.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-12",children:g.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-md w-full",children:g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center",children:g.jsx(nr,{className:"text-secondary-500",size:32})}),g.jsx("h1",{className:"text-2xl font-display font-bold text-primary-800 mt-4",children:"Welcome Back"}),g.jsx("p",{className:"text-accent-600 mt-2",children:"You're not alone. Let's heal together."})]}),s&&g.jsx("div",{className:"bg-error-50 text-error-700 px-4 py-3 rounded-lg mb-6",children:s}),g.jsx("form",{onSubmit:A,children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-accent-700 mb-1",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(bS,{size:18,className:"text-accent-500"})}),g.jsx("input",{id:"email",type:"email",value:n,onChange:V=>e(V.target.value),className:"input pl-10",placeholder:"your@email.com",required:!0})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-accent-700",children:"Password"}),g.jsx("a",{href:"#",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot password?"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(dm,{size:18,className:"text-accent-500"})}),g.jsx("input",{id:"password",type:"password",value:t,onChange:V=>r(V.target.value),className:"input pl-10",placeholder:"",required:!0})]})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",className:`btn-primary w-full ${u?"opacity-70 cursor-not-allowed":""}`,disabled:u,children:u?"Logging in...":"Sign In"})})]})}),g.jsx("div",{className:"mt-8 text-center",children:g.jsxs("p",{className:"text-accent-600",children:["Don't have an account?"," ",g.jsx(ht,{to:"/signup",className:"text-primary-600 hover:underline font-medium",children:"Sign up"})]})}),g.jsx("div",{className:"mt-8 pt-6 border-t border-accent-100",children:g.jsxs("p",{className:"text-xs text-accent-500 text-center",children:["By signing in, you agree to our"," ",g.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Terms of Service"})," ","and"," ",g.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Privacy Policy"})]})})]})})}),g.jsx("footer",{className:"py-6 text-center text-accent-600 text-sm",children:g.jsx("p",{children:" 2025 AfterHeart. All rights reserved."})})]})},lL=()=>{const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,a]=O.useState(""),[u,d]=O.useState(""),[f,p]=O.useState(""),[_,w]=O.useState(!1),{signup:x}=Xs(),A=su(),D=async V=>{if(V.preventDefault(),p(""),s!==u)return p("Passwords do not match");w(!0);try{await x(t,s,n),A("/dashboard")}catch{p("Failed to create an account. Please try again."),w(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary-50 to-white flex flex-col",children:[g.jsxs(ht,{to:"/",className:"absolute top-6 left-6 flex items-center text-accent-700 hover:text-primary-600 transition-colors",children:[g.jsx(Wg,{size:20,className:"mr-2"}),"Back to Home"]}),g.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-12",children:g.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-md w-full",children:g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center",children:g.jsx(nr,{className:"text-secondary-500",size:32})}),g.jsx("h1",{className:"text-2xl font-display font-bold text-primary-800 mt-4",children:"Begin Your Healing Journey"}),g.jsx("p",{className:"text-accent-600 mt-2",children:"Create your account to start healing today"})]}),f&&g.jsx("div",{className:"bg-error-50 text-error-700 px-4 py-3 rounded-lg mb-6",children:f}),g.jsx("form",{onSubmit:D,children:g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-accent-700 mb-1",children:"Full Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(DS,{size:18,className:"text-accent-500"})}),g.jsx("input",{id:"name",type:"text",value:n,onChange:V=>e(V.target.value),className:"input pl-10",placeholder:"Your name",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-accent-700 mb-1",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(bS,{size:18,className:"text-accent-500"})}),g.jsx("input",{id:"email",type:"email",value:t,onChange:V=>r(V.target.value),className:"input pl-10",placeholder:"your@email.com",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-accent-700 mb-1",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(dm,{size:18,className:"text-accent-500"})}),g.jsx("input",{id:"password",type:"password",value:s,onChange:V=>a(V.target.value),className:"input pl-10",placeholder:"",required:!0,minLength:8})]}),g.jsx("p",{className:"mt-1 text-xs text-accent-500",children:"Password must be at least 8 characters"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-accent-700 mb-1",children:"Confirm Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(dm,{size:18,className:"text-accent-500"})}),g.jsx("input",{id:"confirmPassword",type:"password",value:u,onChange:V=>d(V.target.value),className:"input pl-10",placeholder:"",required:!0})]})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",className:`btn-primary w-full ${_?"opacity-70 cursor-not-allowed":""}`,disabled:_,children:_?"Creating Account...":"Create Account"})})]})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsxs("p",{className:"text-accent-600",children:["Already have an account?"," ",g.jsx(ht,{to:"/login",className:"text-primary-600 hover:underline font-medium",children:"Sign in"})]})}),g.jsx("div",{className:"mt-8 pt-6 border-t border-accent-100",children:g.jsxs("p",{className:"text-xs text-accent-500 text-center",children:["By signing up, you agree to our"," ",g.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Terms of Service"})," ","and"," ",g.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Privacy Policy"})]})})]})})}),g.jsx("footer",{className:"py-6 text-center text-accent-600 text-sm",children:g.jsx("p",{children:" 2025 AfterHeart. All rights reserved."})})]})},mx=["Your healing is a journey, not a destination.","It's okay to not be okay sometimes.","Each day brings you closer to the person you're meant to be.","Your heart knows how to heal itself. Give it time.","This pain is not your forever home.","You are growing through what you're going through.","Healing doesn't mean the damage never existed. It means it no longer controls your life.","Be gentle with yourself. You're doing the best you can.","Your worth is not determined by someone else's inability to see it.","Trust that this ending is making space for a beautiful new beginning.","You have survived 100% of your worst days so far.","Sometimes the heart needs more time to accept what the mind already knows.","You will find love again, starting with the love you give yourself."],uL=()=>{const[n,e]=O.useState("");return O.useEffect(()=>{const t=Math.floor(Math.random()*mx.length);e(mx[t])},[]),g.jsx(Ve.div,{className:"affirmation",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},children:g.jsxs("p",{className:"text-lg md:text-xl",children:['"',n,'"']})})},iu=({children:n})=>{const[e,t]=O.useState(!1),{currentUser:r,logout:s}=Xs(),a=Ir(),u=async()=>{try{await s()}catch(p){console.error("Failed to log out",p)}},d=[{path:"/dashboard",icon:g.jsx(nr,{size:20}),label:"Dashboard"},{path:"/music",icon:g.jsx(Gg,{size:20}),label:"Music Therapy"},{path:"/trips",icon:g.jsx(qg,{size:20}),label:"Healing Trips"},{path:"/wellness",icon:g.jsx(Kg,{size:20}),label:"Mental Wellness"}],f=p=>a.pathname===p;return g.jsxs("div",{className:"min-h-screen flex flex-col bg-primary-50",children:[g.jsx("header",{className:"bg-white shadow-sm py-4 px-6",children:g.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[g.jsxs(ht,{to:"/dashboard",className:"flex items-center space-x-2",children:[g.jsx(nr,{className:"text-secondary-500",size:28}),g.jsx("span",{className:"text-2xl font-display font-semibold text-primary-800",children:"AfterHeart"})]}),g.jsx("div",{className:"hidden md:flex items-center space-x-6",children:r&&g.jsxs("div",{className:"flex items-center",children:[g.jsxs("div",{className:"mr-4 text-right",children:[g.jsx("p",{className:"text-sm text-accent-700",children:"Welcome back,"}),g.jsx("p",{className:"font-medium text-primary-800",children:r.name})]}),g.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-primary-50 transition-colors","aria-label":"Log out",children:g.jsx(wp,{size:20,className:"text-accent-500"})})]})}),g.jsx("button",{className:"md:hidden p-2 rounded-lg focus:outline-none",onClick:()=>t(!e),children:e?g.jsx(pm,{size:24}):g.jsx(J4,{size:24})})]})}),g.jsxs("div",{className:"flex flex-1",children:[g.jsx("aside",{className:"hidden md:block w-64 bg-white shadow-md",children:g.jsxs("nav",{className:"py-6 px-4",children:[g.jsx("ul",{className:"space-y-2",children:d.map(p=>g.jsx("li",{children:g.jsxs(ht,{to:p.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f(p.path)?"bg-primary-100 text-primary-700":"text-accent-700 hover:bg-primary-50 hover:text-primary-600"}`,children:[p.icon,g.jsx("span",{children:p.label})]})},p.path))}),g.jsx("div",{className:"mt-8 pt-6 border-t border-accent-100",children:g.jsxs("button",{onClick:u,className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-accent-700 hover:bg-primary-50 hover:text-primary-600 w-full",children:[g.jsx(wp,{size:20}),g.jsx("span",{children:"Log Out"})]})})]})}),e&&g.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-50 md:hidden",onClick:()=>t(!1),children:g.jsxs(Ve.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"fixed top-0 left-0 bottom-0 w-64 bg-white shadow-lg",onClick:p=>p.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b border-accent-100 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(nr,{className:"text-secondary-500",size:24}),g.jsx("span",{className:"text-xl font-display font-semibold text-primary-800",children:"AfterHeart"})]}),g.jsx("button",{onClick:()=>t(!1),className:"p-1 rounded-full hover:bg-primary-50",children:g.jsx(pm,{size:20})})]}),r&&g.jsx("div",{className:"p-4 border-b border-accent-100",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-200 flex items-center justify-center",children:g.jsx(DS,{size:20,className:"text-primary-700"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-primary-800",children:r.name}),g.jsx("p",{className:"text-sm text-accent-600",children:r.email})]})]})}),g.jsx("nav",{className:"py-4",children:g.jsxs("ul",{className:"space-y-1",children:[d.map(p=>g.jsx("li",{children:g.jsxs(ht,{to:p.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f(p.path)?"bg-primary-100 text-primary-700":"text-accent-700 hover:bg-primary-50 hover:text-primary-600"}`,onClick:()=>t(!1),children:[p.icon,g.jsx("span",{children:p.label})]})},p.path)),g.jsx("li",{children:g.jsxs("button",{onClick:u,className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-accent-700 hover:bg-primary-50 hover:text-primary-600 w-full",children:[g.jsx(wp,{size:20}),g.jsx("span",{children:"Log Out"})]})})]})})]})}),g.jsx("main",{className:"flex-1 py-8 px-6",children:g.jsxs("div",{className:"container mx-auto",children:[n,g.jsx(uL,{})]})})]})]})},cL=()=>{const{currentUser:n}=Xs(),e=[{id:"music",title:"Music Therapy",description:"Discover healing playlists and create your own collections for emotional processing.",icon:g.jsx(Gg,{size:36,className:"text-primary-600"}),color:"bg-primary-100",path:"/music"},{id:"trips",title:"Healing Trips",description:"Explore peaceful destinations and travel packages designed for self-discovery.",icon:g.jsx(qg,{size:36,className:"text-secondary-600"}),color:"bg-secondary-100",path:"/trips"},{id:"wellness",title:"Mental Wellness",description:"Connect with professionals specialized in heartbreak and relationship recovery.",icon:g.jsx(Kg,{size:36,className:"text-accent-600"}),color:"bg-accent-100",path:"/wellness"}];return g.jsx(iu,{children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsxs("h1",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-3",children:["Welcome, ",n==null?void 0:n.name]}),g.jsx("p",{className:"text-accent-700 mb-8 text-lg",children:"Your healing journey continues. Where would you like to focus today?"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:e.map((t,r)=>g.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1,duration:.5},children:g.jsx(ht,{to:t.path,className:"block h-full",children:g.jsxs("div",{className:"region-card h-full",children:[g.jsx("div",{className:`p-4 ${t.color} rounded-full mb-6`,children:t.icon}),g.jsx("h3",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:t.title}),g.jsx("p",{className:"text-accent-700 text-center",children:t.description})]})})},t.id))}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},className:"bg-white rounded-2xl shadow-md p-8 mb-8",children:[g.jsx("h2",{className:"text-2xl font-display font-semibold text-primary-800 mb-4",children:"Your Healing Progress"}),g.jsx("p",{className:"text-accent-700 mb-6",children:"Track your journey through various healing activities and milestones."}),g.jsx("div",{className:"bg-primary-50 rounded-lg p-6",children:g.jsx("p",{className:"text-primary-700 text-center",children:"Complete your profile to start tracking your healing progress."})})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.8},className:"bg-white rounded-2xl shadow-md p-8",children:[g.jsx("h2",{className:"text-2xl font-display font-semibold text-primary-800 mb-4",children:"Daily Reflection"}),g.jsx("p",{className:"text-accent-700 mb-6",children:"Taking a moment to reflect can be a powerful healing practice."}),g.jsx("div",{className:"bg-primary-50 rounded-lg p-6",children:g.jsx("p",{className:"text-primary-700 text-center italic",children:'"What small act of self-care can you gift yourself today?"'})})]})]})})},hL="https://api.spotify.com/v1";class dL{constructor(){this.accessToken=null}setAccessToken(e){this.accessToken=e}async request(e,t={}){if(!this.accessToken)throw new Error("No access token available");const r=await fetch(`${hL}${e}`,{...t,headers:{...t.headers,Authorization:`Bearer ${this.accessToken}`}});if(!r.ok)throw new Error(`Spotify API error: ${r.statusText}`);return r.json()}async searchTracks(e){return(await this.request(`/search?type=track&q=${encodeURIComponent(e)}`)).tracks.items}async createPlaylist(e,t,r){return await this.request(`/users/${e}/playlists`,{method:"POST",body:JSON.stringify({name:t,description:r,public:!1})})}async addTracksToPlaylist(e,t){await this.request(`/playlists/${e}/tracks`,{method:"POST",body:JSON.stringify({uris:t})})}async getUserPlaylists(){return(await this.request("/me/playlists")).items}async getPlaylistTracks(e){return(await this.request(`/playlists/${e}/tracks`)).items.map(r=>r.track)}}const Oi=new dL,fL="e80cdb9818d44e40834810e99cc60859",pL="https://afterheart-76139.web.app/callback",mL=["user-read-private","user-read-email","playlist-read-private","playlist-modify-private","playlist-modify-public","user-library-read","user-library-modify","streaming","user-read-playback-state","user-modify-playback-state"],gL=({onAuthSuccess:n})=>{const[e,t]=O.useState(!1),[r,s]=O.useState(null);O.useEffect(()=>{const u=localStorage.getItem("spotify_token");u&&(Oi.setAccessToken(u),t(!0),n(u));const d=new URLSearchParams(window.location.hash.substring(1)),f=d.get("access_token");if(d.get("error")){s("Failed to authenticate with Spotify. Please try again.");return}f&&(Oi.setAccessToken(f),localStorage.setItem("spotify_token",f),t(!0),n(f),window.history.replaceState({},document.title,window.location.pathname))},[n]);const a=()=>{s(null);const u=`https://accounts.spotify.com/authorize?client_id=${fL}&response_type=token&redirect_uri=${encodeURIComponent(pL)}&scope=${encodeURIComponent(mL.join(" "))}&show_dialog=true`;window.location.href=u};return e?null:g.jsxs("div",{className:"text-center p-6",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Connect with Spotify"}),g.jsx("p",{className:"text-accent-700 mb-6",children:"Connect your Spotify account to access your playlists and create new ones."}),r&&g.jsx("div",{className:"bg-error-50 text-error-700 p-3 rounded-lg mb-6",children:r}),g.jsxs("button",{onClick:a,className:"btn-primary bg-[#1DB954] hover:bg-[#1ed760] flex items-center justify-center mx-auto",children:[g.jsx("svg",{className:"w-6 h-6 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})}),"Connect with Spotify"]})]})};class yL{async createPlaylist(e,t){const r=Vs(gp(Hr,"users",e,"playlists")),s={...t,id:r.id,createdAt:new Date,updatedAt:new Date,trackCount:0};return await ux(r,s),r.id}async getUserPlaylists(e){const t=gp(Hr,"users",e,"playlists");return(await lx(t)).docs.map(s=>({...s.data(),createdAt:s.data().createdAt.toDate(),updatedAt:s.data().updatedAt.toDate()}))}async updatePlaylist(e,t,r){const s=Vs(Hr,"users",e,"playlists",t);await cx(s,{...r,updatedAt:new Date})}async deletePlaylist(e,t){await hx(Vs(Hr,"users",e,"playlists",t))}async toggleLikedSong(e,t){var a;const r=Vs(Hr,"users",e,"likedSongs",t.id);if((await yp(r)).exists())return await hx(r),!1;{const u={id:t.id,spotifyTrackId:t.id,name:t.name,artist:t.artists[0].name,imageUrl:((a=t.album.images[0])==null?void 0:a.url)||"",addedAt:new Date};return await ux(r,u),!0}}async getLikedSongs(e){const t=gp(Hr,"users",e,"likedSongs");return(await lx(t)).docs.map(s=>({...s.data(),addedAt:s.data().addedAt.toDate()}))}async isTrackLiked(e,t){return(await yp(Vs(Hr,"users",e,"likedSongs",t))).exists()}async addRecentlyPlayed(e,t){const r=Vs(Hr,"users",e);await cx(r,{recentlyPlayed:$4({id:t.id,name:t.name,artist:t.artists[0].name,playedAt:new Date})})}async getRecentlyPlayed(e){var r;return((r=(await yp(Vs(Hr,"users",e))).data())==null?void 0:r.recentlyPlayed)||[]}}const ch=new yL,vL=({isOpen:n,onClose:e,onPlaylistCreated:t})=>{const[r,s]=O.useState(""),[a,u]=O.useState(""),[d,f]=O.useState(!1),{currentUser:p}=Xs(),_=async w=>{var x;if(w.preventDefault(),!!p){f(!0);try{const A=await Oi.createPlaylist(p.id,r,a);await ch.createPlaylist(p.id,{name:r,description:a,spotifyId:A.id,imageUrl:((x=A.images[0])==null?void 0:x.url)||""}),t(),e()}catch(A){console.error("Error creating playlist:",A)}finally{f(!1)}}};return n?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800",children:"Create New Playlist"}),g.jsx("button",{onClick:e,className:"text-accent-500 hover:text-accent-700",children:g.jsx(pm,{size:20})})]}),g.jsx("form",{onSubmit:_,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-accent-700 mb-1",children:"Playlist Name"}),g.jsx("input",{id:"name",type:"text",value:r,onChange:w=>s(w.target.value),className:"input w-full",placeholder:"Enter playlist name",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-accent-700 mb-1",children:"Description"}),g.jsx("textarea",{id:"description",value:a,onChange:w=>u(w.target.value),className:"input w-full h-24",placeholder:"Enter playlist description"})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:d,children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?"Creating...":"Create Playlist"})]})]})})]})}):null},VS=()=>{const[n,e]=O.useState(null),[t,r]=O.useState(!0),[s,a]=O.useState(null),[u,d]=O.useState(null);return O.useEffect(()=>{const _=document.createElement("script");return _.src="https://sdk.scdn.co/spotify-player.js",_.async=!0,document.body.appendChild(_),window.onSpotifyWebPlaybackSDKReady=()=>{const w=new window.Spotify.Player({name:"AfterHeart Web Player",getOAuthToken:x=>{const A=localStorage.getItem("spotify_token");A&&x(A)},volume:.5});w.addListener("ready",({device_id:x})=>{console.log("Ready with Device ID",x),d(x)}),w.addListener("not_ready",({device_id:x})=>{console.log("Device ID has gone offline",x)}),w.addListener("player_state_changed",x=>{x&&(a(x.track_window.current_track),r(x.paused))}),w.connect(),e(w)},()=>{n&&n.disconnect()}},[]),{player:n,deviceId:u,currentTrack:s,isPaused:t,togglePlay:async()=>{n&&await n.togglePlay()},playTrack:async _=>{if(u)try{await fetch(`https://api.spotify.com/v1/me/player/play?device_id=${u}`,{method:"PUT",body:JSON.stringify({uris:[_]}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("spotify_token")}`}})}catch(w){console.error("Error playing track:",w)}}}},_L=({track:n})=>{var a;const{isPaused:e,togglePlay:t,currentTrack:r}=VS(),s=n||r;return s?g.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-accent-100 p-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center flex-1",children:[g.jsx("img",{src:(a=s.album.images[0])==null?void 0:a.url,alt:s.name,className:"w-12 h-12 rounded-md shadow-sm"}),g.jsxs("div",{className:"ml-4",children:[g.jsx("h4",{className:"font-medium text-primary-800",children:s.name}),g.jsx("p",{className:"text-sm text-accent-600",children:s.artists.map(u=>u.name).join(", ")})]})]}),g.jsxs("div",{className:"flex items-center space-x-4 flex-1 justify-center",children:[g.jsx("button",{className:"text-accent-500 hover:text-primary-600 transition-colors",children:g.jsx(nL,{size:24})}),g.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-primary-500 hover:bg-primary-600 text-white flex items-center justify-center transition-colors",children:e?g.jsx(uh,{size:20,fill:"currentColor"}):g.jsx(eL,{size:20})}),g.jsx("button",{className:"text-accent-500 hover:text-primary-600 transition-colors",children:g.jsx(rL,{size:24})})]}),g.jsxs("div",{className:"flex items-center space-x-4 flex-1 justify-end",children:[g.jsx("button",{className:"text-accent-500 hover:text-primary-600 transition-colors",children:g.jsx(sL,{size:20})}),g.jsx("div",{className:"w-24 h-1 bg-accent-100 rounded-full",children:g.jsx("div",{className:"w-1/2 h-full bg-primary-500 rounded-full"})})]})]})}):null},wL=()=>{const[n,e]=O.useState(""),[t,r]=O.useState("discover"),[s,a]=O.useState(!1),[u,d]=O.useState([]),[f,p]=O.useState([]),[_,w]=O.useState([]),[x,A]=O.useState(!1),[D,V]=O.useState(!1),{currentUser:k}=Xs(),{playTrack:W}=VS(),q=Ir();O.useEffect(()=>{const S=localStorage.getItem("spotify_token");S&&(Oi.setAccessToken(S),V(!0),G());const P=q.state;P!=null&&P.error&&console.error("Authentication error:",P.error)},[q]);const G=async()=>{if(k){A(!0);try{const S=await Oi.getUserPlaylists();d(S);const N=(await ch.getLikedSongs(k.id)).map(M=>({id:M.spotifyTrackId,name:M.name,artists:[{name:M.artist}],album:{name:M.name,images:[{url:M.imageUrl}]},duration_ms:0,uri:`spotify:track:${M.spotifyTrackId}`}));w(N)}catch(S){console.error("Error loading user content:",S)}finally{A(!1)}}},ne=async S=>{if(e(S),!S.trim()){p([]);return}try{const P=await Oi.searchTracks(S);p(P)}catch(P){console.error("Search error:",P)}},te=async S=>{try{await W(S.uri),await ch.addRecentlyPlayed(k.id,S)}catch(P){console.error("Error playing track:",P)}},oe=async S=>{if(k)try{const P=await ch.toggleLikedSong(k.id,S);w(P?N=>[...N,S]:N=>N.filter(M=>M.id!==S.id))}catch(P){console.error("Error toggling like:",P)}},b=S=>{Oi.setAccessToken(S),V(!0),G()};return D?g.jsxs(iu,{children:[g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-3",children:"Music Therapy"}),g.jsx("p",{className:"text-accent-700 mb-8 text-lg",children:"Discover healing melodies and create playlists that support your emotional journey."})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden mb-8",children:[g.jsx("div",{className:"flex items-center p-4 border-b border-accent-100",children:g.jsxs("div",{className:"relative flex-1",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Qg,{size:18,className:"text-accent-500"})}),g.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search songs, artists, or playlists...",value:n,onChange:S=>ne(S.target.value)})]})}),g.jsxs("div",{className:"flex border-b border-accent-100",children:[g.jsx("button",{className:`px-6 py-4 font-medium text-sm transition-colors ${t==="discover"?"text-primary-700 border-b-2 border-primary-500":"text-accent-600 hover:text-primary-600"}`,onClick:()=>r("discover"),children:"Discover"}),g.jsx("button",{className:`px-6 py-4 font-medium text-sm transition-colors ${t==="playlists"?"text-primary-700 border-b-2 border-primary-500":"text-accent-600 hover:text-primary-600"}`,onClick:()=>r("playlists"),children:"Your Playlists"}),g.jsx("button",{className:`px-6 py-4 font-medium text-sm transition-colors ${t==="liked"?"text-primary-700 border-b-2 border-primary-500":"text-accent-600 hover:text-primary-600"}`,onClick:()=>r("liked"),children:"Liked Songs"})]}),t==="discover"&&g.jsxs("div",{className:"p-6",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:n?"Search Results":"Recommended for You"}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"text-left text-accent-600 border-b border-accent-100",children:[g.jsx("th",{className:"pb-3 pl-4",children:"#"}),g.jsx("th",{className:"pb-3",children:"Title"}),g.jsx("th",{className:"pb-3",children:"Artist"}),g.jsx("th",{className:"pb-3 text-right pr-4",children:"Duration"}),g.jsx("th",{className:"pb-3 text-center",children:"Actions"})]})}),g.jsx("tbody",{children:(n?f:[]).map((S,P)=>g.jsxs("tr",{className:"border-b border-accent-100 hover:bg-primary-50",children:[g.jsx("td",{className:"py-3 pl-4 text-accent-600",children:P+1}),g.jsx("td",{className:"py-3 font-medium text-primary-800",children:S.name}),g.jsx("td",{className:"py-3 text-accent-700",children:S.artists.map(N=>N.name).join(", ")}),g.jsxs("td",{className:"py-3 text-right text-accent-600 pr-4",children:[Math.floor(S.duration_ms/6e4),":",Math.floor(S.duration_ms%6e4/1e3).toString().padStart(2,"0")]}),g.jsx("td",{className:"py-3",children:g.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[g.jsx("button",{onClick:()=>te(S),className:"text-accent-500 hover:text-primary-600",children:g.jsx(uh,{size:18})}),g.jsx("button",{onClick:()=>oe(S),className:_.some(N=>N.id===S.id)?"text-secondary-500":"text-accent-500 hover:text-secondary-500",children:g.jsx(nr,{size:18,fill:_.some(N=>N.id===S.id)?"currentColor":"none"})}),g.jsx("button",{className:"text-accent-500 hover:text-primary-600",children:g.jsx(Z4,{size:18})})]})})]},S.id))})]})})]}),t==="playlists"&&g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800",children:"Your Playlists"}),g.jsxs("button",{className:"btn-primary",onClick:()=>a(!0),children:[g.jsx(tL,{size:16,className:"mr-2"}),"New Playlist"]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(S=>{var P;return g.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-accent-100",children:[g.jsxs("div",{className:"relative h-48 overflow-hidden",children:[g.jsx("img",{src:((P=S.images[0])==null?void 0:P.url)||"/placeholder.jpg",alt:S.name,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),g.jsx("button",{className:"absolute bottom-4 right-4 bg-primary-500 hover:bg-primary-600 text-white p-3 rounded-full shadow-lg transition-colors",children:g.jsx(uh,{size:20,fill:"white"})})]}),g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"font-medium text-primary-800",children:S.name}),g.jsxs("p",{className:"text-sm text-accent-600",children:[S.tracks.total," songs"]})]})]},S.id)})})]}),t==="liked"&&g.jsxs("div",{className:"p-6",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-6",children:"Liked Songs"}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"text-left text-accent-600 border-b border-accent-100",children:[g.jsx("th",{className:"pb-3 pl-4",children:"#"}),g.jsx("th",{className:"pb-3",children:"Title"}),g.jsx("th",{className:"pb-3",children:"Artist"}),g.jsx("th",{className:"pb-3 text-center",children:"Actions"})]})}),g.jsx("tbody",{children:_.map((S,P)=>g.jsxs("tr",{className:"border-b border-accent-100 hover:bg-primary-50",children:[g.jsx("td",{className:"py-3 pl-4 text-accent-600",children:P+1}),g.jsx("td",{className:"py-3 font-medium text-primary-800",children:S.name}),g.jsx("td",{className:"py-3 text-accent-700",children:S.artists.map(N=>N.name).join(", ")}),g.jsx("td",{className:"py-3",children:g.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[g.jsx("button",{onClick:()=>te(S),className:"text-accent-500 hover:text-primary-600",children:g.jsx(uh,{size:18})}),g.jsx("button",{onClick:()=>oe(S),className:"text-secondary-500",children:g.jsx(nr,{size:18,fill:"currentColor"})})]})})]},S.id))})]})})]})]})]}),g.jsx(vL,{isOpen:s,onClose:()=>a(!1),onPlaylistCreated:G}),g.jsx(_L,{})]}):g.jsx(iu,{children:g.jsx(gL,{onAuthSuccess:b})})},xL=["Himachal Pradesh","Uttarakhand","Kerala","Goa","Rajasthan","Tamil Nadu","Karnataka","Maharashtra","West Bengal","Sikkim"],TL=[{id:1,name:"Dharamshala",state:"Himachal Pradesh",type:"Hills",image:"https://images.pexels.com/photos/2825039/pexels-photo-2825039.jpeg",rating:4.7},{id:2,name:"Varkala Beach",state:"Kerala",type:"Beach",image:"https://images.pexels.com/photos/1591373/pexels-photo-1591373.jpeg",rating:4.5},{id:3,name:"Rishikesh",state:"Uttarakhand",type:"Spiritual",image:"https://images.pexels.com/photos/7266781/pexels-photo-7266781.jpeg",rating:4.8},{id:4,name:"Coorg",state:"Karnataka",type:"Hills",image:"https://images.pexels.com/photos/2187605/pexels-photo-2187605.jpeg",rating:4.6},{id:5,name:"Andaman Islands",state:"Andaman & Nicobar",type:"Beach",image:"https://images.pexels.com/photos/1287460/pexels-photo-1287460.jpeg",rating:4.9},{id:6,name:"Munnar",state:"Kerala",type:"Hills",image:"https://images.pexels.com/photos/6650184/pexels-photo-6650184.jpeg",rating:4.7}],gx=[{id:1,title:"Himalayan Healing Retreat",location:"Dharamshala, Himachal Pradesh",duration:5,price:25e3,image:"https://images.pexels.com/photos/2825039/pexels-photo-2825039.jpeg",inclusions:["Accommodation","Meals","Guided Meditation","Nature Walks"],isGroup:!1},{id:2,title:"Coastal Serenity Package",location:"Varkala, Kerala",duration:4,price:2e4,image:"https://images.pexels.com/photos/1591373/pexels-photo-1591373.jpeg",inclusions:["Accommodation","Breakfast","Yoga Sessions","Beach Time"],isGroup:!1},{id:3,title:"Group Spiritual Journey",location:"Rishikesh, Uttarakhand",duration:7,price:35e3,image:"https://images.pexels.com/photos/7266781/pexels-photo-7266781.jpeg",inclusions:["Accommodation","All Meals","Group Therapy","Yoga & Meditation"],isGroup:!0,participants:12,startDate:"Jun 15, 2025"},{id:4,title:"Mountain Healing Collective",location:"Manali, Himachal Pradesh",duration:6,price:3e4,image:"https://images.pexels.com/photos/2356045/pexels-photo-2356045.jpeg",inclusions:["Accommodation","All Meals","Group Activities","Nature Therapy"],isGroup:!0,participants:8,startDate:"Jul 10, 2025"}],EL=()=>{const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,a]=O.useState("destinations"),[u,d]=O.useState(null),[f,p]=O.useState(null),_=TL.filter(x=>(t===""||x.state===t)&&(n===""||x.name.toLowerCase().includes(n.toLowerCase())||x.state.toLowerCase().includes(n.toLowerCase())||x.type.toLowerCase().includes(n.toLowerCase()))),w=gx.filter(x=>(f===null||x.duration<=f)&&(n===""||x.title.toLowerCase().includes(n.toLowerCase())||x.location.toLowerCase().includes(n.toLowerCase())));return g.jsx(iu,{children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-3",children:"Healing Trips"}),g.jsx("p",{className:"text-accent-700 mb-8 text-lg",children:"Discover peaceful destinations across India to aid your healing journey."})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden mb-8",children:[g.jsx("div",{className:"flex items-center p-4 border-b border-accent-100",children:g.jsxs("div",{className:"relative flex-1",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Qg,{size:18,className:"text-accent-500"})}),g.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search destinations or packages...",value:n,onChange:x=>e(x.target.value)})]})}),g.jsxs("div",{className:"flex border-b border-accent-100",children:[g.jsxs("button",{className:`px-6 py-4 font-medium text-sm transition-colors ${s==="destinations"?"text-primary-700 border-b-2 border-primary-500":"text-accent-600 hover:text-primary-600"}`,onClick:()=>a("destinations"),children:[g.jsx(X4,{size:16,className:"inline-block mr-2"}),"Destinations"]}),g.jsxs("button",{className:`px-6 py-4 font-medium text-sm transition-colors ${s==="packages"?"text-primary-700 border-b-2 border-primary-500":"text-accent-600 hover:text-primary-600"}`,onClick:()=>a("packages"),children:[g.jsx(Os,{size:16,className:"inline-block mr-2"}),"Packages"]}),g.jsxs("button",{className:`px-6 py-4 font-medium text-sm transition-colors ${s==="group"?"text-primary-700 border-b-2 border-primary-500":"text-accent-600 hover:text-primary-600"}`,onClick:()=>a("group"),children:[g.jsx(fm,{size:16,className:"inline-block mr-2"}),"Group Travel"]})]}),s==="destinations"&&g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex flex-wrap mb-6",children:[g.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium mr-2 mb-2 ${t===""?"bg-primary-500 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,onClick:()=>r(""),children:"All States"}),xL.map(x=>g.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium mr-2 mb-2 ${t===x?"bg-primary-500 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,onClick:()=>r(x),children:x},x))]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(x=>g.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all cursor-pointer ${u===x.id?"ring-2 ring-primary-500":"border border-accent-100"}`,onClick:()=>d(x.id===u?null:x.id),children:[g.jsxs("div",{className:"relative h-48 overflow-hidden",children:[g.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute top-4 left-4 bg-white/90 px-3 py-1 rounded-full text-xs font-medium text-primary-700",children:x.type})]}),g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-primary-800",children:x.name}),g.jsxs("p",{className:"text-sm text-accent-600 flex items-center mt-1",children:[g.jsx(lh,{size:14,className:"mr-1"}),x.state]})]}),g.jsxs("div",{className:"flex items-center bg-primary-50 px-2 py-1 rounded",children:[g.jsx(iL,{size:14,className:"text-warning-500 mr-1",fill:"currentColor"}),g.jsx("span",{className:"text-sm font-medium",children:x.rating})]})]}),u===x.id&&g.jsxs(Ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t border-accent-100",children:[g.jsx("p",{className:"text-sm text-accent-700 mb-3",children:"A peaceful destination perfect for reflection and healing amid nature."}),g.jsx("button",{className:"btn-primary w-full text-sm",children:"View Travel Packages"})]})]})]},x.id))})]}),s==="packages"&&g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex flex-wrap mb-6",children:[g.jsx("span",{className:"text-accent-700 mr-3 flex items-center",children:"Duration:"}),[null,3,5,7,10].map(x=>g.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium mr-2 mb-2 ${f===x?"bg-primary-500 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,onClick:()=>p(x),children:x===null?"Any":`${x} days or less`},x===null?"all":x))]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.filter(x=>!x.isGroup).map(x=>g.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all border border-accent-100 flex flex-col sm:flex-row",children:[g.jsx("div",{className:"sm:w-2/5 h-48 sm:h-auto",children:g.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"p-4 sm:w-3/5",children:[g.jsx("h3",{className:"font-medium text-primary-800 text-lg",children:x.title}),g.jsxs("p",{className:"text-sm text-accent-600 flex items-center mt-1 mb-3",children:[g.jsx(lh,{size:14,className:"mr-1"}),x.location]}),g.jsxs("div",{className:"flex items-center mb-3",children:[g.jsxs("div",{className:"px-3 py-1 bg-primary-50 rounded-full text-xs text-primary-700 font-medium mr-2",children:[x.duration," days"]}),g.jsxs("div",{className:"px-3 py-1 bg-secondary-50 rounded-full text-xs text-secondary-700 font-medium",children:["",x.price.toLocaleString()]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("p",{className:"text-xs text-accent-700 mb-1",children:"Inclusions:"}),g.jsx("div",{className:"flex flex-wrap",children:x.inclusions.map((A,D)=>g.jsx("span",{className:"text-xs bg-accent-50 text-accent-700 px-2 py-1 rounded mr-1 mb-1",children:A},D))})]}),g.jsx("button",{className:"btn-primary w-full text-sm",children:"View Details"})]})]},x.id))})]}),s==="group"&&g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg mb-6",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Group Healing Journeys"}),g.jsx("p",{className:"text-sm text-accent-700",children:"Travel with others who understand your journey. Our group packages include guided activities and shared experiences to support collective healing."})]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:gx.filter(x=>x.isGroup).map(x=>g.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all border border-accent-100 flex flex-col sm:flex-row",children:[g.jsxs("div",{className:"sm:w-2/5 h-48 sm:h-auto relative",children:[g.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute top-4 left-4 bg-secondary-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Group Trip"})]}),g.jsxs("div",{className:"p-4 sm:w-3/5",children:[g.jsx("h3",{className:"font-medium text-primary-800 text-lg",children:x.title}),g.jsxs("p",{className:"text-sm text-accent-600 flex items-center mt-1 mb-2",children:[g.jsx(lh,{size:14,className:"mr-1"}),x.location]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[g.jsxs("div",{className:"px-3 py-1 bg-primary-50 rounded text-xs text-primary-700",children:[g.jsx(Os,{size:12,className:"inline mr-1"}),x.startDate]}),g.jsxs("div",{className:"px-3 py-1 bg-secondary-50 rounded text-xs text-secondary-700",children:[g.jsx(fm,{size:12,className:"inline mr-1"}),x.participants," joined"]}),g.jsxs("div",{className:"px-3 py-1 bg-accent-50 rounded text-xs text-accent-700",children:[x.duration," days"]}),g.jsxs("div",{className:"px-3 py-1 bg-success-50 rounded text-xs text-success-700",children:["",x.price.toLocaleString()]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("p",{className:"text-xs text-accent-700 mb-1",children:"Inclusions:"}),g.jsx("div",{className:"flex flex-wrap",children:x.inclusions.map((A,D)=>g.jsx("span",{className:"text-xs bg-accent-50 text-accent-700 px-2 py-1 rounded mr-1 mb-1",children:A},D))})]}),g.jsx("button",{className:"btn-primary w-full text-sm",children:"Join This Journey"})]})]},x.id))})]})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},className:"bg-white rounded-2xl shadow-md p-8 mb-8",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Why Travel Aids Healing"}),g.jsx("p",{className:"text-accent-700 mb-6",children:"Changing your environment can significantly impact your emotional healing process."}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-primary-50 rounded-lg p-6",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Physical Distance Creates Mental Space"}),g.jsx("p",{className:"text-accent-700 text-sm",children:"Being in a new place helps create mental distance from painful memories and associations."})]}),g.jsxs("div",{className:"bg-secondary-50 rounded-lg p-6",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Nature's Healing Power"}),g.jsx("p",{className:"text-accent-700 text-sm",children:"Natural environments have been shown to reduce stress, anxiety, and rumination."})]}),g.jsxs("div",{className:"bg-accent-50 rounded-lg p-6",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"New Perspectives"}),g.jsx("p",{className:"text-accent-700 text-sm",children:"Encountering different cultures and ways of life can help reframe your own experiences."})]}),g.jsxs("div",{className:"bg-success-50 rounded-lg p-6",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Shared Healing"}),g.jsx("p",{className:"text-accent-700 text-sm",children:"Group journeys create connections with others who understand, reducing isolation."})]})]})]})]})})},SL=[{id:1,name:"Dr. Ananya Sharma",specialization:"Relationship Counseling",location:"Mumbai, Maharashtra",distance:2.5,rating:4.9,verified:!0,image:"https://images.pexels.com/photos/5490276/pexels-photo-5490276.jpeg",availableToday:!0},{id:2,name:"Dr. Rajiv Mehta",specialization:"Grief & Loss Therapy",location:"Delhi, Delhi",distance:4.8,rating:4.7,verified:!0,image:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg",availableToday:!1},{id:3,name:"Ms. Priya Desai",specialization:"Emotional Recovery",location:"Bangalore, Karnataka",distance:3.2,rating:4.8,verified:!0,image:"https://images.pexels.com/photos/5699516/pexels-photo-5699516.jpeg",availableToday:!0},{id:4,name:"Dr. Karan Singhania",specialization:"Trauma & Heartbreak",location:"Chennai, Tamil Nadu",distance:5.1,rating:4.6,verified:!1,image:"https://images.pexels.com/photos/6129507/pexels-photo-6129507.jpeg",availableToday:!0},{id:5,name:"Ms. Neha Kapoor",specialization:"Self-Esteem Building",location:"Pune, Maharashtra",distance:1.8,rating:4.9,verified:!0,image:"https://images.pexels.com/photos/7584538/pexels-photo-7584538.jpeg",availableToday:!1},{id:6,name:"Dr. Vikram Reddy",specialization:"Attachment Issues",location:"Hyderabad, Telangana",distance:6.3,rating:4.7,verified:!0,image:"https://images.pexels.com/photos/5327921/pexels-photo-5327921.jpeg",availableToday:!0}],IL=()=>{const[n,e]=O.useState(""),[t,r]=O.useState(null),[s,a]=O.useState(!1),[u,d]=O.useState(!1);let f=SL.filter(p=>(n===""||p.name.toLowerCase().includes(n.toLowerCase())||p.specialization.toLowerCase().includes(n.toLowerCase())||p.location.toLowerCase().includes(n.toLowerCase()))&&(!s||p.availableToday));return u&&(f=[...f].sort((p,_)=>p.distance-_.distance)),g.jsx(iu,{children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-primary-800 mb-3",children:"Mental Wellness"}),g.jsx("p",{className:"text-accent-700 mb-8 text-lg",children:"Connect with mental health professionals who specialize in heartbreak recovery."})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden mb-8",children:[g.jsxs("div",{className:"flex items-center p-4 border-b border-accent-100",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Qg,{size:18,className:"text-accent-500"})}),g.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search therapists by name, specialization, or location...",value:n,onChange:p=>e(p.target.value)})]}),g.jsxs("div",{className:"ml-4 flex space-x-2",children:[g.jsxs("button",{onClick:()=>a(!s),className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center ${s?"bg-primary-500 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:[g.jsx(Os,{size:16,className:"mr-2"}),"Available Today"]}),g.jsxs("button",{onClick:()=>d(!u),className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center ${u?"bg-primary-500 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:[g.jsx(Y4,{size:16,className:"mr-2"}),"Sort by Distance"]})]})]}),g.jsx("div",{className:"p-6",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>g.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all cursor-pointer ${t===p.id?"ring-2 ring-primary-500":"border border-accent-100"}`,onClick:()=>r(p.id===t?null:p.id),children:[g.jsxs("div",{className:"p-4 pb-0 flex items-center",children:[g.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden mr-4",children:g.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("h3",{className:"font-medium text-primary-800",children:p.name}),p.verified&&g.jsx("span",{className:"ml-2 text-success-500",title:"Verified Professional",children:g.jsx(Q4,{size:16,fill:"currentColor"})})]}),g.jsx("p",{className:"text-sm text-accent-600",children:p.specialization})]})]}),g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("p",{className:"text-xs text-accent-600 flex items-center",children:[g.jsx(lh,{size:12,className:"mr-1"}),p.location]}),g.jsxs("p",{className:"text-xs text-accent-600",children:[p.distance," km away"]})]}),g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"bg-primary-50 px-2 py-1 rounded text-xs text-primary-700",children:["Rating: ",p.rating,"/5"]}),p.availableToday?g.jsx("div",{className:"bg-success-50 px-2 py-1 rounded text-xs text-success-700",children:"Available Today"}):g.jsx("div",{className:"bg-accent-50 px-2 py-1 rounded text-xs text-accent-700",children:"Next Week"})]}),t===p.id&&g.jsxs(Ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"pt-4 border-t border-accent-100",children:[g.jsx("p",{className:"text-sm text-accent-700 mb-4",children:"Specializes in helping individuals navigate the emotional challenges of heartbreak and relationship transitions."}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("button",{className:"btn-primary text-sm flex items-center justify-center py-2",children:[g.jsx(Os,{size:16,className:"mr-2"}),"Book Session"]}),g.jsxs("button",{className:"btn-outline text-sm flex items-center justify-center py-2",children:[g.jsx(fx,{size:16,className:"mr-2"}),"Chat"]})]})]})]})]},p.id))})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.8},className:"bg-white rounded-2xl shadow-md p-8",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Types of Support Available"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center mr-3 flex-shrink-0",children:g.jsx(Os,{size:20,className:"text-primary-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-primary-800",children:"One-on-One Sessions"}),g.jsx("p",{className:"text-sm text-accent-700",children:"Private therapy sessions focused specifically on heartbreak recovery."})]})]}),g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary-100 flex items-center justify-center mr-3 flex-shrink-0",children:g.jsx(fm,{size:20,className:"text-secondary-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-primary-800",children:"Group Therapy"}),g.jsx("p",{className:"text-sm text-accent-700",children:"Facilitated groups where you can connect with others going through similar experiences."})]})]}),g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-accent-100 flex items-center justify-center mr-3 flex-shrink-0",children:g.jsx(fx,{size:20,className:"text-accent-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-primary-800",children:"Text Support"}),g.jsx("p",{className:"text-sm text-accent-700",children:"Text-based therapy for moments when you need immediate guidance."})]})]}),g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-success-100 flex items-center justify-center mr-3 flex-shrink-0",children:g.jsx(px,{size:20,className:"text-success-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-primary-800",children:"Crisis Support"}),g.jsx("p",{className:"text-sm text-accent-700",children:"24/7 emergency support for moments of acute emotional distress."})]})]})]})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},className:"bg-white rounded-2xl shadow-md p-8",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Upcoming Group Sessions"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg border border-primary-100",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h3",{className:"font-medium text-primary-800",children:"Moving Beyond Heartbreak"}),g.jsx("span",{className:"bg-primary-100 text-primary-700 text-xs px-2 py-1 rounded",children:"Online"})]}),g.jsxs("div",{className:"flex items-center text-accent-600 text-sm mb-3",children:[g.jsx(Os,{size:14,className:"mr-1"}),g.jsx("span",{className:"mr-3",children:"Tomorrow, 7:00 PM"}),g.jsx(dx,{size:14,className:"mr-1"}),g.jsx("span",{children:"90 minutes"})]}),g.jsx("p",{className:"text-sm text-accent-700 mb-3",children:"A supportive group session focused on practical strategies for moving forward after a relationship ends."}),g.jsx("button",{className:"btn-primary text-sm w-full",children:"Reserve Spot (4 left)"})]}),g.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg border border-secondary-100",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h3",{className:"font-medium text-primary-800",children:"Rebuilding Self-Worth"}),g.jsx("span",{className:"bg-secondary-100 text-secondary-700 text-xs px-2 py-1 rounded",children:"In Person"})]}),g.jsxs("div",{className:"flex items-center text-accent-600 text-sm mb-3",children:[g.jsx(Os,{size:14,className:"mr-1"}),g.jsx("span",{className:"mr-3",children:"Saturday, 11:00 AM"}),g.jsx(dx,{size:14,className:"mr-1"}),g.jsx("span",{children:"2 hours"})]}),g.jsx("p",{className:"text-sm text-accent-700 mb-3",children:"Focused on rebuilding confidence and self-esteem after experiencing heartbreak."}),g.jsx("button",{className:"btn-primary text-sm w-full",children:"Reserve Spot (2 left)"})]})]})]})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.8},className:"bg-white rounded-2xl shadow-md p-8 mb-8",children:[g.jsx("h2",{className:"text-xl font-display font-semibold text-primary-800 mb-4",children:"Emotional First Aid Resources"}),g.jsx("p",{className:"text-accent-700 mb-6",children:"For moments when you need immediate support or self-help resources."}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-primary-50 rounded-lg p-4 border border-primary-100",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Crisis Helpline"}),g.jsx("p",{className:"text-sm text-accent-700 mb-3",children:"24/7 emotional support for moments of crisis."}),g.jsxs("a",{href:"tel:1800-599-0019",className:"btn-primary text-sm w-full flex items-center justify-center",children:[g.jsx(px,{size:16,className:"mr-2"}),"1800-599-0019"]})]}),g.jsxs("div",{className:"bg-accent-50 rounded-lg p-4 border border-accent-100",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Guided Meditations"}),g.jsx("p",{className:"text-sm text-accent-700 mb-3",children:"Audio meditations for calming intense emotions."}),g.jsx("button",{className:"btn-primary text-sm w-full",children:"Listen Now"})]}),g.jsxs("div",{className:"bg-success-50 rounded-lg p-4 border border-success-100",children:[g.jsx("h3",{className:"font-medium text-primary-800 mb-2",children:"Self-Care Checklist"}),g.jsx("p",{className:"text-sm text-accent-700 mb-3",children:"Simple daily practices for emotional wellbeing."}),g.jsx("button",{className:"btn-primary text-sm w-full",children:"View Checklist"})]})]})]})]})})},AL=()=>g.jsx("div",{className:"min-h-screen bg-primary-50 flex flex-col items-center justify-center p-6",children:g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-lg",children:[g.jsx(nr,{size:64,className:"text-secondary-500 mx-auto mb-6 animate-float"}),g.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-primary-800 mb-4",children:"Page Not Found"}),g.jsx("p",{className:"text-lg text-accent-700 mb-8",children:"It seems you've wandered off your healing path. Let's get you back to a safe space."}),g.jsxs(ht,{to:"/",className:"btn-primary inline-flex items-center",children:[g.jsx(Wg,{size:20,className:"mr-2"}),"Return to Home"]})]})}),PL=()=>{const n=su();return O.useEffect(()=>{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("error");if(r){n("/music",{state:{error:"Authentication failed. Please try again.",details:r}});return}t?(Oi.setAccessToken(t),localStorage.setItem("spotify_token",t),localStorage.setItem("spotify_token_timestamp",Date.now().toString()),n("/music",{state:{success:!0}})):n("/music",{state:{error:"No access token received. Please try again."}})},[n]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary-50 to-white",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),g.jsx("p",{className:"mt-4 text-accent-600",children:"Connecting to Spotify..."})]})})},CL=()=>g.jsxs("div",{className:"fixed inset-0 bg-primary-50 flex flex-col items-center justify-center z-50",children:[g.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},children:g.jsx(nr,{size:48,className:"text-secondary-500"})}),g.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 text-primary-700 font-medium",children:"Preparing your healing journey..."})]}),RL=()=>{const{isAuthenticated:n,loading:e}=Xs(),t=Ir();return e?g.jsx(CL,{}):n?g.jsx(zA,{}):g.jsx(BA,{to:"/login\\",state:{from:t},replace:!0})};function kL(){const n=Ir();return g.jsx(sP,{mode:"wait",children:g.jsxs(HA,{location:n,children:[g.jsx(Jn,{path:"/",element:g.jsx(oL,{})}),g.jsx(Jn,{path:"/login",element:g.jsx(aL,{})}),g.jsx(Jn,{path:"/signup",element:g.jsx(lL,{})}),g.jsxs(Jn,{element:g.jsx(RL,{}),children:[g.jsx(Jn,{path:"/dashboard",element:g.jsx(cL,{})}),g.jsx(Jn,{path:"/music",element:g.jsx(wL,{})}),g.jsx(Jn,{path:"/trips",element:g.jsx(EL,{})}),g.jsx(Jn,{path:"/wellness",element:g.jsx(IL,{})})]}),g.jsx(Jn,{path:"*",element:g.jsx(AL,{})}),g.jsx(Jn,{path:"/callback",element:g.jsx(PL,{})})]},n.pathname)})}function NL(){return g.jsx(K4,{children:g.jsx(XA,{children:g.jsx(kL,{})})})}QI.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(NL,{})}));
